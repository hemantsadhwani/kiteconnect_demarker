
================================================================================
NEW SESSION STARTED: 2026-01-22 09:07:46
================================================================================

2026-01-22 09:07:46,565 - __main__ - INFO - ================================================================================
2026-01-22 09:07:46,565 - __main__ - INFO - PRODUCTION LOGGING STARTED - Logs will be appended to: output/production_logs.txt
2026-01-22 09:07:46,565 - __main__ - INFO - DAILY TERMINAL LOG STARTED - Logs will be appended to: logs/dynamic_atm_strike_jan22.log (auto-truncated per day)
2026-01-22 09:07:46,565 - __main__ - INFO - Session started at: 2026-01-22 09:07:46
2026-01-22 09:07:46,565 - __main__ - INFO - ================================================================================
2026-01-22 09:07:46,566 - __main__ - INFO - [START] Initializing Async Trading Bot...
2026-01-22 09:07:46,580 - __main__ - INFO - Configuration loaded from config.yaml
2026-01-22 09:07:46,580 - __main__ - INFO - Dynamic ATM enabled: True
2026-01-22 09:07:46,580 - __main__ - INFO - Automated market sentiment enabled: True
2026-01-22 09:07:46,581 - __main__ - INFO - Trading symbols loaded: ['underlying_symbol', 'underlying_token', 'atm_strike', 'ce_symbol', 'ce_token', 'pe_symbol', 'pe_token']
2026-01-22 09:07:46,581 - root - INFO - Attempting to get a valid Kite API session...
2026-01-22 09:07:54,702 - root - INFO - Successfully obtained a valid Kite API session.
2026-01-22 09:07:54,702 - __main__ - INFO - Kite API initialized
2026-01-22 09:07:54,704 - trade_ledger - INFO - Initialized new ledger for 2026-01-22
2026-01-22 09:07:54,704 - __main__ - INFO - Trade ledger initialized
2026-01-22 09:07:54,704 - trailing_max_drawdown_manager - INFO - Trailing Max Drawdown Manager initialized: Capital=35,000.00, Loss Mark=30.0%
2026-01-22 09:07:54,705 - __main__ - INFO - Trailing max drawdown manager initialized
2026-01-22 09:07:54,705 - trade_state_manager - INFO - Trade state loaded successfully.
2026-01-22 09:07:54,746 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 09:07:54,747 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 09:07:54,747 - __main__ - INFO - State manager initialized
2026-01-22 09:07:54,747 - __main__ - INFO - Indicator manager initialized
2026-01-22 09:07:54,747 - async_api_server - INFO - Initialized config with 18 settings
2026-01-22 09:07:54,747 - async_api_server - INFO - Initialized config with 1 settings
2026-01-22 09:07:54,747 - __main__ - INFO - API server initialized
2026-01-22 09:07:54,748 - async_api_server - INFO - [OK] Async API server started on localhost:5000
2026-01-22 09:07:54,748 - event_system - WARNING - [WARN] Event dispatcher not running! Event system_startup may be lost.
2026-01-22 09:07:54,748 - __main__ - INFO - [API] API server started early - control panel can connect now
2026-01-22 09:07:54,758 - realtime_position_manager - INFO - RealTimePositionManager initialized: check_interval=1.0s, gap_threshold=2.0%
2026-01-22 09:07:54,758 - immediate_exit_executor - INFO - ImmediateExitExecutor initialized: max_retries=3, validation_enabled=True
2026-01-22 09:07:54,758 - async_event_handlers - INFO - [OK] Real-time position management enabled
2026-01-22 09:07:54,758 - __main__ - INFO - Event handlers initialized
2026-01-22 09:07:54,758 - event_system - INFO - [OK] Event dispatcher started and processing events
2026-01-22 09:07:54,758 - __main__ - INFO - [EVENT] Event dispatcher started early - commands can be processed now
2026-01-22 09:07:54,759 - root - INFO - Current time: 09:07:54, Market open time: 09:15:00, Is after market open: False
2026-01-22 09:07:54,759 - __main__ - INFO - [CLOCK] Market not yet open. Waiting for market to open...
2026-01-22 09:07:54,759 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:07:05
2026-01-22 09:07:54,759 - event_system - INFO - [START] Event processing loop started - ready to process events
2026-01-22 09:08:15,590 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:09:08:15 +0530] "GET /health HTTP/1.1" 200 240 "-" "python-requests/2.32.4"
2026-01-22 09:08:15,592 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:09:08:15 +0530] "GET /get_config?key=MANUAL_MARKET_SENTIMENT HTTP/1.1" 200 231 "-" "python-requests/2.32.4"
2026-01-22 09:08:24,760 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:06:35
2026-01-22 09:08:54,762 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:06:05
2026-01-22 09:09:24,763 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:05:35
2026-01-22 09:09:54,764 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:05:05
2026-01-22 09:10:24,766 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:04:35
2026-01-22 09:10:54,768 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:04:05
2026-01-22 09:11:24,769 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:03:35
2026-01-22 09:11:54,770 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:03:05
2026-01-22 09:12:24,772 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:02:35
2026-01-22 09:12:54,774 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:02:05
2026-01-22 09:13:24,775 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:01:35
2026-01-22 09:13:54,777 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:01:05
2026-01-22 09:14:24,778 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:00:35
2026-01-22 09:14:54,780 - __main__ - INFO - [TIME] Waiting for market to open... Time remaining: 00:00:05
2026-01-22 09:15:24,782 - __main__ - INFO - [CLOCK] Market is now open! Proceeding to get opening price...
2026-01-22 09:15:24,782 - root - INFO - Attempt 1/3: Fetching NIFTY opening price...
2026-01-22 09:15:24,811 - root - INFO - Daily candle data not available yet, trying 1-minute candles...
2026-01-22 09:15:24,811 - root - INFO - Fetching minute data from 2026-01-22 09:15:00 to 2026-01-23 00:00:00
2026-01-22 09:15:24,835 - root - WARNING - No historical data found yet. First candle hasn't completed (completes at 9:16:00). Waiting 36 seconds until first candle completes...
2026-01-22 09:16:00,835 - root - INFO - Attempt 2/3: Fetching NIFTY opening price...
2026-01-22 09:16:00,872 - root - INFO - [OK] Retrieved NIFTY 50 opening price from daily historical data: 25344.6
2026-01-22 09:16:00,873 - __main__ - INFO - [CHART] Processing NIFTY opening price: 25344.6
2026-01-22 09:16:00,873 - root - INFO - NIFTY Price: 25344.6, CE ATM Strike: 25300 (FLOOR), PE ATM Strike: 25350 (CEIL)
2026-01-22 09:16:00,873 - root - INFO - Expiry calculation: Next expiry (2026-01-27) corresponds to the last Tuesday of the month (2026-01-27). Using monthly expiry format.
2026-01-22 09:16:00,873 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 09:16:00,873 - root - INFO - Generated symbols: CE=NIFTY26JAN25300CE, PE=NIFTY26JAN25350PE
2026-01-22 09:16:04,536 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 09:16:04,537 - root - INFO - CE: NIFTY26JAN25300CE (Token: 15025922)
2026-01-22 09:16:04,537 - root - INFO - PE: NIFTY26JAN25350PE (Token: 15028226)
2026-01-22 09:16:04,537 - __main__ - INFO - [OK] Successfully derived and updated PE & CE strikes
2026-01-22 09:16:04,537 - __main__ - INFO - CE: NIFTY26JAN25300CE (Strike: 25300)
2026-01-22 09:16:04,537 - __main__ - INFO - PE: NIFTY26JAN25350PE (Strike: 25350)
2026-01-22 09:16:04,537 - __main__ - INFO - [OK] Keeping NIFTY 50 subscribed for automated sentiment processing
2026-01-22 09:16:04,537 - entry_conditions - INFO - [CONFIG DEBUG] EntryConditionManager initialized. TRADE_SETTINGS keys: ['QUANTITY', 'CAPITAL', 'PRODUCT', 'VALIDATE_ENTRY_RISK', 'REVERSAL_MAX_SWING_LOW_DISTANCE_PERCENT', 'CONTINUATION_MAX_SUPERTREND_DISTANCE_PERCENT', 'STOP_LOSS_PRICE_THRESHOLD', 'STOP_LOSS_PERCENT', 'TAKE_PROFIT_PERCENT', 'DYNAMIC_TRAILING_MA', 'DYNAMIC_TRAILING_MA_THRESH', 'CE_ENTRY_CONDITIONS', 'PE_ENTRY_CONDITIONS', 'WAIT_BARS_RSI', 'ENTRY2_CONFIRMATION_WINDOW', 'FLEXIBLE_STOCHRSI_CONFIRMATION', 'DEBUG_ENTRY2', 'SKIP_FIRST']
2026-01-22 09:16:04,541 - entry_conditions - INFO - Entry2 confirmation window: 4 candles
2026-01-22 09:16:04,541 - entry_conditions - INFO - Entry2 flexible StochRSI confirmation: True
2026-01-22 09:16:04,541 - entry_conditions - INFO - DEBUG_ENTRY2 is disabled - using production Entry2 with full requirements
2026-01-22 09:16:04,541 - entry_conditions - INFO - ✅ MARKET_SENTIMENT_FILTER is DISABLED - Both CE and PE trades can occur simultaneously regardless of sentiment
2026-01-22 09:16:04,541 - entry_conditions - INFO - Price zone filter enabled (DYNAMIC_ATM): Entry price must be between 20 and 250
2026-01-22 09:16:04,541 - entry_conditions - INFO - Time distribution filter ENABLED - Enabled zones: ['09:15-10:00', '10:00-11:00', '11:00-12:00', '13:00-14:00', '14:00-15:30']
2026-01-22 09:16:04,541 - entry_conditions - INFO - Time distribution filter - Disabled zones (no trade zones): ['12:00-13:00']
2026-01-22 09:16:04,541 - entry_conditions - INFO - SKIP_FIRST feature disabled
2026-01-22 09:16:04,542 - __main__ - INFO - Entry condition manager initialized
2026-01-22 09:16:04,542 - __main__ - INFO - [OK] Strikes derived. Subscribing to CE, PE, and NIFTY 50 tokens (Dynamic ATM, Automated Sentiment enabled).
2026-01-22 09:16:04,542 - __main__ - INFO - WebSocket handler initialized
2026-01-22 09:16:04,542 - __main__ - INFO - Strategy executor initialized
2026-01-22 09:16:04,542 - __main__ - INFO - Initializing Dynamic ATM Strike Manager...
2026-01-22 09:16:04,556 - root - INFO - Attempt 1/3: Fetching NIFTY opening price...
2026-01-22 09:16:04,630 - root - INFO - [OK] Retrieved NIFTY 50 opening price from daily historical data: 25344.6
2026-01-22 09:16:04,630 - root - INFO - NIFTY Price: 25344.6, CE ATM Strike: 25300 (FLOOR), PE ATM Strike: 25350 (CEIL)
2026-01-22 09:16:04,631 - __main__ - INFO - [OK] Dynamic ATM Manager initialized: CE=25300, PE=25350 (NIFTY=25344.6)
2026-01-22 09:16:04,631 - __main__ - INFO - Initializing Automated Market Sentiment Manager...
2026-01-22 09:16:04,634 - __main__ - INFO - Using Market Sentiment v2 (improved implementation)
2026-01-22 09:16:04,637 - market_sentiment_v2.realtime_sentiment_manager - INFO - RealTimeMarketSentimentManager (v2) initialized
2026-01-22 09:16:04,638 - __main__ - INFO - [OK] Automated Market Sentiment Manager (v2) initialized. Analyzer will initialize when first candle is processed (matches backtesting behavior). (config: market_sentiment_v2/config.yaml)
2026-01-22 09:16:04,638 - entry_conditions - INFO - [CONFIG DEBUG] EntryConditionManager initialized. TRADE_SETTINGS keys: ['QUANTITY', 'CAPITAL', 'PRODUCT', 'VALIDATE_ENTRY_RISK', 'REVERSAL_MAX_SWING_LOW_DISTANCE_PERCENT', 'CONTINUATION_MAX_SUPERTREND_DISTANCE_PERCENT', 'STOP_LOSS_PRICE_THRESHOLD', 'STOP_LOSS_PERCENT', 'TAKE_PROFIT_PERCENT', 'DYNAMIC_TRAILING_MA', 'DYNAMIC_TRAILING_MA_THRESH', 'CE_ENTRY_CONDITIONS', 'PE_ENTRY_CONDITIONS', 'WAIT_BARS_RSI', 'ENTRY2_CONFIRMATION_WINDOW', 'FLEXIBLE_STOCHRSI_CONFIRMATION', 'DEBUG_ENTRY2', 'SKIP_FIRST']
2026-01-22 09:16:04,641 - entry_conditions - INFO - Entry2 confirmation window: 4 candles
2026-01-22 09:16:04,641 - entry_conditions - INFO - Entry2 flexible StochRSI confirmation: True
2026-01-22 09:16:04,641 - entry_conditions - INFO - DEBUG_ENTRY2 is disabled - using production Entry2 with full requirements
2026-01-22 09:16:04,642 - entry_conditions - INFO - ✅ MARKET_SENTIMENT_FILTER is DISABLED - Both CE and PE trades can occur simultaneously regardless of sentiment
2026-01-22 09:16:04,642 - entry_conditions - INFO - Price zone filter enabled (DYNAMIC_ATM): Entry price must be between 20 and 250
2026-01-22 09:16:04,642 - entry_conditions - INFO - Time distribution filter ENABLED - Enabled zones: ['09:15-10:00', '10:00-11:00', '11:00-12:00', '13:00-14:00', '14:00-15:30']
2026-01-22 09:16:04,642 - entry_conditions - INFO - Time distribution filter - Disabled zones (no trade zones): ['12:00-13:00']
2026-01-22 09:16:04,642 - entry_conditions - INFO - SKIP_FIRST feature disabled
2026-01-22 09:16:04,642 - __main__ - INFO - Entry condition manager initialized
2026-01-22 09:16:04,642 - realtime_position_manager - INFO - [OK] RealTimePositionManager started (CANDLE_FORMED handler registered for MA trailing)
2026-01-22 09:16:04,642 - __main__ - INFO - [OK] Real-time position manager started
2026-01-22 09:16:04,642 - __main__ - INFO - Performing full reconciliation during initialization...
2026-01-22 09:16:04,736 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 09:16:04,736 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 09:16:04,736 - __main__ - INFO - Full reconciliation completed successfully
2026-01-22 09:16:04,736 - __main__ - INFO - Resetting crossover indices during initialization...
2026-01-22 09:16:04,736 - __main__ - INFO - Crossover indices reset successfully
2026-01-22 09:16:04,736 - __main__ - INFO - [RISK] Risk watchdog loop started
2026-01-22 09:16:04,736 - __main__ - INFO - [RISK] Live MARK2MARKET drawdown watchdog loop started
2026-01-22 09:16:04,736 - __main__ - INFO - [OK] Async Trading Bot initialized successfully
2026-01-22 09:16:04,736 - __main__ - INFO - [START] Starting Async Trading Bot...
2026-01-22 09:16:04,737 - __main__ - INFO - [VERIFY] Event dispatcher status. Running: True, Task: True
2026-01-22 09:16:04,737 - __main__ - INFO - Attempting WebSocket connection (attempt 1/3)...
2026-01-22 09:16:04,737 - async_live_ticker_handler - INFO - Starting async WebSocket listener...
2026-01-22 09:16:04,738 - async_live_ticker_handler - INFO - Async WebSocket is running in a background thread.
2026-01-22 09:16:04,738 - __main__ - INFO - [RISK] Risk watchdog loop running
2026-01-22 09:16:04,739 - __main__ - INFO - [RISK] Live MARK2MARKET drawdown watchdog loop running
2026-01-22 09:16:04,753 - async_live_ticker_handler - INFO - Async WebSocket connected successfully. Subscribing to instrument tokens.
2026-01-22 09:16:04,753 - async_live_ticker_handler - INFO - Successfully subscribed to tokens: [15025922, 15028226, 256265]
2026-01-22 09:16:04,839 - async_live_ticker_handler - INFO - WebSocket connection established in 0.10 seconds
2026-01-22 09:16:04,840 - __main__ - INFO - WebSocket connection established successfully
2026-01-22 09:16:04,840 - __main__ - INFO - [CHART] Subscribed to CE, PE, and NIFTY 50 tokens (automated sentiment enabled)
2026-01-22 09:16:04,840 - async_live_ticker_handler - INFO - Prefilling historical data with hybrid approach...
2026-01-22 09:16:04,940 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25300CE with 375 candles
2026-01-22 09:16:04,947 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY26JAN25300CE: 65 candles
2026-01-22 09:16:04,947 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY26JAN25300CE with 65 candles
2026-01-22 09:16:05,418 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY26JAN25300CE
2026-01-22 09:16:05,520 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25350PE with 375 candles
2026-01-22 09:16:05,526 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY26JAN25350PE: 65 candles
2026-01-22 09:16:05,526 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY26JAN25350PE with 65 candles
2026-01-22 09:16:05,539 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY26JAN25350PE
2026-01-22 09:16:05,637 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY 50 with 375 candles
2026-01-22 09:16:05,641 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY 50: 65 candles
2026-01-22 09:16:05,642 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY 50 with 65 candles
2026-01-22 09:16:05,655 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY 50
2026-01-22 09:16:05,657 - __main__ - INFO - GTT status check task started
2026-01-22 09:16:05,658 - __main__ - INFO - [OK] Entry conditions will be checked on new candle formation only
2026-01-22 09:16:05,658 - __main__ - INFO - [OK] Async Trading Bot started successfully
2026-01-22 09:16:05,658 - __main__ - INFO - Entering main event loop...
2026-01-22 09:16:05,658 - __main__ - INFO - Starting GTT status check task...
2026-01-22 09:17:06,984 - market_sentiment_v2.realtime_sentiment_manager - INFO - Fetched previous day OHLC from Kite API (date: 2026-01-21): High=25300.95, Low=24919.80, Close=25157.50
2026-01-22 09:17:06,984 - market_sentiment_v2.realtime_sentiment_manager - INFO - CPR Levels calculated for 2026-01-22:
2026-01-22 09:17:06,984 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R4: 25888.38
2026-01-22 09:17:06,984 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R3: 25713.52
2026-01-22 09:17:06,984 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R2: 25507.23
2026-01-22 09:17:06,985 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R1: 25332.37
2026-01-22 09:17:06,985 - market_sentiment_v2.realtime_sentiment_manager - INFO -   PIVOT: 25126.08
2026-01-22 09:17:06,985 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S1: 24951.22
2026-01-22 09:17:06,985 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S2: 24744.93
2026-01-22 09:17:06,985 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S3: 24570.07
2026-01-22 09:17:06,985 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S4: 24363.78
2026-01-22 09:17:06,985 - market_sentiment_v2.realtime_sentiment_manager - INFO - CPR Pivot Width (TC - BC) for 2026-01-22:
2026-01-22 09:17:06,985 - market_sentiment_v2.realtime_sentiment_manager - INFO -   TC (Top Central): 25141.79
2026-01-22 09:17:06,985 - market_sentiment_v2.realtime_sentiment_manager - INFO -   BC (Bottom Central): 25110.38
2026-01-22 09:17:06,985 - market_sentiment_v2.realtime_sentiment_manager - INFO -   CPR_PIVOT_WIDTH: 31.42
2026-01-22 09:17:06,985 - market_sentiment_v2.realtime_sentiment_manager - INFO -   Applied dynamic CPR_BAND_WIDTH: 10.00 (based on CPR_PIVOT_WIDTH: 31.42)
2026-01-22 09:17:06,985 - market_sentiment_v2.realtime_sentiment_manager - INFO - TradingSentimentAnalyzer (v2) initialized for real-time mode
2026-01-22 09:17:06,985 - market_sentiment_v2.realtime_sentiment_manager - INFO - [CATCH-UP] Starting mid-day at 09:16:00. Processing missed candles from 9:15 AM...
2026-01-22 09:17:07,448 - market_sentiment_v2.realtime_sentiment_manager - INFO - [CATCH-UP] Processed 1 missed candles. Current candle history: 1
2026-01-22 09:17:07,448 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:16:00] Market Sentiment: BEARISH | OHLC: O=25325.50 H=25327.90 L=25307.20 C=25315.40
2026-01-22 09:17:07,449 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 09:17:07,449 - async_live_ticker_handler - INFO - [09:16:00] Market sentiment CHANGED: BULLISH -> BEARISH
2026-01-22 09:17:07,449 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:16:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:17:07.449 for sentiment: BEARISH
2026-01-22 09:17:07,450 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 09:17:07,451 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=65)
2026-01-22 09:17:07,452 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=65)
2026-01-22 09:17:07,453 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=09:15:00 -> current=09:16:00, expected_timestamp=09:16:00, df_length=65, W%R(9) prev=-95.69 current=-93.88, W%R(28) prev=-95.69 current=-93.95
2026-01-22 09:17:07,453 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-95.69, current=-93.88, threshold=-79, W%R(28) prev=-95.69, current=-93.95, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:17:54,625 - __main__ - WARNING - [RISK] Risk watchdog loop error: HTTPSConnectionPool(host='api.kite.trade', port=443): Read timed out. (read timeout=7)
Traceback (most recent call last):
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/urllib3/connection.py", line 516, in getresponse
    httplib_response = super().getresponse()
  File "/usr/local/lib/python3.13/http/client.py", line 1428, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/http/client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/http/client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "/usr/local/lib/python3.13/ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
TimeoutError: The read operation timed out

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/requests/adapters.py", line 667, in send
    resp = conn.urlopen(
        method=request.method,
    ...<9 lines>...
        chunked=chunked,
    )
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]
    )
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/urllib3/util/retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/urllib3/util/util.py", line 39, in reraise
    raise value
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
        conn,
    ...<10 lines>...
        **response_kw,
    )
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 536, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/urllib3/connectionpool.py", line 367, in _raise_timeout
    raise ReadTimeoutError(
        self, url, f"Read timed out. (read timeout={timeout_value})"
    ) from err
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='api.kite.trade', port=443): Read timed out. (read timeout=7)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ec2-user/kiteconnect_app/async_main_workflow.py", line 455, in _risk_watchdog_loop
    positions = await asyncio.to_thread(self.kite.positions)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/kiteconnect/connect.py", line 445, in positions
    return self._get("portfolio.positions")
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/kiteconnect/connect.py", line 861, in _get
    return self._request(route, "GET", url_args=url_args, params=params, is_json=is_json)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/kiteconnect/connect.py", line 916, in _request
    raise e
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/kiteconnect/connect.py", line 904, in _request
    r = self.reqsession.request(method,
                                url,
    ...<6 lines>...
                                timeout=self.timeout,
                                proxies=self.proxies)
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/home/ec2-user/kiteconnect_app/venv/lib/python3.13/site-packages/requests/adapters.py", line 713, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='api.kite.trade', port=443): Read timed out. (read timeout=7)
2026-01-22 09:18:00,503 - root - INFO - ================================================
2026-01-22 09:18:00,518 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 09:18:00.518 - Latest candle: 09:17:00, DataFrame length: 66
2026-01-22 09:18:00,521 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 09:17:00, O: 154.1, H: 155.3, L: 152.3, C: 154.9, ST: Bull (141.21), W%R (9): -24.3, W%R (28): -23.3, K: 93.6, D: 95.7
2026-01-22 09:18:01,018 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 09:18:01.017 - Latest candle: 09:17:00, DataFrame length: 66
2026-01-22 09:18:01,020 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 09:17:00, O: 143.2, H: 146.1, L: 142.4, C: 142.4, ST: Bear (169.31), W%R (9): -91.6, W%R (28): -92.0, K: 3.0, D: 2.2
2026-01-22 09:18:01,022 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:17:00] Market Sentiment: BEARISH | OHLC: O=25315.90 H=25319.10 L=25312.45 C=25314.60
2026-01-22 09:18:01,022 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:17:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:18:01.022 for sentiment: BEARISH
2026-01-22 09:18:01,023 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 09:18:01,024 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=66)
2026-01-22 09:18:01,025 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=66)
2026-01-22 09:18:01,026 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=09:16:00 -> current=09:17:00, expected_timestamp=09:17:00, df_length=66, W%R(9) prev=-93.88 current=-91.62, W%R(28) prev=-93.95 current=-91.96
2026-01-22 09:18:01,026 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-93.88, current=-91.62, threshold=-79, W%R(28) prev=-93.95, current=-91.96, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:19:00,753 - root - INFO - ================================================
2026-01-22 09:19:00,768 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 09:19:00.767 - Latest candle: 09:18:00, DataFrame length: 67
2026-01-22 09:19:00,771 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 09:18:00, O: 154.8, H: 156.9, L: 150.6, C: 150.7, ST: Bull (141.21), W%R (9): -29.3, W%R (28): -28.0, K: 86.5, D: 92.0
2026-01-22 09:19:01,254 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:18:00] Market Sentiment: BEARISH | OHLC: O=25315.40 H=25320.70 L=25308.50 C=25309.20
2026-01-22 09:19:01,269 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 09:19:01.269 - Latest candle: 09:18:00, DataFrame length: 67
2026-01-22 09:19:01,272 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 09:18:00, O: 141.9, H: 150.8, L: 141.9, C: 150.6, ST: Bear (169.31), W%R (9): -85.4, W%R (28): -86.0, K: 8.5, D: 4.1
2026-01-22 09:19:01,272 - async_event_handlers - INFO - [TIMING] New candle completed at 09:18:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:19:01.272 for sentiment: BEARISH
2026-01-22 09:19:01,273 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 09:19:01,273 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=67)
2026-01-22 09:19:01,274 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=67)
2026-01-22 09:19:01,275 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=09:17:00 -> current=09:18:00, expected_timestamp=09:18:00, df_length=67, W%R(9) prev=-91.62 current=-85.42, W%R(28) prev=-91.96 current=-86.01
2026-01-22 09:19:01,275 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-91.62, current=-85.42, threshold=-79, W%R(28) prev=-91.96, current=-86.01, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:20:00,503 - root - INFO - ================================================
2026-01-22 09:20:00,518 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 09:20:00.517 - Latest candle: 09:19:00, DataFrame length: 68
2026-01-22 09:20:00,520 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 09:19:00, O: 150.8, H: 156.8, L: 149.9, C: 155.8, ST: Bull (141.21), W%R (9): -24.0, W%R (28): -22.3, K: 82.3, D: 87.5
2026-01-22 09:20:00,768 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 09:20:00.767 - Latest candle: 09:19:00, DataFrame length: 68
2026-01-22 09:20:00,770 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 09:19:00, O: 151.4, H: 153.4, L: 142.3, C: 142.4, ST: Bear (169.31), W%R (9): -91.4, W%R (28): -91.9, K: 12.0, D: 7.8
2026-01-22 09:20:00,772 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:19:00] Market Sentiment: BEARISH | OHLC: O=25308.50 H=25318.00 L=25303.30 C=25318.00
2026-01-22 09:20:00,772 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:19:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:20:00.772 for sentiment: BEARISH
2026-01-22 09:20:00,773 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 09:20:00,773 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=68)
2026-01-22 09:20:00,774 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=68)
2026-01-22 09:20:00,775 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=09:18:00 -> current=09:19:00, expected_timestamp=09:19:00, df_length=68, W%R(9) prev=-85.42 current=-91.36, W%R(28) prev=-86.01 current=-91.92
2026-01-22 09:20:00,775 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-85.42, current=-91.36, threshold=-79, W%R(28) prev=-86.01, current=-91.92, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:21:05,004 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:20:00] Market Sentiment: BEARISH | OHLC: O=25317.05 H=25327.85 L=25310.05 C=25325.00
2026-01-22 09:21:15,003 - root - INFO - ================================================
2026-01-22 09:21:15,018 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 09:21:15.018 - Latest candle: 09:20:00, DataFrame length: 69
2026-01-22 09:21:15,020 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 09:20:00, O: 142.4, H: 148.4, L: 135.8, C: 135.9, ST: Bear (169.31), W%R (9): -96.0, W%R (28): -96.6, K: 13.7, D: 11.4
2026-01-22 09:21:16,018 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 09:21:16.018 - Latest candle: 09:20:00, DataFrame length: 69
2026-01-22 09:21:16,021 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 09:20:00, O: 156.1, H: 159.1, L: 151.2, C: 159.1, ST: Bull (141.21), W%R (9): -21.2, W%R (28): -18.7, K: 81.5, D: 83.4
2026-01-22 09:21:16,022 - async_event_handlers - INFO - [TIMING] New candle completed at 09:20:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:21:16.022 for sentiment: BEARISH
2026-01-22 09:21:16,022 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 09:21:16,023 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=69)
2026-01-22 09:21:16,024 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=09:19:00 -> current=09:20:00, expected_timestamp=09:20:00, df_length=69, W%R(9) prev=-23.97 current=-21.22, W%R(28) prev=-22.33 current=-18.70
2026-01-22 09:21:16,024 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-23.97, current=-21.22, threshold=-79, W%R(28) prev=-22.33, current=-18.70, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:21:16,025 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=69)
2026-01-22 09:21:16,025 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=09:19:00 -> current=09:20:00, expected_timestamp=09:20:00, df_length=69, W%R(9) prev=-91.36 current=-96.00, W%R(28) prev=-91.92 current=-96.63
2026-01-22 09:21:16,026 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-91.36, current=-96.00, threshold=-79, W%R(28) prev=-91.92, current=-96.63, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:22:16,003 - root - INFO - ================================================
2026-01-22 09:22:16,018 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 09:22:16.018 - Latest candle: 09:21:00, DataFrame length: 70
2026-01-22 09:22:16,021 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 09:21:00, O: 166.6, H: 167.7, L: 163.8, C: 167.7, ST: Bull (146.90), W%R (9): -10.8, W%R (28): -9.3, K: 84.3, D: 82.7
2026-01-22 09:22:18,018 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 09:22:18.018 - Latest candle: 09:21:00, DataFrame length: 70
2026-01-22 09:22:18,022 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 09:21:00, O: 131.3, H: 132.8, L: 129.0, C: 129.0, ST: Bear (157.84), W%R (9): -100.0, W%R (28): -100.0, K: 11.8, D: 12.5
2026-01-22 09:22:18,023 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:21:00] Market Sentiment: BULLISH | OHLC: O=25328.65 H=25342.05 L=25328.65 C=25339.35
2026-01-22 09:22:18,023 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 09:22:18,024 - async_live_ticker_handler - INFO - [09:21:00] Market sentiment CHANGED: BEARISH -> BULLISH
2026-01-22 09:22:18,024 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:21:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:22:18.024 for sentiment: BULLISH
2026-01-22 09:22:18,025 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 09:22:18,026 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=70)
2026-01-22 09:22:18,026 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=09:20:00 -> current=09:21:00, expected_timestamp=09:21:00, df_length=70, W%R(9) prev=-21.22 current=-10.78, W%R(28) prev=-18.70 current=-9.30
2026-01-22 09:22:18,027 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-21.22, current=-10.78, threshold=-79, W%R(28) prev=-18.70, current=-9.30, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:22:18,027 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=70)
2026-01-22 09:22:18,028 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25350PE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=129.0, close=129.0
2026-01-22 09:23:04,004 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:22:00] Market Sentiment: BULLISH | OHLC: O=25337.85 H=25345.20 L=25335.90 C=25335.90
2026-01-22 09:23:09,753 - root - INFO - ================================================
2026-01-22 09:23:09,768 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 09:23:09.768 - Latest candle: 09:22:00, DataFrame length: 71
2026-01-22 09:23:09,771 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 09:22:00, O: 166.8, H: 170.2, L: 161.9, C: 161.9, ST: Bull (147.49), W%R (9): -18.1, W%R (28): -15.6, K: 82.1, D: 82.6
2026-01-22 09:23:12,268 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 09:23:12.268 - Latest candle: 09:22:00, DataFrame length: 71
2026-01-22 09:23:12,271 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 09:22:00, O: 130.5, H: 133.7, L: 126.5, C: 132.7, ST: Bear (155.79), W%R (9): -94.9, W%R (28): -95.7, K: 12.6, D: 12.7
2026-01-22 09:23:12,272 - async_event_handlers - INFO - [TIMING] New candle completed at 09:22:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:23:12.272 for sentiment: BULLISH
2026-01-22 09:23:12,272 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 09:23:12,273 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=71)
2026-01-22 09:23:12,274 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=09:21:00 -> current=09:22:00, expected_timestamp=09:22:00, df_length=71, W%R(9) prev=-10.78 current=-18.15, W%R(28) prev=-9.30 current=-15.62
2026-01-22 09:23:12,274 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-10.78, current=-18.15, threshold=-79, W%R(28) prev=-9.30, current=-15.62, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:23:12,275 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=71)
2026-01-22 09:23:12,276 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=09:21:00 -> current=09:22:00, expected_timestamp=09:22:00, df_length=71, W%R(9) prev=-100.00 current=-94.87, W%R(28) prev=-100.00 current=-95.69
2026-01-22 09:23:12,276 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-100.00, current=-94.87, threshold=-79, W%R(28) prev=-100.00, current=-95.69, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:24:04,004 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:23:00] Market Sentiment: BULLISH | OHLC: O=25338.00 H=25339.00 L=25334.60 C=25338.15
2026-01-22 09:24:04,005 - root - INFO - ================================================
2026-01-22 09:24:04,020 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 09:24:04.020 - Latest candle: 09:23:00, DataFrame length: 72
2026-01-22 09:24:04,023 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 09:23:00, O: 162.6, H: 166.3, L: 162.4, C: 165.7, ST: Bull (147.49), W%R (9): -25.6, W%R (28): -11.5, K: 79.7, D: 82.0
2026-01-22 09:24:21,518 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 09:24:21.518 - Latest candle: 09:23:00, DataFrame length: 72
2026-01-22 09:24:21,521 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 09:23:00, O: 132.7, H: 134.6, L: 131.3, C: 132.2, ST: Bear (155.79), W%R (9): -86.1, W%R (28): -96.1, K: 14.5, D: 13.0
2026-01-22 09:24:21,523 - async_event_handlers - INFO - [TIMING] New candle completed at 09:23:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:24:21.523 for sentiment: BULLISH
2026-01-22 09:24:21,523 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 09:24:21,524 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=72)
2026-01-22 09:24:21,525 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=09:22:00 -> current=09:23:00, expected_timestamp=09:23:00, df_length=72, W%R(9) prev=-18.15 current=-25.64, W%R(28) prev=-15.62 current=-11.50
2026-01-22 09:24:21,525 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-18.15, current=-25.64, threshold=-79, W%R(28) prev=-15.62, current=-11.50, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:24:21,526 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=72)
2026-01-22 09:24:21,527 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=09:22:00 -> current=09:23:00, expected_timestamp=09:23:00, df_length=72, W%R(9) prev=-94.87 current=-86.14, W%R(28) prev=-95.69 current=-96.08
2026-01-22 09:24:21,528 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-94.87, current=-86.14, threshold=-79, W%R(28) prev=-95.69, current=-96.08, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:25:00,754 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:24:00] Market Sentiment: BULLISH | OHLC: O=25337.50 H=25340.65 L=25333.20 C=25340.65
2026-01-22 09:25:00,756 - root - INFO - ================================================
2026-01-22 09:25:00,770 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 09:25:00.770 - Latest candle: 09:24:00, DataFrame length: 73
2026-01-22 09:25:00,773 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 09:24:00, O: 166.2, H: 166.2, L: 162.3, C: 164.3, ST: Bull (147.63), W%R (9): -29.1, W%R (28): -12.9, K: 73.5, D: 78.4
2026-01-22 09:25:00,787 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 09:25:00.787 - Latest candle: 09:24:00, DataFrame length: 73
2026-01-22 09:25:00,791 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 09:24:00, O: 131.0, H: 133.4, L: 130.2, C: 131.0, ST: Bear (153.83), W%R (9): -83.4, W%R (28): -96.9, K: 18.1, D: 15.1
2026-01-22 09:25:00,792 - async_event_handlers - INFO - [TIMING] New candle completed at 09:24:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:25:00.792 for sentiment: BULLISH
2026-01-22 09:25:00,793 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 09:25:00,794 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=73)
2026-01-22 09:25:00,795 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=09:23:00 -> current=09:24:00, expected_timestamp=09:24:00, df_length=73, W%R(9) prev=-25.64 current=-29.06, W%R(28) prev=-11.50 current=-12.93
2026-01-22 09:25:00,795 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-25.64, current=-29.06, threshold=-79, W%R(28) prev=-11.50, current=-12.93, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:25:00,796 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=73)
2026-01-22 09:25:00,797 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=09:23:00 -> current=09:24:00, expected_timestamp=09:24:00, df_length=73, W%R(9) prev=-86.14 current=-83.43, W%R(28) prev=-96.08 current=-96.88
2026-01-22 09:25:00,797 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-86.14, current=-83.43, threshold=-79, W%R(28) prev=-96.08, current=-96.88, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:26:16,504 - root - INFO - ================================================
2026-01-22 09:26:16,519 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 09:26:16.519 - Latest candle: 09:25:00, DataFrame length: 74
2026-01-22 09:26:16,522 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 09:25:00, O: 130.8, H: 133.8, L: 129.2, C: 129.2, ST: Bear (152.30), W%R (9): -89.9, W%R (28): -98.1, K: 19.4, D: 17.3
2026-01-22 09:26:16,524 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:25:00] Market Sentiment: BULLISH | OHLC: O=25336.85 H=25337.60 L=25330.00 C=25336.45
2026-01-22 09:26:18,019 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 09:26:18.019 - Latest candle: 09:25:00, DataFrame length: 74
2026-01-22 09:26:18,022 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 09:25:00, O: 163.5, H: 165.2, L: 160.3, C: 165.2, ST: Bull (147.63), W%R (9): -24.9, W%R (28): -12.0, K: 70.8, D: 74.7
2026-01-22 09:26:18,023 - async_event_handlers - INFO - [TIMING] New candle completed at 09:25:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:26:18.023 for sentiment: BULLISH
2026-01-22 09:26:18,023 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 09:26:18,024 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=74)
2026-01-22 09:26:18,025 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=09:24:00 -> current=09:25:00, expected_timestamp=09:25:00, df_length=74, W%R(9) prev=-29.06 current=-24.88, W%R(28) prev=-12.93 current=-11.99
2026-01-22 09:26:18,025 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-29.06, current=-24.88, threshold=-79, W%R(28) prev=-12.93, current=-11.99, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:26:18,026 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=74)
2026-01-22 09:26:18,027 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=09:24:00 -> current=09:25:00, expected_timestamp=09:25:00, df_length=74, W%R(9) prev=-83.43 current=-89.94, W%R(28) prev=-96.88 current=-98.11
2026-01-22 09:26:18,027 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-83.43, current=-89.94, threshold=-79, W%R(28) prev=-96.88, current=-98.11, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:26:22,255 - root - INFO - ================================================
2026-01-22 09:26:22,270 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 09:26:22.270 - Latest candle: 09:26:00, DataFrame length: 75
2026-01-22 09:26:22,273 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 09:26:00, O: 161.6, H: 162.2, L: 161.4, C: 161.4, ST: Bull (147.63), W%R (9): -43.6, W%R (28): -16.2, K: 63.8, D: 69.3
2026-01-22 09:26:22,505 - root - INFO - ================================================
2026-01-22 09:26:22,520 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 09:26:22.520 - Latest candle: 09:26:00, DataFrame length: 75
2026-01-22 09:26:22,527 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 09:26:00, O: 161.6, H: 162.2, L: 161.4, C: 161.4, ST: Bull (149.45), W%R (9): -43.6, W%R (28): -16.2, K: 63.9, D: 69.3
2026-01-22 09:26:22,528 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 09:25:00 (last_check=09:25:00)
2026-01-22 09:27:01,005 - root - INFO - ================================================
2026-01-22 09:27:01,020 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 09:27:01.020 - Latest candle: 09:26:00, DataFrame length: 75
2026-01-22 09:27:01,023 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 09:26:00, O: 162.1, H: 179.4, L: 162.1, C: 179.4, ST: Bull (153.80), W%R (9): 0.0, W%R (28): 0.0, K: 72.1, D: 72.0
2026-01-22 09:27:03,305 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 09:27:03.305 - Latest candle: 09:26:00, DataFrame length: 75
2026-01-22 09:27:03,308 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 09:26:00, O: 131.8, H: 131.8, L: 117.7, C: 118.0, ST: Bear (146.25), W%R (9): -99.3, W%R (28): -99.8, K: 18.2, D: 18.6
2026-01-22 09:27:03,505 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:26:00] Market Sentiment: BULLISH | OHLC: O=25331.15 H=25361.00 L=25331.10 C=25359.95
2026-01-22 09:27:03,505 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:26:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:27:03.505 for sentiment: BULLISH
2026-01-22 09:27:03,507 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 09:27:03,507 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=75)
2026-01-22 09:27:03,508 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=09:25:00 -> current=09:26:00, expected_timestamp=09:26:00, df_length=75, W%R(9) prev=-28.57 current=0.00, W%R(28) prev=-12.82 current=0.00
2026-01-22 09:27:03,508 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-28.57, current=0.00, threshold=-79, W%R(28) prev=-12.82, current=0.00, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:27:03,509 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=75)
2026-01-22 09:27:03,510 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=09:25:00 -> current=09:26:00, expected_timestamp=09:26:00, df_length=75, W%R(9) prev=-89.94 current=-99.30, W%R(28) prev=-98.11 current=-99.84
2026-01-22 09:27:03,510 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-89.94, current=-99.30, threshold=-79, W%R(28) prev=-98.11, current=-99.84, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:28:01,755 - root - INFO - ================================================
2026-01-22 09:28:01,770 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 09:28:01.770 - Latest candle: 09:27:00, DataFrame length: 76
2026-01-22 09:28:01,773 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 09:27:00, O: 178.5, H: 190.0, L: 178.5, C: 190.0, ST: Bull (166.67), W%R (9): 0.0, W%R (28): 0.0, K: 79.2, D: 74.0
2026-01-22 09:28:02,019 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 09:28:02.019 - Latest candle: 09:27:00, DataFrame length: 76
2026-01-22 09:28:02,023 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 09:27:00, O: 117.9, H: 118.1, L: 112.2, C: 112.5, ST: Bear (135.69), W%R (9): -99.4, W%R (28): -99.8, K: 15.0, D: 17.6
2026-01-22 09:28:02,505 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:27:00] Market Sentiment: BULLISH | OHLC: O=25362.00 H=25376.50 L=25361.85 C=25374.70
2026-01-22 09:28:02,506 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:27:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:28:02.506 for sentiment: BULLISH
2026-01-22 09:28:02,507 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25368.76
2026-01-22 09:28:02,508 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 09:28:02,508 - root - INFO - Generated symbols: CE=NIFTY26JAN25350CE, PE=NIFTY26JAN25400PE
2026-01-22 09:28:05,915 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 09:28:05,915 - root - INFO - CE: NIFTY26JAN25350CE (Token: 15027970)
2026-01-22 09:28:05,915 - root - INFO - PE: NIFTY26JAN25400PE (Token: 15028738)
2026-01-22 09:28:05,915 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25300CE -> NIFTY26JAN25350CE, PE: NIFTY26JAN25350PE -> NIFTY26JAN25400PE
2026-01-22 09:28:05,984 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25350CE with 375 candles
2026-01-22 09:28:06,077 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25400PE with 375 candles
2026-01-22 09:28:06,097 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 09:27:00: old_ce=NIFTY26JAN25300CE(15025922) -> new_ce=NIFTY26JAN25350CE, old_pe=NIFTY26JAN25350PE(15028226) -> new_pe=NIFTY26JAN25400PE
2026-01-22 09:28:06,097 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25350CE, PE=NIFTY26JAN25400PE
2026-01-22 09:28:06,098 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:28:06,099 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=65)
2026-01-22 09:28:06,100 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=65)
2026-01-22 09:28:06,103 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:25:00 -> current=09:26:00, expected_timestamp=09:26:00, df_length=65, W%R(9) prev=-92.09 current=-96.44, W%R(28) prev=-98.46 current=-99.13
2026-01-22 09:28:06,105 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping entry condition check - check already in progress for timestamp: 09:28:00
2026-01-22 09:28:06,105 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-92.09, current=-96.44, threshold=-79, W%R(28) prev=-98.46, current=-99.13, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:29:01,505 - root - INFO - ================================================
2026-01-22 09:29:01,519 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:29:01.519 - Latest candle: 09:28:00, DataFrame length: 66
2026-01-22 09:29:01,522 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:28:00, O: 131.4, H: 134.2, L: 126.0, C: 131.4, ST: Bear (156.13), W%R (9): -90.1, W%R (28): -97.0, K: 16.8, D: 19.9
2026-01-22 09:29:01,552 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:29:01.552 - Latest candle: 09:28:00, DataFrame length: 66
2026-01-22 09:29:01,555 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:28:00, O: 164.1, H: 172.0, L: 159.2, C: 163.9, ST: Bull (145.82), W%R (9): -16.7, W%R (28): -7.8, K: 68.7, D: 63.6
2026-01-22 09:29:01,556 - async_event_handlers - INFO - [TIMING] New candle completed at 09:28:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:29:01.556 for sentiment: BULLISH
2026-01-22 09:29:01,557 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 09:28:00 (last_check=09:28:00)
2026-01-22 09:29:01,558 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:29:01,559 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=66)
2026-01-22 09:29:01,560 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=66)
2026-01-22 09:29:01,560 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:26:00 -> current=09:28:00, expected_timestamp=09:28:00, df_length=66, W%R(9) prev=-96.44 current=-90.14, W%R(28) prev=-99.13 current=-96.98
2026-01-22 09:29:01,561 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-96.44, current=-90.14, threshold=-79, W%R(28) prev=-99.13, current=-96.98, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:29:02,755 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:28:00] Market Sentiment: BULLISH | OHLC: O=25382.05 H=25395.30 L=25380.00 C=25384.55
2026-01-22 09:30:00,505 - root - INFO - ================================================
2026-01-22 09:30:00,519 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:30:00.519 - Latest candle: 09:29:00, DataFrame length: 67
2026-01-22 09:30:00,522 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:29:00, O: 163.1, H: 168.6, L: 162.2, C: 165.5, ST: Bull (146.25), W%R (9): -13.7, W%R (28): -6.3, K: 74.8, D: 68.3
2026-01-22 09:30:00,756 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:29:00] Market Sentiment: BULLISH | OHLC: O=25383.60 H=25388.80 L=25381.80 C=25386.65
2026-01-22 09:30:00,787 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:30:00.787 - Latest candle: 09:29:00, DataFrame length: 67
2026-01-22 09:30:00,791 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:29:00, O: 132.8, H: 133.1, L: 129.1, C: 130.7, ST: Bear (155.26), W%R (9): -90.5, W%R (28): -97.4, K: 20.9, D: 19.6
2026-01-22 09:30:00,792 - async_event_handlers - INFO - [TIMING] New candle completed at 09:29:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:30:00.792 for sentiment: BULLISH
2026-01-22 09:30:00,792 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:30:00,793 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=67)
2026-01-22 09:30:00,794 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=67)
2026-01-22 09:30:00,795 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:28:00 -> current=09:29:00, expected_timestamp=09:29:00, df_length=67, W%R(9) prev=-90.14 current=-90.53, W%R(28) prev=-96.98 current=-97.39
2026-01-22 09:30:00,795 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-90.14, current=-90.53, threshold=-79, W%R(28) prev=-96.98, current=-97.39, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:30:16,642 - __main__ - INFO - Received exit signal SIGTERM...
2026-01-22 09:30:16,642 - __main__ - INFO - Stopping bot components...
2026-01-22 09:30:16,642 - __main__ - INFO - [STOP] Stopping Async Trading Bot...
2026-01-22 09:30:16,642 - __main__ - INFO - GTT status check task cancelled
2026-01-22 09:30:16,642 - realtime_position_manager - INFO - [STOP] RealTimePositionManager stopped
2026-01-22 09:30:16,642 - __main__ - INFO - Position manager stopped
2026-01-22 09:30:16,642 - async_live_ticker_handler - INFO - Stopping async WebSocket listener...
2026-01-22 09:30:16,642 - async_live_ticker_handler - INFO - Async WebSocket stopped.
2026-01-22 09:30:16,643 - async_api_server - INFO - Async API server stopped
2026-01-22 09:30:16,643 - __main__ - INFO - [OK] Async Trading Bot stopped
2026-01-22 09:30:16,643 - __main__ - INFO - Bot components stopped successfully
2026-01-22 09:30:16,643 - __main__ - INFO - Cancelling 3 outstanding tasks...
2026-01-22 09:30:16,643 - __main__ - INFO - [RISK] Risk watchdog loop cancelled
2026-01-22 09:30:16,643 - __main__ - INFO - [RISK] Drawdown watchdog loop cancelled
2026-01-22 09:30:16,643 - __main__ - INFO - Main event loop cancelled
2026-01-22 09:30:16,643 - __main__ - INFO - Cleaning up event loop...
2026-01-22 09:30:16,644 - __main__ - INFO - Cancelling 1 remaining tasks during final cleanup...
2026-01-22 09:30:16,644 - __main__ - INFO - Shutting down async generators...
2026-01-22 09:30:16,644 - __main__ - INFO - Closing event loop...
2026-01-22 09:30:16,644 - __main__ - INFO - Event loop closed
2026-01-22 09:30:16,644 - __main__ - INFO - Shutdown complete, exiting process

================================================================================
NEW SESSION STARTED: 2026-01-22 09:30:20
================================================================================

2026-01-22 09:30:20,722 - __main__ - INFO - ================================================================================
2026-01-22 09:30:20,722 - __main__ - INFO - PRODUCTION LOGGING STARTED - Logs will be appended to: output/production_logs.txt
2026-01-22 09:30:20,722 - __main__ - INFO - DAILY TERMINAL LOG STARTED - Logs will be appended to: logs/dynamic_atm_strike_jan22.log (auto-truncated per day)
2026-01-22 09:30:20,722 - __main__ - INFO - Session started at: 2026-01-22 09:30:20
2026-01-22 09:30:20,722 - __main__ - INFO - ================================================================================
2026-01-22 09:30:20,723 - __main__ - INFO - [START] Initializing Async Trading Bot...
2026-01-22 09:30:20,737 - __main__ - INFO - Configuration loaded from config.yaml
2026-01-22 09:30:20,738 - __main__ - INFO - Dynamic ATM enabled: True
2026-01-22 09:30:20,738 - __main__ - INFO - Automated market sentiment enabled: True
2026-01-22 09:30:20,738 - __main__ - INFO - Trading symbols loaded: ['underlying_symbol', 'underlying_token', 'atm_strike', 'ce_symbol', 'ce_token', 'pe_symbol', 'pe_token']
2026-01-22 09:30:20,738 - root - INFO - Attempting to get a valid Kite API session...
2026-01-22 09:30:20,739 - root - INFO - Successfully obtained a valid Kite API session.
2026-01-22 09:30:20,739 - __main__ - INFO - Kite API initialized
2026-01-22 09:30:20,740 - __main__ - INFO - Trade ledger initialized
2026-01-22 09:30:20,740 - trailing_max_drawdown_manager - INFO - Trailing Max Drawdown Manager initialized: Capital=25,000.00, Loss Mark=30.0%
2026-01-22 09:30:20,740 - __main__ - INFO - Trailing max drawdown manager initialized
2026-01-22 09:30:20,740 - trade_state_manager - INFO - Trade state loaded successfully.
2026-01-22 09:30:20,787 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 09:30:20,787 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 09:30:20,787 - __main__ - INFO - State manager initialized
2026-01-22 09:30:20,787 - __main__ - INFO - Indicator manager initialized
2026-01-22 09:30:20,787 - async_api_server - INFO - Initialized config with 18 settings
2026-01-22 09:30:20,788 - async_api_server - INFO - Initialized config with 1 settings
2026-01-22 09:30:20,788 - __main__ - INFO - API server initialized
2026-01-22 09:30:20,789 - async_api_server - INFO - [OK] Async API server started on localhost:5000
2026-01-22 09:30:20,789 - event_system - WARNING - [WARN] Event dispatcher not running! Event system_startup may be lost.
2026-01-22 09:30:20,789 - __main__ - INFO - [API] API server started early - control panel can connect now
2026-01-22 09:30:20,791 - realtime_position_manager - INFO - RealTimePositionManager initialized: check_interval=1.0s, gap_threshold=2.0%
2026-01-22 09:30:20,791 - immediate_exit_executor - INFO - ImmediateExitExecutor initialized: max_retries=3, validation_enabled=True
2026-01-22 09:30:20,791 - async_event_handlers - INFO - [OK] Real-time position management enabled
2026-01-22 09:30:20,791 - __main__ - INFO - Event handlers initialized
2026-01-22 09:30:20,791 - event_system - INFO - [OK] Event dispatcher started and processing events
2026-01-22 09:30:20,791 - __main__ - INFO - [EVENT] Event dispatcher started early - commands can be processed now
2026-01-22 09:30:20,792 - root - INFO - Current time: 09:30:20, Market open time: 09:15:00, Is after market open: True
2026-01-22 09:30:20,792 - __main__ - INFO - [CLOCK] Market is already open. Using historical API to get opening price...
2026-01-22 09:30:20,792 - root - INFO - Attempt 1/3: Fetching NIFTY opening price...
2026-01-22 09:30:20,825 - root - INFO - [OK] Retrieved NIFTY 50 opening price from daily historical data: 25344.15
2026-01-22 09:30:20,825 - __main__ - INFO - [CHART] Processing NIFTY opening price: 25344.15
2026-01-22 09:30:20,825 - root - INFO - NIFTY Price: 25344.15, CE ATM Strike: 25300 (FLOOR), PE ATM Strike: 25350 (CEIL)
2026-01-22 09:30:20,826 - root - INFO - Expiry calculation: Next expiry (2026-01-27) corresponds to the last Tuesday of the month (2026-01-27). Using monthly expiry format.
2026-01-22 09:30:20,826 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 09:30:20,826 - root - INFO - Generated symbols: CE=NIFTY26JAN25300CE, PE=NIFTY26JAN25350PE
2026-01-22 09:30:24,351 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 09:30:24,351 - root - INFO - CE: NIFTY26JAN25300CE (Token: 15025922)
2026-01-22 09:30:24,351 - root - INFO - PE: NIFTY26JAN25350PE (Token: 15028226)
2026-01-22 09:30:24,351 - __main__ - INFO - [OK] Successfully derived and updated PE & CE strikes
2026-01-22 09:30:24,351 - __main__ - INFO - CE: NIFTY26JAN25300CE (Strike: 25300)
2026-01-22 09:30:24,351 - __main__ - INFO - PE: NIFTY26JAN25350PE (Strike: 25350)
2026-01-22 09:30:24,351 - __main__ - INFO - [OK] Keeping NIFTY 50 subscribed for automated sentiment processing
2026-01-22 09:30:24,351 - entry_conditions - INFO - [CONFIG DEBUG] EntryConditionManager initialized. TRADE_SETTINGS keys: ['QUANTITY', 'CAPITAL', 'PRODUCT', 'VALIDATE_ENTRY_RISK', 'REVERSAL_MAX_SWING_LOW_DISTANCE_PERCENT', 'CONTINUATION_MAX_SUPERTREND_DISTANCE_PERCENT', 'STOP_LOSS_PRICE_THRESHOLD', 'STOP_LOSS_PERCENT', 'TAKE_PROFIT_PERCENT', 'DYNAMIC_TRAILING_MA', 'DYNAMIC_TRAILING_MA_THRESH', 'CE_ENTRY_CONDITIONS', 'PE_ENTRY_CONDITIONS', 'WAIT_BARS_RSI', 'ENTRY2_CONFIRMATION_WINDOW', 'FLEXIBLE_STOCHRSI_CONFIRMATION', 'DEBUG_ENTRY2', 'SKIP_FIRST']
2026-01-22 09:30:24,355 - entry_conditions - INFO - Entry2 confirmation window: 4 candles
2026-01-22 09:30:24,355 - entry_conditions - INFO - Entry2 flexible StochRSI confirmation: True
2026-01-22 09:30:24,356 - entry_conditions - INFO - DEBUG_ENTRY2 is disabled - using production Entry2 with full requirements
2026-01-22 09:30:24,356 - entry_conditions - INFO - ✅ MARKET_SENTIMENT_FILTER is DISABLED - Both CE and PE trades can occur simultaneously regardless of sentiment
2026-01-22 09:30:24,356 - entry_conditions - INFO - Price zone filter enabled (DYNAMIC_ATM): Entry price must be between 20 and 250
2026-01-22 09:30:24,356 - entry_conditions - INFO - Time distribution filter ENABLED - Enabled zones: ['09:15-10:00', '10:00-11:00', '11:00-12:00', '13:00-14:00', '14:00-15:30']
2026-01-22 09:30:24,356 - entry_conditions - INFO - Time distribution filter - Disabled zones (no trade zones): ['12:00-13:00']
2026-01-22 09:30:24,356 - entry_conditions - INFO - SKIP_FIRST feature disabled
2026-01-22 09:30:24,356 - __main__ - INFO - Entry condition manager initialized
2026-01-22 09:30:24,356 - __main__ - INFO - [OK] Strikes derived. Subscribing to CE, PE, and NIFTY 50 tokens (Dynamic ATM, Automated Sentiment enabled).
2026-01-22 09:30:24,356 - __main__ - INFO - WebSocket handler initialized
2026-01-22 09:30:24,356 - __main__ - INFO - Strategy executor initialized
2026-01-22 09:30:24,356 - __main__ - INFO - Initializing Dynamic ATM Strike Manager...
2026-01-22 09:30:24,370 - root - INFO - Attempt 1/3: Fetching NIFTY opening price...
2026-01-22 09:30:24,388 - root - INFO - [OK] Retrieved NIFTY 50 opening price from daily historical data: 25344.15
2026-01-22 09:30:24,388 - root - INFO - NIFTY Price: 25344.15, CE ATM Strike: 25300 (FLOOR), PE ATM Strike: 25350 (CEIL)
2026-01-22 09:30:24,388 - __main__ - INFO - [OK] Dynamic ATM Manager initialized: CE=25300, PE=25350 (NIFTY=25344.15)
2026-01-22 09:30:24,388 - __main__ - INFO - Initializing Automated Market Sentiment Manager...
2026-01-22 09:30:24,389 - __main__ - INFO - Using Market Sentiment v2 (improved implementation)
2026-01-22 09:30:24,393 - market_sentiment_v2.realtime_sentiment_manager - INFO - RealTimeMarketSentimentManager (v2) initialized
2026-01-22 09:30:24,393 - __main__ - INFO - [OK] Automated Market Sentiment Manager (v2) initialized. Analyzer will initialize when first candle is processed (matches backtesting behavior). (config: market_sentiment_v2/config.yaml)
2026-01-22 09:30:24,393 - entry_conditions - INFO - [CONFIG DEBUG] EntryConditionManager initialized. TRADE_SETTINGS keys: ['QUANTITY', 'CAPITAL', 'PRODUCT', 'VALIDATE_ENTRY_RISK', 'REVERSAL_MAX_SWING_LOW_DISTANCE_PERCENT', 'CONTINUATION_MAX_SUPERTREND_DISTANCE_PERCENT', 'STOP_LOSS_PRICE_THRESHOLD', 'STOP_LOSS_PERCENT', 'TAKE_PROFIT_PERCENT', 'DYNAMIC_TRAILING_MA', 'DYNAMIC_TRAILING_MA_THRESH', 'CE_ENTRY_CONDITIONS', 'PE_ENTRY_CONDITIONS', 'WAIT_BARS_RSI', 'ENTRY2_CONFIRMATION_WINDOW', 'FLEXIBLE_STOCHRSI_CONFIRMATION', 'DEBUG_ENTRY2', 'SKIP_FIRST']
2026-01-22 09:30:24,397 - entry_conditions - INFO - Entry2 confirmation window: 4 candles
2026-01-22 09:30:24,397 - entry_conditions - INFO - Entry2 flexible StochRSI confirmation: True
2026-01-22 09:30:24,397 - entry_conditions - INFO - DEBUG_ENTRY2 is disabled - using production Entry2 with full requirements
2026-01-22 09:30:24,397 - entry_conditions - INFO - ✅ MARKET_SENTIMENT_FILTER is DISABLED - Both CE and PE trades can occur simultaneously regardless of sentiment
2026-01-22 09:30:24,397 - entry_conditions - INFO - Price zone filter enabled (DYNAMIC_ATM): Entry price must be between 20 and 250
2026-01-22 09:30:24,397 - entry_conditions - INFO - Time distribution filter ENABLED - Enabled zones: ['09:15-10:00', '10:00-11:00', '11:00-12:00', '13:00-14:00', '14:00-15:30']
2026-01-22 09:30:24,397 - entry_conditions - INFO - Time distribution filter - Disabled zones (no trade zones): ['12:00-13:00']
2026-01-22 09:30:24,397 - entry_conditions - INFO - SKIP_FIRST feature disabled
2026-01-22 09:30:24,397 - __main__ - INFO - Entry condition manager initialized
2026-01-22 09:30:24,397 - realtime_position_manager - INFO - [OK] RealTimePositionManager started (CANDLE_FORMED handler registered for MA trailing)
2026-01-22 09:30:24,397 - __main__ - INFO - [OK] Real-time position manager started
2026-01-22 09:30:24,398 - __main__ - INFO - Performing full reconciliation during initialization...
2026-01-22 09:30:24,432 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 09:30:24,432 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 09:30:24,433 - __main__ - INFO - Full reconciliation completed successfully
2026-01-22 09:30:24,433 - __main__ - INFO - Resetting crossover indices during initialization...
2026-01-22 09:30:24,433 - __main__ - INFO - Crossover indices reset successfully
2026-01-22 09:30:24,433 - __main__ - INFO - [RISK] Risk watchdog loop started
2026-01-22 09:30:24,433 - __main__ - INFO - [RISK] Live MARK2MARKET drawdown watchdog loop started
2026-01-22 09:30:24,433 - __main__ - INFO - [OK] Async Trading Bot initialized successfully
2026-01-22 09:30:24,433 - __main__ - INFO - [START] Starting Async Trading Bot...
2026-01-22 09:30:24,433 - __main__ - INFO - [VERIFY] Event dispatcher status. Running: True, Task: True
2026-01-22 09:30:24,433 - __main__ - INFO - Attempting WebSocket connection (attempt 1/3)...
2026-01-22 09:30:24,433 - async_live_ticker_handler - INFO - Starting async WebSocket listener...
2026-01-22 09:30:24,435 - async_live_ticker_handler - INFO - Async WebSocket is running in a background thread.
2026-01-22 09:30:24,435 - event_system - INFO - [START] Event processing loop started - ready to process events
2026-01-22 09:30:24,436 - __main__ - INFO - [RISK] Risk watchdog loop running
2026-01-22 09:30:24,436 - __main__ - INFO - [RISK] Live MARK2MARKET drawdown watchdog loop running
2026-01-22 09:30:24,449 - async_live_ticker_handler - INFO - Async WebSocket connected successfully. Subscribing to instrument tokens.
2026-01-22 09:30:24,450 - async_live_ticker_handler - INFO - Successfully subscribed to tokens: [15025922, 15028226, 256265]
2026-01-22 09:30:24,536 - async_live_ticker_handler - INFO - WebSocket connection established in 0.10 seconds
2026-01-22 09:30:24,536 - __main__ - INFO - WebSocket connection established successfully
2026-01-22 09:30:24,536 - __main__ - INFO - [CHART] Subscribed to CE, PE, and NIFTY 50 tokens (automated sentiment enabled)
2026-01-22 09:30:24,536 - async_live_ticker_handler - INFO - Prefilling historical data with hybrid approach...
2026-01-22 09:30:24,621 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25300CE with 375 candles
2026-01-22 09:30:24,627 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY26JAN25300CE: 65 candles
2026-01-22 09:30:24,629 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY26JAN25300CE with 65 candles
2026-01-22 09:30:24,838 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY26JAN25300CE
2026-01-22 09:30:24,908 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25350PE with 375 candles
2026-01-22 09:30:24,913 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY26JAN25350PE: 65 candles
2026-01-22 09:30:24,913 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY26JAN25350PE with 65 candles
2026-01-22 09:30:24,927 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY26JAN25350PE
2026-01-22 09:30:24,994 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY 50 with 375 candles
2026-01-22 09:30:24,999 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY 50: 65 candles
2026-01-22 09:30:24,999 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY 50 with 65 candles
2026-01-22 09:30:25,012 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY 50
2026-01-22 09:30:25,015 - __main__ - INFO - GTT status check task started
2026-01-22 09:30:25,015 - __main__ - INFO - [OK] Entry conditions will be checked on new candle formation only
2026-01-22 09:30:25,015 - __main__ - INFO - [OK] Async Trading Bot started successfully
2026-01-22 09:30:25,015 - __main__ - INFO - Entering main event loop...
2026-01-22 09:30:25,016 - __main__ - INFO - Starting GTT status check task...
2026-01-22 09:31:07,472 - market_sentiment_v2.realtime_sentiment_manager - INFO - Fetched previous day OHLC from Kite API (date: 2026-01-21): High=25300.95, Low=24919.80, Close=25157.50
2026-01-22 09:31:07,472 - market_sentiment_v2.realtime_sentiment_manager - INFO - CPR Levels calculated for 2026-01-22:
2026-01-22 09:31:07,472 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R4: 25888.38
2026-01-22 09:31:07,472 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R3: 25713.52
2026-01-22 09:31:07,472 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R2: 25507.23
2026-01-22 09:31:07,473 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R1: 25332.37
2026-01-22 09:31:07,473 - market_sentiment_v2.realtime_sentiment_manager - INFO -   PIVOT: 25126.08
2026-01-22 09:31:07,473 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S1: 24951.22
2026-01-22 09:31:07,473 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S2: 24744.93
2026-01-22 09:31:07,473 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S3: 24570.07
2026-01-22 09:31:07,473 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S4: 24363.78
2026-01-22 09:31:07,473 - market_sentiment_v2.realtime_sentiment_manager - INFO - CPR Pivot Width (TC - BC) for 2026-01-22:
2026-01-22 09:31:07,473 - market_sentiment_v2.realtime_sentiment_manager - INFO -   TC (Top Central): 25141.79
2026-01-22 09:31:07,473 - market_sentiment_v2.realtime_sentiment_manager - INFO -   BC (Bottom Central): 25110.38
2026-01-22 09:31:07,473 - market_sentiment_v2.realtime_sentiment_manager - INFO -   CPR_PIVOT_WIDTH: 31.42
2026-01-22 09:31:07,473 - market_sentiment_v2.realtime_sentiment_manager - INFO -   Applied dynamic CPR_BAND_WIDTH: 10.00 (based on CPR_PIVOT_WIDTH: 31.42)
2026-01-22 09:31:07,473 - market_sentiment_v2.realtime_sentiment_manager - INFO - TradingSentimentAnalyzer (v2) initialized for real-time mode
2026-01-22 09:31:07,473 - market_sentiment_v2.realtime_sentiment_manager - INFO - [CATCH-UP] Starting mid-day at 09:30:00. Processing missed candles from 9:15 AM...
2026-01-22 09:31:07,497 - market_sentiment_v2.realtime_sentiment_manager - INFO - [CATCH-UP] Processed 15 missed candles. Current candle history: 15
2026-01-22 09:31:07,497 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:30:00] Market Sentiment: BULLISH | OHLC: O=25391.45 H=25400.50 L=25390.85 C=25399.10
2026-01-22 09:31:07,498 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:30:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:31:07.498 for sentiment: BULLISH
2026-01-22 09:31:07,498 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25395.47
2026-01-22 09:31:07,499 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 09:31:07,499 - root - INFO - Generated symbols: CE=NIFTY26JAN25350CE, PE=NIFTY26JAN25400PE
2026-01-22 09:31:10,911 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 09:31:10,911 - root - INFO - CE: NIFTY26JAN25350CE (Token: 15027970)
2026-01-22 09:31:10,911 - root - INFO - PE: NIFTY26JAN25400PE (Token: 15028738)
2026-01-22 09:31:10,912 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25300CE -> NIFTY26JAN25350CE, PE: NIFTY26JAN25350PE -> NIFTY26JAN25400PE
2026-01-22 09:31:10,977 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25350CE with 375 candles
2026-01-22 09:31:11,136 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25400PE with 375 candles
2026-01-22 09:31:11,156 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 09:30:00: old_ce=NIFTY26JAN25300CE(15025922) -> new_ce=NIFTY26JAN25350CE, old_pe=NIFTY26JAN25350PE(15028226) -> new_pe=NIFTY26JAN25400PE
2026-01-22 09:31:11,157 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25350CE, PE=NIFTY26JAN25400PE
2026-01-22 09:31:11,157 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:31:11,159 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=65)
2026-01-22 09:31:11,161 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=65)
2026-01-22 09:31:11,162 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:28:00 -> current=09:29:00, expected_timestamp=09:29:00, df_length=65, W%R(9) prev=-88.58 current=-86.29, W%R(28) prev=-96.84 current=-97.26
2026-01-22 09:31:11,164 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping entry condition check - check already in progress for timestamp: 09:31:00
2026-01-22 09:31:11,165 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-88.58, current=-86.29, threshold=-79, W%R(28) prev=-96.84, current=-97.26, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:32:00,450 - root - INFO - ================================================
2026-01-22 09:32:00,480 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:32:00.480 - Latest candle: 09:31:00, DataFrame length: 66
2026-01-22 09:32:00,483 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:31:00, O: 176.9, H: 179.2, L: 172.6, C: 177.2, ST: Bull (156.25), W%R (9): -4.1, W%R (28): -1.8, K: 88.8, D: 81.1
2026-01-22 09:32:00,496 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:32:00.496 - Latest candle: 09:31:00, DataFrame length: 66
2026-01-22 09:32:00,499 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:31:00, O: 122.4, H: 125.4, L: 121.6, C: 122.8, ST: Bear (145.75), W%R (9): -97.0, W%R (28): -99.3, K: 12.2, D: 17.2
2026-01-22 09:32:00,516 - async_event_handlers - INFO - [TIMING] New candle completed at 09:31:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:32:00.516 for sentiment: BULLISH
2026-01-22 09:32:00,517 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 09:31:00 (last_check=09:31:00)
2026-01-22 09:32:00,517 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:32:00,519 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=66)
2026-01-22 09:32:00,520 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=66)
2026-01-22 09:32:00,520 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:29:00 -> current=09:31:00, expected_timestamp=09:31:00, df_length=66, W%R(9) prev=-86.29 current=-97.02, W%R(28) prev=-97.26 current=-99.35
2026-01-22 09:32:00,521 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-86.29, current=-97.02, threshold=-79, W%R(28) prev=-97.26, current=-99.35, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:32:00,700 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:31:00] Market Sentiment: BULLISH | OHLC: O=25397.50 H=25405.40 L=25395.55 C=25402.75
2026-01-22 09:33:00,450 - root - INFO - ================================================
2026-01-22 09:33:00,465 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:33:00.465 - Latest candle: 09:32:00, DataFrame length: 67
2026-01-22 09:33:00,468 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:32:00, O: 122.2, H: 125.2, L: 121.3, C: 121.4, ST: Bear (144.02), W%R (9): -99.7, W%R (28): -100.0, K: 0.0, D: 9.7
2026-01-22 09:33:00,714 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:33:00.714 - Latest candle: 09:32:00, DataFrame length: 67
2026-01-22 09:33:00,717 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:32:00, O: 177.2, H: 181.3, L: 174.3, C: 181.3, ST: Bull (158.71), W%R (9): 0.0, W%R (28): 0.0, K: 100.0, D: 90.3
2026-01-22 09:33:00,951 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:32:00] Market Sentiment: BULLISH | OHLC: O=25400.85 H=25404.75 L=25398.30 C=25404.75
2026-01-22 09:33:00,951 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:32:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:33:00.951 for sentiment: BULLISH
2026-01-22 09:33:00,952 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25402.16
2026-01-22 09:33:00,952 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 09:33:00,953 - root - INFO - Generated symbols: CE=NIFTY26JAN25400CE, PE=NIFTY26JAN25450PE
2026-01-22 09:33:04,461 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 09:33:04,461 - root - INFO - CE: NIFTY26JAN25400CE (Token: 15028482)
2026-01-22 09:33:04,461 - root - INFO - PE: NIFTY26JAN25450PE (Token: 15029762)
2026-01-22 09:33:04,462 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25350CE -> NIFTY26JAN25400CE, PE: NIFTY26JAN25400PE -> NIFTY26JAN25450PE
2026-01-22 09:33:04,522 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25400CE with 375 candles
2026-01-22 09:33:04,605 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25450PE with 375 candles
2026-01-22 09:33:04,625 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 09:32:00: old_ce=NIFTY26JAN25350CE(15027970) -> new_ce=NIFTY26JAN25400CE, old_pe=NIFTY26JAN25400PE(15028738) -> new_pe=NIFTY26JAN25450PE
2026-01-22 09:33:04,625 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25400CE, PE=NIFTY26JAN25450PE
2026-01-22 09:33:04,626 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25400CE, PE symbol: NIFTY26JAN25450PE
2026-01-22 09:33:04,630 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400CE (Entry2 enabled, df_length=65)
2026-01-22 09:33:04,640 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25450PE (Entry2 enabled, df_length=65)
2026-01-22 09:33:04,641 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25450PE: comparing candles prev=09:30:00 -> current=09:31:00, expected_timestamp=09:31:00, df_length=65, W%R(9) prev=-95.45 current=-97.95, W%R(28) prev=-98.99 current=-99.55
2026-01-22 09:33:04,644 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25450PE: W%R(9) prev=-95.45, current=-97.95, threshold=-79, W%R(28) prev=-98.99, current=-99.55, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:33:04,651 - async_event_handlers - INFO - [TIMING] New candle completed at 09:33:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:33:04.651 for sentiment: BULLISH
2026-01-22 09:33:04,654 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25400CE, PE symbol: NIFTY26JAN25450PE
2026-01-22 09:33:04,654 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400CE (Entry2 enabled, df_length=65)
2026-01-22 09:33:04,655 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25450PE (Entry2 enabled, df_length=65)
2026-01-22 09:33:04,656 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25450PE: comparing candles prev=09:30:00 -> current=09:31:00, expected_timestamp=09:31:00, df_length=65, W%R(9) prev=-95.45 current=-97.95, W%R(28) prev=-98.99 current=-99.55
2026-01-22 09:33:04,656 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25450PE: W%R(9) prev=-95.45, current=-97.95, threshold=-79, W%R(28) prev=-98.99, current=-99.55, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:34:20,200 - root - INFO - ================================================
2026-01-22 09:34:20,248 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 09:34:20.248 - Latest candle: 09:33:00, DataFrame length: 66
2026-01-22 09:34:20,251 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 09:33:00, O: 153.6, H: 154.5, L: 147.8, C: 153.8, ST: Bull (134.84), W%R (9): -1.4, W%R (28): -0.7, K: 100.0, D: 97.5
2026-01-22 09:34:20,269 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 09:33:00 (last_check=09:33:00)
2026-01-22 09:34:20,451 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:33:00] Market Sentiment: BULLISH | OHLC: O=25405.05 H=25408.00 L=25400.60 C=25405.50
2026-01-22 09:34:20,481 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 09:34:20.481 - Latest candle: 09:33:00, DataFrame length: 66
2026-01-22 09:34:20,485 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 09:33:00, O: 144.5, H: 150.5, L: 144.5, C: 146.2, ST: Bear (169.09), W%R (9): -96.2, W%R (28): -99.2, K: 0.2, D: 4.2
2026-01-22 09:34:20,486 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 09:33:00 (last_check=09:33:00)
2026-01-22 09:35:00,700 - root - INFO - ================================================
2026-01-22 09:35:00,715 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 09:35:00.714 - Latest candle: 09:34:00, DataFrame length: 67
2026-01-22 09:35:00,717 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 09:34:00, O: 158.4, H: 160.6, L: 156.3, C: 156.6, ST: Bull (142.43), W%R (9): -7.5, W%R (28): -3.8, K: 100.0, D: 100.0
2026-01-22 09:35:00,748 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 09:35:00.748 - Latest candle: 09:34:00, DataFrame length: 67
2026-01-22 09:35:00,750 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 09:34:00, O: 143.2, H: 147.1, L: 142.6, C: 147.1, ST: Bear (165.13), W%R (9): -90.3, W%R (28): -97.8, K: 4.4, D: 1.5
2026-01-22 09:35:00,770 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:34:00] Market Sentiment: BULLISH | OHLC: O=25412.35 H=25415.70 L=25406.65 C=25406.65
2026-01-22 09:35:00,770 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:34:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:35:00.770 for sentiment: BULLISH
2026-01-22 09:35:00,771 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25400CE, PE symbol: NIFTY26JAN25450PE
2026-01-22 09:35:00,772 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400CE (Entry2 enabled, df_length=67)
2026-01-22 09:35:00,772 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25450PE (Entry2 enabled, df_length=67)
2026-01-22 09:35:00,773 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25450PE: comparing candles prev=09:33:00 -> current=09:34:00, expected_timestamp=09:34:00, df_length=67, W%R(9) prev=-96.19 current=-90.33, W%R(28) prev=-99.15 current=-97.77
2026-01-22 09:35:00,773 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25450PE: W%R(9) prev=-96.19, current=-90.33, threshold=-79, W%R(28) prev=-99.15, current=-97.77, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:36:00,450 - root - INFO - ================================================
2026-01-22 09:36:00,465 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 09:36:00.465 - Latest candle: 09:35:00, DataFrame length: 68
2026-01-22 09:36:00,468 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 09:35:00, O: 147.2, H: 150.2, L: 144.0, C: 144.0, ST: Bear (165.13), W%R (9): -96.7, W%R (28): -99.3, K: 5.5, D: 3.4
2026-01-22 09:36:01,719 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:35:00] Market Sentiment: BULLISH | OHLC: O=25408.50 H=25416.40 L=25403.45 C=25416.40
2026-01-22 09:36:04,465 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 09:36:04.465 - Latest candle: 09:35:00, DataFrame length: 68
2026-01-22 09:36:04,468 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 09:35:00, O: 156.1, H: 163.9, L: 153.5, C: 163.9, ST: Bull (142.43), W%R (9): 0.0, W%R (28): 0.0, K: 100.0, D: 100.0
2026-01-22 09:36:04,469 - async_event_handlers - INFO - [TIMING] New candle completed at 09:35:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:36:04.469 for sentiment: BULLISH
2026-01-22 09:36:04,469 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25400CE, PE symbol: NIFTY26JAN25450PE
2026-01-22 09:36:04,470 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400CE (Entry2 enabled, df_length=68)
2026-01-22 09:36:04,471 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25450PE (Entry2 enabled, df_length=68)
2026-01-22 09:36:04,472 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25450PE: comparing candles prev=09:34:00 -> current=09:35:00, expected_timestamp=09:35:00, df_length=68, W%R(9) prev=-90.33 current=-96.69, W%R(28) prev=-97.77 current=-99.28
2026-01-22 09:36:04,472 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25450PE: W%R(9) prev=-90.33, current=-96.69, threshold=-79, W%R(28) prev=-97.77, current=-99.28, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:37:01,701 - root - INFO - ================================================
2026-01-22 09:37:01,718 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:36:00] Market Sentiment: NEUTRAL | OHLC: O=25416.40 H=25425.40 L=25413.35 C=25424.95
2026-01-22 09:37:01,719 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 09:37:01,720 - async_live_ticker_handler - INFO - [09:36:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 09:37:09,231 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 09:37:09.231 - Latest candle: 09:36:00, DataFrame length: 69
2026-01-22 09:37:09,235 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 09:36:00, O: 164.6, H: 172.3, L: 160.8, C: 169.7, ST: Bull (149.43), W%R (9): -5.4, W%R (28): -2.3, K: 100.0, D: 100.0
2026-01-22 09:37:12,731 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 09:37:12.731 - Latest candle: 09:36:00, DataFrame length: 69
2026-01-22 09:37:12,735 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 09:36:00, O: 144.9, H: 149.4, L: 144.9, C: 147.6, ST: Bear (165.13), W%R (9): -81.3, W%R (28): -97.5, K: 24.1, D: 11.3
2026-01-22 09:37:12,736 - async_event_handlers - INFO - [TIMING] New candle completed at 09:36:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:37:12.736 for sentiment: NEUTRAL
2026-01-22 09:37:12,736 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25400CE, PE symbol: NIFTY26JAN25450PE
2026-01-22 09:37:12,739 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25450PE: comparing candles prev=09:35:00 -> current=09:36:00, expected_timestamp=09:36:00, df_length=69, W%R(9) prev=-96.69 current=-81.34, W%R(28) prev=-99.28 current=-97.51
2026-01-22 09:37:12,739 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25450PE: W%R(9) prev=-96.69, current=-81.34, threshold=-79, W%R(28) prev=-99.28, current=-97.51, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:38:08,701 - root - INFO - ================================================
2026-01-22 09:38:09,201 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:37:00] Market Sentiment: NEUTRAL | OHLC: O=25420.10 H=25420.10 L=25417.45 C=25417.45
2026-01-22 09:38:09,466 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 09:38:09.466 - Latest candle: 09:37:00, DataFrame length: 70
2026-01-22 09:38:09,469 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 09:37:00, O: 166.0, H: 167.5, L: 166.0, C: 166.0, ST: Bull (150.59), W%R (9): -15.5, W%R (28): -5.5, K: 90.6, D: 96.9
2026-01-22 09:38:25,965 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 09:38:25.965 - Latest candle: 09:37:00, DataFrame length: 70
2026-01-22 09:38:25,968 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 09:37:00, O: 150.3, H: 150.3, L: 149.1, C: 149.9, ST: Bear (165.13), W%R (9): -58.0, W%R (28): -96.2, K: 51.0, D: 26.9
2026-01-22 09:38:25,985 - async_event_handlers - INFO - [TIMING] New candle completed at 09:37:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:38:25.985 for sentiment: NEUTRAL
2026-01-22 09:38:25,986 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25400CE, PE symbol: NIFTY26JAN25450PE
2026-01-22 09:38:25,987 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400CE: comparing candles prev=09:36:00 -> current=09:37:00, expected_timestamp=09:37:00, df_length=70, W%R(9) prev=-5.36 current=-15.46, W%R(28) prev=-2.31 current=-5.54
2026-01-22 09:38:25,987 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400CE: W%R(9) prev=-5.36, current=-15.46, threshold=-79, W%R(28) prev=-2.31, current=-5.54, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:38:25,989 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25450PE: comparing candles prev=09:36:00 -> current=09:37:00, expected_timestamp=09:37:00, df_length=70, W%R(9) prev=-81.34 current=-58.00, W%R(28) prev=-97.51 current=-96.23
2026-01-22 09:38:25,989 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25450PE: W%R(9) prev=-81.34, current=-58.00, threshold=-79, W%R(28) prev=-97.51, current=-96.23, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:38:25,990 - entry_conditions - INFO - Entry2: Trigger detected for NIFTY26JAN25450PE - W%R(9) crossed above threshold: W%R(9) -81.34 -> -58.00, W%R(28) -97.51 -> -96.23, SuperTrend bearish
2026-01-22 09:38:25,990 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25450PE at bar 6 (T, T+1, ..., T+3), window expires at bar 10
2026-01-22 09:38:25,990 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25450PE (same candle as trigger, flexible mode) - K=51.05 > D=26.88 and K > 20
2026-01-22 09:39:03,201 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:38:00] Market Sentiment: NEUTRAL | OHLC: O=25421.75 H=25421.75 L=25415.10 C=25418.50
2026-01-22 09:39:03,451 - root - INFO - ================================================
2026-01-22 09:39:03,466 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 09:39:03.466 - Latest candle: 09:38:00, DataFrame length: 71
2026-01-22 09:39:03,469 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 09:38:00, O: 150.8, H: 157.7, L: 149.0, C: 157.7, ST: Bear (165.13), W%R (9): -10.4, W%R (28): -92.3, K: 83.2, D: 52.8
2026-01-22 09:39:04,215 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 09:39:04.215 - Latest candle: 09:38:00, DataFrame length: 71
2026-01-22 09:39:04,218 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 09:38:00, O: 167.7, H: 168.9, L: 160.8, C: 160.8, ST: Bull (150.59), W%R (9): -31.0, W%R (28): -10.1, K: 68.6, D: 86.4
2026-01-22 09:39:04,219 - async_event_handlers - INFO - [TIMING] New candle completed at 09:38:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:39:04.219 for sentiment: NEUTRAL
2026-01-22 09:39:04,219 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25400CE, PE symbol: NIFTY26JAN25450PE
2026-01-22 09:39:04,221 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400CE: comparing candles prev=09:37:00 -> current=09:38:00, expected_timestamp=09:38:00, df_length=71, W%R(9) prev=-15.46 current=-30.96, W%R(28) prev=-5.54 current=-10.11
2026-01-22 09:39:04,221 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400CE: W%R(9) prev=-15.46, current=-30.96, threshold=-79, W%R(28) prev=-5.54, current=-10.11, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:39:04,222 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25450PE: comparing candles prev=09:37:00 -> current=09:38:00, expected_timestamp=09:38:00, df_length=71, W%R(9) prev=-58.00 current=-10.39, W%R(28) prev=-96.23 current=-92.26
2026-01-22 09:39:04,223 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25450PE: W%R(9) prev=-58.00, current=-10.39, threshold=-79, W%R(28) prev=-96.23, current=-92.26, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:39:08,951 - root - INFO - ================================================
2026-01-22 09:39:08,982 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 09:39:08.982 - Latest candle: 09:39:00, DataFrame length: 72
2026-01-22 09:39:08,986 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 09:39:00, O: 159.9, H: 161.6, L: 159.1, C: 159.1, ST: Bear (165.13), W%R (9): -13.1, W%R (28): -91.4, K: 97.8, D: 77.4
2026-01-22 09:39:09,002 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:39:00] Market Sentiment: BEARISH | OHLC: O=25406.55 H=25406.55 L=25402.95 C=25402.95
2026-01-22 09:39:09,005 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 09:39:09,005 - async_live_ticker_handler - INFO - [09:39:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 09:39:09,019 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 09:39:09.019 - Latest candle: 09:39:00, DataFrame length: 72
2026-01-22 09:39:09,023 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 09:39:00, O: 159.0, H: 159.0, L: 153.1, C: 153.2, ST: Bull (150.59), W%R (9): -55.4, W%R (28): -17.0, K: 35.3, D: 64.8
2026-01-22 09:39:09,041 - async_event_handlers - INFO - [TIMING] New candle completed at 09:39:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:39:09.041 for sentiment: BEARISH
2026-01-22 09:39:09,042 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25400CE, PE symbol: NIFTY26JAN25450PE
2026-01-22 09:39:09,043 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400CE (Entry2 enabled, df_length=72)
2026-01-22 09:39:09,044 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400CE: comparing candles prev=09:38:00 -> current=09:39:00, expected_timestamp=09:39:00, df_length=72, W%R(9) prev=-30.96 current=-55.38, W%R(28) prev=-10.11 current=-16.99
2026-01-22 09:39:09,044 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400CE: W%R(9) prev=-30.96, current=-55.38, threshold=-79, W%R(28) prev=-10.11, current=-16.99, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:39:09,044 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25450PE (Entry2 enabled, df_length=72)
2026-01-22 09:39:09,045 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25450PE: comparing candles prev=09:38:00 -> current=09:39:00, expected_timestamp=09:39:00, df_length=72, W%R(9) prev=-10.39 current=-13.12, W%R(28) prev=-92.26 current=-91.36
2026-01-22 09:39:09,046 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25450PE: W%R(9) prev=-10.39, current=-13.12, threshold=-79, W%R(28) prev=-92.26, current=-91.36, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:39:09,451 - root - INFO - ================================================
2026-01-22 09:39:09,466 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 09:39:09.466 - Latest candle: 09:39:00, DataFrame length: 72
2026-01-22 09:39:09,469 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 09:39:00, O: 159.0, H: 159.0, L: 153.1, C: 153.2, ST: Bull (150.66), W%R (9): -55.4, W%R (28): -17.0, K: 35.3, D: 64.8
2026-01-22 09:39:09,716 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 09:39:09.716 - Latest candle: 09:39:00, DataFrame length: 72
2026-01-22 09:39:09,719 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 09:39:00, O: 159.9, H: 161.6, L: 159.1, C: 159.1, ST: Bear (164.12), W%R (9): -13.1, W%R (28): -91.4, K: 99.0, D: 80.1
2026-01-22 09:39:09,951 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:33:00] Market Sentiment: BEARISH | OHLC: O=25407.85 H=25407.85 L=25407.85 C=25407.85
2026-01-22 09:40:01,951 - root - INFO - ================================================
2026-01-22 09:40:01,966 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 09:40:01.966 - Latest candle: 09:39:00, DataFrame length: 72
2026-01-22 09:40:01,969 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 09:39:00, O: 159.3, H: 161.4, L: 154.6, C: 156.9, ST: Bear (164.12), W%R (9): -23.8, W%R (28): -92.5, K: 98.3, D: 79.9
2026-01-22 09:40:01,986 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:39:00] Market Sentiment: BEARISH | OHLC: O=25400.35 H=25406.40 L=25396.25 C=25406.40
2026-01-22 09:40:01,986 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 09:39:00 (last_check=09:39:00)
2026-01-22 09:40:02,716 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 09:40:02.716 - Latest candle: 09:39:00, DataFrame length: 72
2026-01-22 09:40:02,719 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 09:39:00, O: 154.4, H: 161.8, L: 147.9, C: 157.6, ST: Bull (150.66), W%R (9): -42.9, W%R (28): -13.2, K: 38.1, D: 65.8
2026-01-22 09:40:02,720 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 09:39:00 (last_check=09:39:00)
2026-01-22 09:41:00,951 - root - INFO - ================================================
2026-01-22 09:41:00,967 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 09:41:00.967 - Latest candle: 09:40:00, DataFrame length: 73
2026-01-22 09:41:00,970 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 09:40:00, O: 156.4, H: 157.8, L: 155.0, C: 155.0, ST: Bear (164.12), W%R (9): -34.1, W%R (28): -93.0, K: 96.9, D: 93.7
2026-01-22 09:41:03,216 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 09:41:03.216 - Latest candle: 09:40:00, DataFrame length: 73
2026-01-22 09:41:03,220 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 09:40:00, O: 162.0, H: 164.4, L: 157.7, C: 161.6, ST: Bull (150.66), W%R (9): -37.5, W%R (28): -9.8, K: 17.8, D: 41.5
2026-01-22 09:41:06,201 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:40:00] Market Sentiment: BEARISH | OHLC: O=25405.55 H=25409.65 L=25404.15 C=25405.70
2026-01-22 09:41:06,202 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:40:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:41:06.202 for sentiment: BEARISH
2026-01-22 09:41:06,202 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25400CE, PE symbol: NIFTY26JAN25450PE
2026-01-22 09:41:06,203 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400CE (Entry2 enabled, df_length=73)
2026-01-22 09:41:06,204 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400CE: comparing candles prev=09:39:00 -> current=09:40:00, expected_timestamp=09:40:00, df_length=73, W%R(9) prev=-42.88 current=-37.54, W%R(28) prev=-13.15 current=-9.80
2026-01-22 09:41:06,204 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400CE: W%R(9) prev=-42.88, current=-37.54, threshold=-79, W%R(28) prev=-13.15, current=-9.80, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:41:06,205 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25450PE (Entry2 enabled, df_length=73)
2026-01-22 09:41:06,206 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25450PE: comparing candles prev=09:39:00 -> current=09:40:00, expected_timestamp=09:40:00, df_length=73, W%R(9) prev=-23.81 current=-34.13, W%R(28) prev=-92.48 current=-92.97
2026-01-22 09:41:06,206 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25450PE: W%R(9) prev=-23.81, current=-34.13, threshold=-79, W%R(28) prev=-92.48, current=-92.97, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:42:00,951 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:41:00] Market Sentiment: BEARISH | OHLC: O=25407.90 H=25410.00 L=25405.10 C=25405.10
2026-01-22 09:42:03,701 - root - INFO - ================================================
2026-01-22 09:42:05,716 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 09:42:05.716 - Latest candle: 09:41:00, DataFrame length: 74
2026-01-22 09:42:05,720 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 09:41:00, O: 152.2, H: 154.1, L: 151.8, C: 153.9, ST: Bear (164.12), W%R (9): -39.7, W%R (28): -93.5, K: 93.3, D: 96.2
2026-01-22 09:42:05,966 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 09:42:05.966 - Latest candle: 09:41:00, DataFrame length: 74
2026-01-22 09:42:05,970 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 09:41:00, O: 161.8, H: 161.8, L: 158.8, C: 158.8, ST: Bull (150.66), W%R (9): -55.4, W%R (28): -12.5, K: 6.5, D: 20.8
2026-01-22 09:42:05,971 - async_event_handlers - INFO - [TIMING] New candle completed at 09:41:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:42:05.971 for sentiment: BEARISH
2026-01-22 09:42:05,971 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25400CE, PE symbol: NIFTY26JAN25450PE
2026-01-22 09:42:05,972 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400CE (Entry2 enabled, df_length=74)
2026-01-22 09:42:05,973 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400CE: comparing candles prev=09:40:00 -> current=09:41:00, expected_timestamp=09:41:00, df_length=74, W%R(9) prev=-37.54 current=-55.44, W%R(28) prev=-9.80 current=-12.49
2026-01-22 09:42:05,973 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400CE: W%R(9) prev=-37.54, current=-55.44, threshold=-79, W%R(28) prev=-9.80, current=-12.49, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:42:05,974 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25450PE (Entry2 enabled, df_length=74)
2026-01-22 09:42:05,975 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25450PE: comparing candles prev=09:40:00 -> current=09:41:00, expected_timestamp=09:41:00, df_length=74, W%R(9) prev=-34.13 current=-39.68, W%R(28) prev=-92.97 current=-93.52
2026-01-22 09:42:05,975 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25450PE: W%R(9) prev=-34.13, current=-39.68, threshold=-79, W%R(28) prev=-92.97, current=-93.52, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:42:05,975 - entry_conditions - INFO - [TIME] Entry2: Window expired for NIFTY26JAN25450PE at bar 10 (trigger=6, window=4, end=10) - W%R(28): X, StochRSI: OK
2026-01-22 09:43:00,451 - root - INFO - ================================================
2026-01-22 09:43:00,517 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 09:43:00.516 - Latest candle: 09:42:00, DataFrame length: 75
2026-01-22 09:43:00,520 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 09:42:00, O: 158.4, H: 158.4, L: 151.0, C: 157.2, ST: Bull (150.66), W%R (9): -62.2, W%R (28): -14.0, K: 3.6, D: 9.3
2026-01-22 09:43:00,716 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 09:43:00.716 - Latest candle: 09:42:00, DataFrame length: 75
2026-01-22 09:43:00,719 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 09:42:00, O: 153.7, H: 163.2, L: 153.7, C: 157.2, ST: Bear (164.12), W%R (9): -29.2, W%R (28): -91.7, K: 94.0, D: 94.7
2026-01-22 09:43:00,739 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:42:00] Market Sentiment: BEARISH | OHLC: O=25403.70 H=25403.70 L=25389.30 C=25398.35
2026-01-22 09:43:00,739 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:42:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:43:00.739 for sentiment: BEARISH
2026-01-22 09:43:00,740 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25398.76
2026-01-22 09:43:00,741 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 09:43:00,741 - root - INFO - Generated symbols: CE=NIFTY26JAN25350CE, PE=NIFTY26JAN25400PE
2026-01-22 09:43:04,170 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 09:43:04,170 - root - INFO - CE: NIFTY26JAN25350CE (Token: 15027970)
2026-01-22 09:43:04,170 - root - INFO - PE: NIFTY26JAN25400PE (Token: 15028738)
2026-01-22 09:43:04,171 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25400CE -> NIFTY26JAN25350CE, PE: NIFTY26JAN25450PE -> NIFTY26JAN25400PE
2026-01-22 09:43:04,232 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25350CE with 375 candles
2026-01-22 09:43:04,312 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25400PE with 375 candles
2026-01-22 09:43:04,334 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 09:42:00: old_ce=NIFTY26JAN25400CE(15028482) -> new_ce=NIFTY26JAN25350CE, old_pe=NIFTY26JAN25450PE(15029762) -> new_pe=NIFTY26JAN25400PE
2026-01-22 09:43:04,334 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25350CE, PE=NIFTY26JAN25400PE
2026-01-22 09:43:04,335 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:43:04,339 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping entry condition check - check already in progress for timestamp: 09:43:00
2026-01-22 09:43:04,340 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=78)
2026-01-22 09:43:04,343 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:41:00 -> current=09:42:00, expected_timestamp=09:42:00, df_length=78, W%R(9) prev=-48.43 current=-60.04, W%R(28) prev=-9.96 current=-18.84
2026-01-22 09:43:04,344 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-48.43, current=-60.04, threshold=-79, W%R(28) prev=-9.96, current=-18.84, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:43:04,344 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=78)
2026-01-22 09:43:04,345 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:41:00 -> current=09:42:00, expected_timestamp=09:42:00, df_length=78, W%R(9) prev=-51.40 current=-22.69, W%R(28) prev=-94.61 current=-81.15
2026-01-22 09:43:04,345 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-51.40, current=-22.69, threshold=-79, W%R(28) prev=-94.61, current=-81.15, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:44:00,451 - root - INFO - ================================================
2026-01-22 09:44:00,733 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:44:00.733 - Latest candle: 09:43:00, DataFrame length: 79
2026-01-22 09:44:00,737 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:43:00, O: 136.0, H: 138.2, L: 130.0, C: 133.1, ST: Bear (139.03), W%R (9): -36.0, W%R (28): -79.0, K: 92.0, D: 89.7
2026-01-22 09:44:00,768 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:44:00.768 - Latest candle: 09:43:00, DataFrame length: 79
2026-01-22 09:44:00,771 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:43:00, O: 187.6, H: 190.6, L: 180.5, C: 186.2, ST: Bull (181.51), W%R (9): -67.5, W%R (28): -21.2, K: 0.0, D: 3.0
2026-01-22 09:44:00,773 - async_event_handlers - INFO - [TIMING] New candle completed at 09:43:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:44:00.773 for sentiment: BEARISH
2026-01-22 09:44:00,775 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 09:43:00 (last_check=09:43:00)
2026-01-22 09:44:00,775 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:44:00,776 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=79)
2026-01-22 09:44:00,777 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:42:00 -> current=09:43:00, expected_timestamp=09:43:00, df_length=79, W%R(9) prev=-60.04 current=-67.52, W%R(28) prev=-18.84 current=-21.19
2026-01-22 09:44:00,777 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-60.04, current=-67.52, threshold=-79, W%R(28) prev=-18.84, current=-21.19, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:44:00,778 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=79)
2026-01-22 09:44:00,778 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:42:00 -> current=09:43:00, expected_timestamp=09:43:00, df_length=79, W%R(9) prev=-22.69 current=-35.96, W%R(28) prev=-81.15 current=-79.02
2026-01-22 09:44:00,778 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-22.69, current=-35.96, threshold=-79, W%R(28) prev=-81.15, current=-79.02, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:44:00,970 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:43:00] Market Sentiment: BEARISH | OHLC: O=25397.40 H=25400.85 L=25387.20 C=25396.10
2026-01-22 09:45:00,701 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:44:00] Market Sentiment: BEARISH | OHLC: O=25398.10 H=25398.10 L=25389.15 C=25395.30
2026-01-22 09:45:00,703 - root - INFO - ================================================
2026-01-22 09:45:00,717 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:45:00.717 - Latest candle: 09:44:00, DataFrame length: 80
2026-01-22 09:45:00,721 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:44:00, O: 132.2, H: 136.1, L: 132.2, C: 132.7, ST: Bear (139.03), W%R (9): -38.6, W%R (28): -79.8, K: 96.1, D: 92.3
2026-01-22 09:45:00,735 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:45:00.735 - Latest candle: 09:44:00, DataFrame length: 80
2026-01-22 09:45:00,739 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:44:00, O: 186.2, H: 187.7, L: 183.0, C: 187.2, ST: Bull (181.51), W%R (9): -63.4, W%R (28): -20.3, K: 0.9, D: 1.8
2026-01-22 09:45:00,740 - async_event_handlers - INFO - [TIMING] New candle completed at 09:44:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:45:00.740 for sentiment: BEARISH
2026-01-22 09:45:00,740 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:45:00,741 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=80)
2026-01-22 09:45:00,742 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:43:00 -> current=09:44:00, expected_timestamp=09:44:00, df_length=80, W%R(9) prev=-67.52 current=-63.39, W%R(28) prev=-21.19 current=-20.26
2026-01-22 09:45:00,742 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-67.52, current=-63.39, threshold=-79, W%R(28) prev=-21.19, current=-20.26, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:45:00,743 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=80)
2026-01-22 09:45:00,744 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:43:00 -> current=09:44:00, expected_timestamp=09:44:00, df_length=80, W%R(9) prev=-35.96 current=-38.60, W%R(28) prev=-79.02 current=-79.75
2026-01-22 09:45:00,744 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-35.96, current=-38.60, threshold=-79, W%R(28) prev=-79.02, current=-79.75, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:45:01,451 - root - INFO - ================================================
2026-01-22 09:45:01,466 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:45:01.466 - Latest candle: 09:45:00, DataFrame length: 81
2026-01-22 09:45:01,470 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:45:00, O: 134.4, H: 134.4, L: 134.4, C: 134.4, ST: Bear (139.03), W%R (9): -39.0, W%R (28): -76.8, K: 96.1, D: 94.8
2026-01-22 09:45:01,502 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:45:01.502 - Latest candle: 09:45:00, DataFrame length: 81
2026-01-22 09:45:01,506 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:45:00, O: 186.4, H: 186.4, L: 186.4, C: 186.4, ST: Bull (181.51), W%R (9): -62.3, W%R (28): -21.3, K: 0.9, D: 0.6
2026-01-22 09:45:01,702 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:45:00] Market Sentiment: BEARISH | OHLC: O=25395.05 H=25395.05 L=25395.05 C=25395.05
2026-01-22 09:45:01,702 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:45:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:45:01.702 for sentiment: BEARISH
2026-01-22 09:45:01,722 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:45:01,723 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=81)
2026-01-22 09:45:01,724 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:44:00 -> current=09:45:00, expected_timestamp=09:45:00, df_length=81, W%R(9) prev=-63.39 current=-62.31, W%R(28) prev=-20.26 current=-21.27
2026-01-22 09:45:01,724 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-63.39, current=-62.31, threshold=-79, W%R(28) prev=-20.26, current=-21.27, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:45:01,725 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=81)
2026-01-22 09:45:01,726 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:44:00 -> current=09:45:00, expected_timestamp=09:45:00, df_length=81, W%R(9) prev=-38.60 current=-39.02, W%R(28) prev=-79.75 current=-76.80
2026-01-22 09:45:01,726 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-38.60, current=-39.02, threshold=-79, W%R(28) prev=-79.75, current=-76.80, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 09:45:01,951 - root - INFO - ================================================
2026-01-22 09:45:01,984 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:45:01.984 - Latest candle: 09:45:00, DataFrame length: 81
2026-01-22 09:45:01,988 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:45:00, O: 134.4, H: 134.4, L: 134.4, C: 134.4, ST: Bear (139.03), W%R (9): -39.0, W%R (28): -76.8, K: 97.6, D: 95.8
2026-01-22 09:45:01,989 - async_event_handlers - INFO - [TIMING] New candle completed at 09:44:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:45:01.989 for sentiment: BEARISH
2026-01-22 09:45:01,990 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:45:01,990 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=81)
2026-01-22 09:45:01,991 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:44:00 -> current=09:45:00, expected_timestamp=09:45:00, df_length=81, W%R(9) prev=-63.39 current=-62.31, W%R(28) prev=-20.26 current=-21.27
2026-01-22 09:45:01,991 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-63.39, current=-62.31, threshold=-79, W%R(28) prev=-20.26, current=-21.27, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:45:01,992 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=81)
2026-01-22 09:45:01,993 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:44:00 -> current=09:45:00, expected_timestamp=09:45:00, df_length=81, W%R(9) prev=-32.75 current=-39.02, W%R(28) prev=-78.11 current=-76.80
2026-01-22 09:45:01,993 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-32.75, current=-39.02, threshold=-79, W%R(28) prev=-78.11, current=-76.80, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 09:45:03,216 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:45:03.216 - Latest candle: 09:45:00, DataFrame length: 81
2026-01-22 09:45:03,220 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:45:00, O: 186.4, H: 186.4, L: 186.4, C: 186.4, ST: Bull (181.51), W%R (9): -62.3, W%R (28): -21.3, K: 2.4, D: 1.6
2026-01-22 09:45:03,221 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 09:44:00 (last_check=09:44:00)
2026-01-22 09:45:05,451 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:44:00] Market Sentiment: BEARISH | OHLC: O=25396.15 H=25396.15 L=25396.15 C=25396.15
2026-01-22 09:46:00,451 - root - INFO - ================================================
2026-01-22 09:46:00,467 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:46:00.467 - Latest candle: 09:45:00, DataFrame length: 81
2026-01-22 09:46:00,470 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:45:00, O: 185.3, H: 192.3, L: 182.3, C: 187.9, ST: Bull (181.51), W%R (9): -55.6, W%R (28): -19.4, K: 2.8, D: 1.7
2026-01-22 09:46:00,489 - async_event_handlers - INFO - [TIMING] New candle completed at 09:45:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:46:00.489 for sentiment: BEARISH
2026-01-22 09:46:00,489 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:46:00,490 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=81)
2026-01-22 09:46:00,492 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:44:00 -> current=09:45:00, expected_timestamp=09:45:00, df_length=81, W%R(9) prev=-56.69 current=-55.65, W%R(28) prev=-18.12 current=-19.38
2026-01-22 09:46:00,492 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-56.69, current=-55.65, threshold=-79, W%R(28) prev=-18.12, current=-19.38, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:46:00,493 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=81)
2026-01-22 09:46:00,493 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:44:00 -> current=09:45:00, expected_timestamp=09:45:00, df_length=81, W%R(9) prev=-32.75 current=-39.02, W%R(28) prev=-78.11 current=-76.80
2026-01-22 09:46:00,494 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-32.75, current=-39.02, threshold=-79, W%R(28) prev=-78.11, current=-76.80, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 09:46:00,716 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:46:00.716 - Latest candle: 09:45:00, DataFrame length: 81
2026-01-22 09:46:00,720 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:45:00, O: 133.9, H: 135.8, L: 127.5, C: 129.4, ST: Bear (139.03), W%R (9): -80.1, W%R (28): -85.1, K: 92.8, D: 94.1
2026-01-22 09:46:00,773 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 09:45:00 (last_check=09:45:00)
2026-01-22 09:46:00,773 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:45:00] Market Sentiment: BEARISH | OHLC: O=25390.85 H=25405.50 L=25390.85 C=25400.55
2026-01-22 09:47:01,451 - root - INFO - ================================================
2026-01-22 09:47:01,485 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:47:01.484 - Latest candle: 09:46:00, DataFrame length: 82
2026-01-22 09:47:01,488 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:46:00, O: 129.2, H: 130.1, L: 125.5, C: 128.8, ST: Bear (139.03), W%R (9): -75.6, W%R (28): -86.0, K: 88.8, D: 93.1
2026-01-22 09:47:01,751 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:47:01.751 - Latest candle: 09:46:00, DataFrame length: 82
2026-01-22 09:47:01,755 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:46:00, O: 187.9, H: 194.9, L: 187.9, C: 189.4, ST: Bull (181.51), W%R (9): -49.0, W%R (28): -17.5, K: 4.7, D: 3.3
2026-01-22 09:47:01,757 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:46:00] Market Sentiment: BEARISH | OHLC: O=25398.75 H=25409.60 L=25398.75 C=25405.35
2026-01-22 09:47:01,758 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:46:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:47:01.758 for sentiment: BEARISH
2026-01-22 09:47:01,759 - async_live_ticker_handler - WARNING - [SLAB CHANGE] Potential Entry2 trigger detected for NIFTY26JAN25400PE - W%R(9) crossed above threshold (-80.08 -> -75.64 for W%R(9), -85.08 -> -85.98 for W%R(28)) - blocking slab change
2026-01-22 09:47:01,759 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25400PE'] [ALERT][ALERT][ALERT]
2026-01-22 09:47:01,759 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25403.11, close=25405.35 | Would change: CE 25350->25400, PE 25400->25450
2026-01-22 09:47:01,759 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 09:47:01,759 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:47:01,760 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=82)
2026-01-22 09:47:01,761 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:45:00 -> current=09:46:00, expected_timestamp=09:46:00, df_length=82, W%R(9) prev=-55.65 current=-49.00, W%R(28) prev=-19.38 current=-17.50
2026-01-22 09:47:01,761 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-55.65, current=-49.00, threshold=-79, W%R(28) prev=-19.38, current=-17.50, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:47:01,762 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=82)
2026-01-22 09:47:01,763 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:45:00 -> current=09:46:00, expected_timestamp=09:46:00, df_length=82, W%R(9) prev=-80.08 current=-75.64, W%R(28) prev=-85.08 current=-85.98
2026-01-22 09:47:01,763 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-80.08, current=-75.64, threshold=-79, W%R(28) prev=-85.08, current=-85.98, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:47:01,763 - entry_conditions - INFO - Entry2: Trigger detected for NIFTY26JAN25400PE - W%R(9) crossed above threshold: W%R(9) -80.08 -> -75.64, W%R(28) -85.08 -> -85.98, SuperTrend bearish
2026-01-22 09:47:01,763 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25400PE at bar 15 (T, T+1, ..., T+3), window expires at bar 19
2026-01-22 09:48:07,202 - root - INFO - ================================================
2026-01-22 09:48:07,217 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:48:07.217 - Latest candle: 09:47:00, DataFrame length: 83
2026-01-22 09:48:07,220 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:47:00, O: 128.8, H: 128.8, L: 118.7, C: 119.5, ST: Bear (137.19), W%R (9): -95.6, W%R (28): -98.4, K: 73.3, D: 85.0
2026-01-22 09:48:07,471 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:47:00] Market Sentiment: BEARISH | OHLC: O=25405.15 H=25423.90 L=25404.10 C=25423.90
2026-01-22 09:48:07,471 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25400PE'] [ALERT][ALERT][ALERT]
2026-01-22 09:48:07,472 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25414.26, close=25423.90 | Would change: CE 25350->25400, PE 25400->25450
2026-01-22 09:48:07,472 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 09:48:09,484 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:48:09.484 - Latest candle: 09:47:00, DataFrame length: 83
2026-01-22 09:48:09,487 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:47:00, O: 191.1, H: 208.4, L: 191.0, C: 206.1, ST: Bull (181.56), W%R (9): -7.5, W%R (28): -2.8, K: 16.9, D: 8.2
2026-01-22 09:48:09,489 - async_event_handlers - INFO - [TIMING] New candle completed at 09:47:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:48:09.489 for sentiment: BEARISH
2026-01-22 09:48:09,489 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:48:09,490 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=83)
2026-01-22 09:48:09,491 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:46:00 -> current=09:47:00, expected_timestamp=09:47:00, df_length=83, W%R(9) prev=-49.00 current=-7.55, W%R(28) prev=-17.50 current=-2.75
2026-01-22 09:48:09,491 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-49.00, current=-7.55, threshold=-79, W%R(28) prev=-17.50, current=-2.75, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:48:09,492 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25400PE: Fast WPR crossed back below -79 at bar 16: -75.64 -> -95.63
2026-01-22 09:48:09,492 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=83)
2026-01-22 09:48:09,493 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:46:00 -> current=09:47:00, expected_timestamp=09:47:00, df_length=83, W%R(9) prev=-75.64 current=-95.63, W%R(28) prev=-85.98 current=-98.42
2026-01-22 09:48:09,493 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-75.64, current=-95.63, threshold=-79, W%R(28) prev=-85.98, current=-98.42, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:49:01,952 - root - INFO - ================================================
2026-01-22 09:49:02,003 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:49:02.002 - Latest candle: 09:48:00, DataFrame length: 84
2026-01-22 09:49:02,006 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:48:00, O: 208.7, H: 213.2, L: 204.9, C: 211.3, ST: Bull (191.10), W%R (9): -5.8, W%R (28): -2.3, K: 34.1, D: 18.6
2026-01-22 09:49:02,009 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:48:00] Market Sentiment: BULLISH | OHLC: O=25423.80 H=25431.45 L=25421.80 C=25428.90
2026-01-22 09:49:02,009 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 09:49:02,010 - async_live_ticker_handler - INFO - [09:48:00] Market sentiment CHANGED: BEARISH -> BULLISH
2026-01-22 09:49:02,010 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25400PE'] [ALERT][ALERT][ALERT]
2026-01-22 09:49:02,010 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25426.49, close=25428.90 | Would change: CE 25350->25400, PE 25400->25450
2026-01-22 09:49:02,010 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 09:49:02,217 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:49:02.217 - Latest candle: 09:48:00, DataFrame length: 84
2026-01-22 09:49:02,220 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:48:00, O: 117.8, H: 118.3, L: 113.9, C: 116.8, ST: Bear (129.37), W%R (9): -88.6, W%R (28): -94.0, K: 57.1, D: 73.1
2026-01-22 09:49:02,221 - async_event_handlers - INFO - [TIMING] New candle completed at 09:48:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:49:02.221 for sentiment: BULLISH
2026-01-22 09:49:02,222 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:49:02,223 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=84)
2026-01-22 09:49:02,224 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=84)
2026-01-22 09:49:02,225 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:47:00 -> current=09:48:00, expected_timestamp=09:48:00, df_length=84, W%R(9) prev=-95.63 current=-88.56, W%R(28) prev=-98.42 current=-93.95
2026-01-22 09:49:02,225 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-95.63, current=-88.56, threshold=-79, W%R(28) prev=-98.42, current=-93.95, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:50:12,951 - root - INFO - ================================================
2026-01-22 09:50:17,202 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:49:00] Market Sentiment: BULLISH | OHLC: O=25428.65 H=25428.85 L=25419.50 C=25419.50
2026-01-22 09:50:17,202 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25400PE'] [ALERT][ALERT][ALERT]
2026-01-22 09:50:17,203 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25424.12, close=25419.50 | Would change: CE 25350->25400, PE 25400->25450
2026-01-22 09:50:17,203 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 09:50:17,218 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:50:17.218 - Latest candle: 09:49:00, DataFrame length: 85
2026-01-22 09:50:17,222 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:49:00, O: 117.1, H: 119.8, L: 116.7, C: 119.8, ST: Bear (129.37), W%R (9): -76.5, W%R (28): -87.6, K: 50.8, D: 60.4
2026-01-22 09:50:20,467 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:50:20.467 - Latest candle: 09:49:00, DataFrame length: 85
2026-01-22 09:50:20,471 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:49:00, O: 210.6, H: 210.6, L: 201.8, C: 203.1, ST: Bull (191.10), W%R (9): -31.0, W%R (28): -12.3, K: 34.9, D: 28.6
2026-01-22 09:50:20,472 - async_event_handlers - INFO - [TIMING] New candle completed at 09:49:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:50:20.472 for sentiment: BULLISH
2026-01-22 09:50:20,472 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:50:20,473 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=85)
2026-01-22 09:50:20,474 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:48:00 -> current=09:49:00, expected_timestamp=09:49:00, df_length=85, W%R(9) prev=-5.81 current=-31.04, W%R(28) prev=-2.30 current=-12.30
2026-01-22 09:50:20,474 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-5.81, current=-31.04, threshold=-79, W%R(28) prev=-2.30, current=-12.30, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:50:20,475 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=85)
2026-01-22 09:50:20,476 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:48:00 -> current=09:49:00, expected_timestamp=09:49:00, df_length=85, W%R(9) prev=-88.56 current=-76.53, W%R(28) prev=-93.95 current=-87.59
2026-01-22 09:50:20,476 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-88.56, current=-76.53, threshold=-79, W%R(28) prev=-93.95, current=-87.59, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:50:20,476 - entry_conditions - INFO - Entry2: NEW TRIGGER DETECTED for NIFTY26JAN25400PE at bar 18 - replacing old trigger at 15 (W%R(9) crossed and W%R(28) was below threshold, WPR9_INVALIDATION=false, allowing trigger replacement)
2026-01-22 09:50:20,477 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25400PE at bar 18 (T, T+1, ..., T+3), window expires at bar 22
2026-01-22 09:51:04,951 - root - INFO - ================================================
2026-01-22 09:51:18,967 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:51:18.967 - Latest candle: 09:50:00, DataFrame length: 86
2026-01-22 09:51:18,970 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:50:00, O: 118.5, H: 118.5, L: 115.6, C: 115.6, ST: Bear (129.19), W%R (9): -93.3, W%R (28): -96.3, K: 45.5, D: 51.1
2026-01-22 09:51:19,217 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:51:19.216 - Latest candle: 09:50:00, DataFrame length: 86
2026-01-22 09:51:19,220 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:50:00, O: 204.8, H: 213.3, L: 204.8, C: 213.3, ST: Bull (191.10), W%R (9): 0.0, W%R (28): 0.0, K: 31.1, D: 33.4
2026-01-22 09:51:19,702 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:50:00] Market Sentiment: BULLISH | OHLC: O=25421.25 H=25430.65 L=25421.25 C=25430.65
2026-01-22 09:51:19,702 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:50:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:51:19.702 for sentiment: BULLISH
2026-01-22 09:51:19,703 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25400PE'] [ALERT][ALERT][ALERT]
2026-01-22 09:51:19,703 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25425.95, close=25430.65 | Would change: CE 25350->25400, PE 25400->25450
2026-01-22 09:51:19,703 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 09:51:19,704 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:51:19,704 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=86)
2026-01-22 09:51:19,705 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:49:00 -> current=09:50:00, expected_timestamp=09:50:00, df_length=86, W%R(9) prev=-31.04 current=0.00, W%R(28) prev=-12.30 current=0.00
2026-01-22 09:51:19,706 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-31.04, current=0.00, threshold=-79, W%R(28) prev=-12.30, current=0.00, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:51:19,706 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25400PE: Fast WPR crossed back below -79 at bar 19: -76.53 -> -93.29
2026-01-22 09:51:19,706 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=86)
2026-01-22 09:51:19,707 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:49:00 -> current=09:50:00, expected_timestamp=09:50:00, df_length=86, W%R(9) prev=-76.53 current=-93.29, W%R(28) prev=-87.59 current=-96.30
2026-01-22 09:51:19,707 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-76.53, current=-93.29, threshold=-79, W%R(28) prev=-87.59, current=-96.30, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:52:00,451 - root - INFO - ================================================
2026-01-22 09:52:00,717 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:52:00.717 - Latest candle: 09:51:00, DataFrame length: 87
2026-01-22 09:52:00,721 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:51:00, O: 115.0, H: 120.8, L: 114.5, C: 118.3, ST: Bear (129.19), W%R (9): -81.9, W%R (28): -90.4, K: 52.6, D: 49.6
2026-01-22 09:52:00,985 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:52:00.985 - Latest candle: 09:51:00, DataFrame length: 87
2026-01-22 09:52:00,989 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:51:00, O: 212.6, H: 214.8, L: 204.2, C: 208.6, ST: Bull (191.10), W%R (9): -18.2, W%R (28): -7.4, K: 17.0, D: 27.7
2026-01-22 09:52:00,989 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:51:00] Market Sentiment: BULLISH | OHLC: O=25433.40 H=25433.40 L=25422.15 C=25424.55
2026-01-22 09:52:00,990 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25400PE'] [ALERT][ALERT][ALERT]
2026-01-22 09:52:00,990 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25428.38, close=25424.55 | Would change: CE 25350->25400, PE 25400->25450
2026-01-22 09:52:00,990 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 09:52:00,992 - async_event_handlers - INFO - [TIMING] New candle completed at 09:51:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:52:00.992 for sentiment: BULLISH
2026-01-22 09:52:00,992 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:52:00,993 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=87)
2026-01-22 09:52:00,994 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:50:00 -> current=09:51:00, expected_timestamp=09:51:00, df_length=87, W%R(9) prev=0.00 current=-18.22, W%R(28) prev=0.00 current=-7.43
2026-01-22 09:52:00,994 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=0.00, current=-18.22, threshold=-79, W%R(28) prev=0.00, current=-7.43, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:52:00,995 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=87)
2026-01-22 09:52:00,996 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:50:00 -> current=09:51:00, expected_timestamp=09:51:00, df_length=87, W%R(9) prev=-93.29 current=-81.86, W%R(28) prev=-96.30 current=-90.38
2026-01-22 09:52:00,996 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-93.29, current=-81.86, threshold=-79, W%R(28) prev=-96.30, current=-90.38, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 09:52:00,996 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25400PE (flexible mode) - K=52.61 > D=49.64 and K > 20
2026-01-22 09:53:00,451 - root - INFO - ================================================
2026-01-22 09:53:00,735 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:53:00.735 - Latest candle: 09:52:00, DataFrame length: 88
2026-01-22 09:53:00,739 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:52:00, O: 209.6, H: 209.6, L: 192.1, C: 192.6, ST: Bull (191.10), W%R (9): -68.3, W%R (28): -26.4, K: 14.3, D: 20.8
2026-01-22 09:53:00,742 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:52:00] Market Sentiment: BEARISH | OHLC: O=25424.05 H=25424.55 L=25407.55 C=25408.55
2026-01-22 09:53:00,742 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 09:53:00,743 - async_live_ticker_handler - INFO - [09:52:00] Market sentiment CHANGED: BULLISH -> BEARISH
2026-01-22 09:53:00,743 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25400PE'] [ALERT][ALERT][ALERT]
2026-01-22 09:53:00,743 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25416.17, close=25408.55 | Would change: CE 25350->25400, PE 25400->25450
2026-01-22 09:53:00,743 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 09:53:00,775 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:53:00.775 - Latest candle: 09:52:00, DataFrame length: 88
2026-01-22 09:53:00,779 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:52:00, O: 118.1, H: 127.2, L: 117.8, C: 127.2, ST: Bear (129.19), W%R (9): -39.2, W%R (28): -70.8, K: 64.6, D: 54.2
2026-01-22 09:53:00,781 - async_event_handlers - INFO - [TIMING] New candle completed at 09:52:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:53:00.781 for sentiment: BEARISH
2026-01-22 09:53:00,781 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:53:00,782 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=88)
2026-01-22 09:53:00,783 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:51:00 -> current=09:52:00, expected_timestamp=09:52:00, df_length=88, W%R(9) prev=-18.22 current=-68.31, W%R(28) prev=-7.43 current=-26.38
2026-01-22 09:53:00,783 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-18.22, current=-68.31, threshold=-79, W%R(28) prev=-7.43, current=-26.38, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:53:00,784 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=88)
2026-01-22 09:53:00,785 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:51:00 -> current=09:52:00, expected_timestamp=09:52:00, df_length=88, W%R(9) prev=-81.86 current=-39.18, W%R(28) prev=-90.38 current=-70.82
2026-01-22 09:53:00,785 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-81.86, current=-39.18, threshold=-79, W%R(28) prev=-90.38, current=-70.82, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 09:53:00,785 - entry_conditions - INFO - Entry2: NEW TRIGGER DETECTED for NIFTY26JAN25400PE at bar 21 - replacing old trigger at 18 (both W%R(9) and W%R(28) crossed on same candle, WPR9_INVALIDATION=false, allowing trigger replacement)
2026-01-22 09:53:00,785 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25400PE at bar 21 (T, T+1, ..., T+3), window expires at bar 25
2026-01-22 09:53:00,785 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25400PE (same candle as new trigger) - Slow WPR crossed above -77 (-90.38 -> -70.82), SuperTrend1 bearish
2026-01-22 09:53:00,786 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25400PE (same candle as new trigger, flexible mode) - K=64.57 > D=54.22 and K > 20
2026-01-22 09:53:00,786 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25400PE (new trigger replaced old one, all conditions met on same candle) - Current NIFTY=25408.65
2026-01-22 09:53:00,786 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25400PE
2026-01-22 09:53:00,786 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BEARISH sentiment: PE entry condition 2 met. Placing PE trade for NIFTY26JAN25400PE (sentiment filter bypassed).
2026-01-22 09:53:00,787 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25400PE (PE) ===
2026-01-22 09:53:15,347 - strategy_executor - WARNING - Could not check margin before placing order for NIFTY26JAN25400PE: HTTPSConnectionPool(host='api.kite.trade', port=443): Read timed out. (read timeout=7). Proceeding with order placement...
2026-01-22 09:53:15,742 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25400PE has status: OPEN PENDING. Order ID: 2014192108516597760. Proceeding with caution.
2026-01-22 09:53:15,743 - strategy_executor - INFO - [OK] Entry2 TRADE TAKEN for NIFTY26JAN25400PE - Order ID: 2014192108516597760, Quantity: 195, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 09:53:15,743 - trade_state_manager - INFO - New trade added for NIFTY26JAN25400PE. Manual trade: True. Metadata: {'entry_type': 'Entry2'}
2026-01-22 09:53:15,783 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25400PE: 125.1
2026-01-22 09:53:15,784 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25400PE @ 09:53:15 price=125.10
2026-01-22 09:53:15,784 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25400PE - Checking POSITION_MANAGEMENT config...
2026-01-22 09:53:15,784 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25400PE
2026-01-22 09:53:15,784 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25400PE [OK][OK][OK]
2026-01-22 09:53:15,784 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25400PE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 09:53:15,785 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'calculated_sl_price': 115.7, 'last_sl_price': 115.7}
2026-01-22 09:53:15,785 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25400PE: 3 symbols mapped
2026-01-22 09:53:15,785 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25400PE -> 15028738
2026-01-22 09:53:15,785 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25400PE (Entry=125.10, SL=115.70, TP=None, SuperTrendSL=False) [NOTE][NOTE][NOTE]
2026-01-22 09:53:15,785 - realtime_position_manager - INFO - [NOTE] Active positions count: 1
2026-01-22 09:53:15,786 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25400PE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 09:53:15,786 - entry_conditions - INFO - [OK] Entry2 trade successfully executed for NIFTY26JAN25400PE
2026-01-22 09:54:08,201 - root - INFO - ================================================
2026-01-22 09:54:08,735 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:54:08.734 - Latest candle: 09:53:00, DataFrame length: 89
2026-01-22 09:54:08,738 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:53:00, O: 126.5, H: 128.0, L: 124.7, C: 127.3, ST: Bear (129.19), W%R (9): -38.7, W%R (28): -69.6, K: 86.1, D: 67.8
2026-01-22 09:54:10,485 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:54:10.485 - Latest candle: 09:53:00, DataFrame length: 89
2026-01-22 09:54:10,489 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:53:00, O: 192.6, H: 196.8, L: 190.9, C: 192.1, ST: Bull (191.10), W%R (9): -70.0, W%R (28): -27.9, K: 3.5, D: 11.6
2026-01-22 09:54:10,491 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:53:00] Market Sentiment: BEARISH | OHLC: O=25408.65 H=25409.50 L=25405.00 C=25405.00
2026-01-22 09:54:10,491 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:53:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:54:10.491 for sentiment: BEARISH
2026-01-22 09:54:10,491 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Active trades detected: ['NIFTY26JAN25400PE'] [ALERT][ALERT][ALERT]
2026-01-22 09:54:10,492 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25407.04, close=25405.00 | Would change: CE 25350->25400, PE 25400->25450
2026-01-22 09:54:10,492 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect active positions. Will retry after all trades exit.
2026-01-22 09:54:10,510 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:54:10,511 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=89)
2026-01-22 09:54:10,512 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:52:00 -> current=09:53:00, expected_timestamp=09:53:00, df_length=89, W%R(9) prev=-68.31 current=-70.00, W%R(28) prev=-26.38 current=-27.86
2026-01-22 09:54:10,512 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-68.31, current=-70.00, threshold=-79, W%R(28) prev=-26.38, current=-27.86, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:54:10,513 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=89)
2026-01-22 09:54:10,551 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 09:55:00,701 - root - INFO - ================================================
2026-01-22 09:55:00,770 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:55:00.770 - Latest candle: 09:54:00, DataFrame length: 90
2026-01-22 09:55:00,774 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:54:00, O: 186.6, H: 191.2, L: 186.6, C: 187.4, ST: Bear (207.46), W%R (9): -97.0, W%R (28): -41.5, K: 0.0, D: 5.9
2026-01-22 09:55:00,952 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:54:00] Market Sentiment: BEARISH | OHLC: O=25397.25 H=25399.60 L=25395.25 C=25397.30
2026-01-22 09:55:00,986 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:55:00.986 - Latest candle: 09:54:00, DataFrame length: 90
2026-01-22 09:55:00,990 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:54:00, O: 131.0, H: 131.1, L: 127.4, C: 128.0, ST: Bear (129.19), W%R (9): -18.0, W%R (28): -50.3, K: 100.0, D: 83.5
2026-01-22 09:55:00,992 - async_event_handlers - INFO - [TIMING] New candle completed at 09:54:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:55:00.992 for sentiment: BEARISH
2026-01-22 09:55:00,992 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:55:00,993 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=90)
2026-01-22 09:55:00,994 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:53:00 -> current=09:54:00, expected_timestamp=09:54:00, df_length=90, W%R(9) prev=-70.00 current=-96.99, W%R(28) prev=-27.86 current=-41.50
2026-01-22 09:55:00,994 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-70.00, current=-96.99, threshold=-79, W%R(28) prev=-27.86, current=-41.50, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:55:00,995 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=90)
2026-01-22 09:55:01,033 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 09:55:19,951 - async_live_ticker_handler - INFO - [TARGET] DYNAMIC_TRAILING_MA: High price 133.90 reached 7% threshold (133.86) above entry 125.10 for NIFTY26JAN25400PE. Activating MA-based trailing.
2026-01-22 09:55:19,951 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'dynamic_trailing_ma_active': True}
2026-01-22 09:55:19,952 - realtime_position_manager - INFO - [SYNC] Synced MA trailing state: Activated for NIFTY26JAN25400PE (threshold reached)
2026-01-22 09:56:00,701 - root - INFO - ================================================
2026-01-22 09:56:03,220 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:55:00] Market Sentiment: BEARISH | OHLC: O=25396.05 H=25396.75 L=25379.20 C=25384.70
2026-01-22 09:56:04,467 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:56:04.467 - Latest candle: 09:55:00, DataFrame length: 91
2026-01-22 09:56:04,471 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:55:00, O: 128.3, H: 135.3, L: 128.3, C: 132.8, ST: Bull (119.75), W%R (9): -11.7, W%R (28): -25.2, K: 100.0, D: 95.3
2026-01-22 09:56:04,472 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'supertrend_sl_active': True}
2026-01-22 09:56:04,472 - realtime_position_manager - INFO - [SYNC] SuperTrend SL ACTIVATED for NIFTY26JAN25400PE: SuperTrend turned bullish, using 119.75 as trailing SL
2026-01-22 09:56:04,473 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'last_sl_price': 119.75, 'calculated_sl_price': 119.75}
2026-01-22 09:56:04,474 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25400PE: 115.70 -> 119.75
2026-01-22 09:56:09,217 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:56:09.217 - Latest candle: 09:55:00, DataFrame length: 91
2026-01-22 09:56:09,221 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:55:00, O: 188.2, H: 188.2, L: 177.3, C: 180.6, ST: Bear (201.64), W%R (9): -91.3, W%R (28): -61.7, K: 0.0, D: 1.2
2026-01-22 09:56:09,222 - async_event_handlers - INFO - [TIMING] New candle completed at 09:55:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:56:09.222 for sentiment: BEARISH
2026-01-22 09:56:09,222 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:56:09,223 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=91)
2026-01-22 09:56:09,224 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:54:00 -> current=09:55:00, expected_timestamp=09:55:00, df_length=91, W%R(9) prev=-96.99 current=-91.33, W%R(28) prev=-41.50 current=-61.66
2026-01-22 09:56:09,224 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-96.99, current=-91.33, threshold=-79, W%R(28) prev=-41.50, current=-61.66, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:56:09,225 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=91)
2026-01-22 09:56:09,269 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 09:56:09,701 - root - INFO - ================================================
2026-01-22 09:56:09,735 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:56:09.735 - Latest candle: 09:56:00, DataFrame length: 92
2026-01-22 09:56:09,738 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:56:00, O: 133.5, H: 133.5, L: 132.8, C: 132.8, ST: Bull (122.18), W%R (9): -11.7, W%R (28): -25.2, K: 100.0, D: 100.0
2026-01-22 09:56:09,796 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'last_sl_price': 122.18, 'calculated_sl_price': 122.18}
2026-01-22 09:56:09,796 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:56:00] Market Sentiment: BEARISH | OHLC: O=25385.25 H=25385.25 L=25385.25 C=25385.25
2026-01-22 09:56:09,797 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25400PE: 119.75 -> 122.18
2026-01-22 09:56:10,951 - root - INFO - ================================================
2026-01-22 09:56:11,202 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:55:00] Market Sentiment: BEARISH | OHLC: O=25385.30 H=25385.30 L=25385.30 C=25385.30
2026-01-22 09:56:13,217 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:56:13.217 - Latest candle: 09:56:00, DataFrame length: 92
2026-01-22 09:56:13,221 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:56:00, O: 133.5, H: 133.5, L: 132.8, C: 132.8, ST: Bull (122.60), W%R (9): -3.3, W%R (28): -25.2, K: 100.0, D: 100.0
2026-01-22 09:56:13,222 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'last_sl_price': 122.6, 'calculated_sl_price': 122.6}
2026-01-22 09:56:13,222 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25400PE: 122.18 -> 122.60
2026-01-22 09:56:13,223 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 09:55:00 (last_check=09:55:00)
2026-01-22 09:57:00,701 - root - INFO - ================================================
2026-01-22 09:57:01,717 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:57:01.717 - Latest candle: 09:56:00, DataFrame length: 92
2026-01-22 09:57:01,720 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:56:00, O: 132.6, H: 133.5, L: 129.3, C: 130.2, ST: Bull (120.41), W%R (9): -16.8, W%R (28): -35.7, K: 98.3, D: 99.4
2026-01-22 09:57:01,721 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'last_sl_price': 120.41, 'calculated_sl_price': 120.41}
2026-01-22 09:57:01,722 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25400PE: 122.60 -> 120.41
2026-01-22 09:57:03,217 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:57:03.217 - Latest candle: 09:56:00, DataFrame length: 92
2026-01-22 09:57:03,220 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:56:00, O: 181.3, H: 185.6, L: 179.9, C: 183.7, ST: Bear (200.85), W%R (9): -83.1, W%R (28): -59.2, K: 2.3, D: 0.8
2026-01-22 09:57:03,221 - async_event_handlers - INFO - [TIMING] New candle completed at 09:56:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:57:03.221 for sentiment: BEARISH
2026-01-22 09:57:03,222 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:57:03,222 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=92)
2026-01-22 09:57:03,223 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:55:00 -> current=09:56:00, expected_timestamp=09:56:00, df_length=92, W%R(9) prev=-91.33 current=-83.07, W%R(28) prev=-61.66 current=-59.16
2026-01-22 09:57:03,224 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-91.33, current=-83.07, threshold=-79, W%R(28) prev=-61.66, current=-59.16, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:57:03,224 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=92)
2026-01-22 09:57:03,261 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 09:57:03,452 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:56:00] Market Sentiment: BEARISH | OHLC: O=25385.55 H=25391.05 L=25384.20 C=25387.95
2026-01-22 09:58:00,701 - root - INFO - ================================================
2026-01-22 09:58:00,735 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:58:00.735 - Latest candle: 09:57:00, DataFrame length: 93
2026-01-22 09:58:00,739 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:57:00, O: 185.6, H: 193.3, L: 182.7, C: 185.2, ST: Bear (200.85), W%R (9): -78.9, W%R (28): -60.0, K: 5.7, D: 2.7
2026-01-22 09:58:00,952 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:57:00] Market Sentiment: BEARISH | OHLC: O=25390.20 H=25402.50 L=25388.10 C=25389.80
2026-01-22 09:58:00,987 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:58:00.987 - Latest candle: 09:57:00, DataFrame length: 93
2026-01-22 09:58:00,990 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:57:00, O: 128.3, H: 129.1, L: 122.4, C: 126.2, ST: Bull (120.41), W%R (9): -38.7, W%R (28): -51.7, K: 90.7, D: 96.3
2026-01-22 09:58:01,028 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'last_sl_price': 120.41, 'calculated_sl_price': 120.41}
2026-01-22 09:58:01,029 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25400PE: 120.41 -> 120.41
2026-01-22 09:58:01,031 - async_event_handlers - INFO - [TIMING] New candle completed at 09:57:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:58:01.031 for sentiment: BEARISH
2026-01-22 09:58:01,032 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:58:01,033 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=93)
2026-01-22 09:58:01,034 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:56:00 -> current=09:57:00, expected_timestamp=09:57:00, df_length=93, W%R(9) prev=-83.07 current=-78.93, W%R(28) prev=-59.16 current=-60.04
2026-01-22 09:58:01,035 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-83.07, current=-78.93, threshold=-79, W%R(28) prev=-59.16, current=-60.04, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:58:01,035 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=93)
2026-01-22 09:58:01,074 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 09:58:57,201 - realtime_position_manager - WARNING - [STOP] SL TRIGGERED: NIFTY26JAN25400PE - LTP=120.00 <= SL=120.41 (gap=0.41, 0.34%)
2026-01-22 09:58:57,202 - immediate_exit_executor - INFO - [START] Executing exit: NIFTY26JAN25400PE - SL @ 120.00 (qty=195)
2026-01-22 09:58:57,239 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25400PE @ 09:58:57 price=120.00 pnl=-4.08% reason=SL
2026-01-22 09:58:57,239 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25400PE: SL @ 120.00
2026-01-22 09:58:57,321 - immediate_exit_executor - WARNING - [UNKNOWN EXIT ORDER STATUS] Exit order for NIFTY26JAN25400PE has status: OPEN PENDING. Order ID: 2014193542431694848. Proceeding with caution.
2026-01-22 09:58:57,321 - immediate_exit_executor - INFO - [OK] Market exit order placed: NIFTY26JAN25400PE - Order ID: 2014193542431694848 (Status: OPEN PENDING, attempt 1/3)
2026-01-22 09:58:57,854 - immediate_exit_executor - INFO - [OK] Position validated closed: NIFTY26JAN25400PE (Order ID: 2014193542431694848)
2026-01-22 09:58:57,854 - immediate_exit_executor - CRITICAL - [OK][OK][OK] Exit executed successfully: NIFTY26JAN25400PE - SL @ 120.00 (Order ID: 2014193542431694848) [OK][OK][OK]
2026-01-22 09:58:58,202 - realtime_position_manager - WARNING - [WARN] Exit signal already dispatched for NIFTY26JAN25400PE, skipping duplicate SL trigger on this tick
2026-01-22 09:58:58,202 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25400PE
2026-01-22 09:59:00,451 - root - INFO - ================================================
2026-01-22 09:59:00,735 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 09:59:00.735 - Latest candle: 09:58:00, DataFrame length: 94
2026-01-22 09:59:00,738 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:58:00, O: 126.5, H: 128.1, L: 119.7, C: 119.7, ST: Bear (135.88), W%R (9): -72.6, W%R (28): -77.1, K: 75.1, D: 88.0
2026-01-22 09:59:00,791 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 09:59:00.791 - Latest candle: 09:58:00, DataFrame length: 94
2026-01-22 09:59:00,794 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:58:00, O: 184.7, H: 191.6, L: 181.4, C: 191.1, ST: Bear (200.85), W%R (9): -63.3, W%R (28): -56.3, K: 13.3, D: 7.1
2026-01-22 09:59:00,798 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:58:00] Market Sentiment: BEARISH | OHLC: O=25389.60 H=25402.25 L=25387.80 C=25402.25
2026-01-22 09:59:00,799 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 09:58:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 09:59:00.799 for sentiment: BEARISH
2026-01-22 09:59:00,800 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 09:59:00,800 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=94)
2026-01-22 09:59:00,801 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:57:00 -> current=09:58:00, expected_timestamp=09:58:00, df_length=94, W%R(9) prev=-78.93 current=-63.33, W%R(28) prev=-60.04 current=-56.28
2026-01-22 09:59:00,801 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-78.93, current=-63.33, threshold=-79, W%R(28) prev=-60.04, current=-56.28, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 09:59:00,802 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=94)
2026-01-22 09:59:00,802 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400PE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=119.7, close=119.7
2026-01-22 10:00:00,451 - root - INFO - ================================================
2026-01-22 10:00:00,487 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:00:00.487 - Latest candle: 09:59:00, DataFrame length: 95
2026-01-22 10:00:00,490 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 09:59:00, O: 190.7, H: 194.4, L: 183.3, C: 185.0, ST: Bear (200.85), W%R (9): -79.5, W%R (28): -73.6, K: 13.8, D: 11.0
2026-01-22 10:00:00,721 - market_sentiment_v2.realtime_sentiment_manager - INFO - [09:59:00] Market Sentiment: BEARISH | OHLC: O=25402.25 H=25407.30 L=25394.55 C=25394.55
2026-01-22 10:00:00,738 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:00:00.738 - Latest candle: 09:59:00, DataFrame length: 95
2026-01-22 10:00:00,742 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 09:59:00, O: 120.2, H: 124.7, L: 117.7, C: 123.5, ST: Bear (133.35), W%R (9): -52.9, W%R (28): -62.3, K: 68.6, D: 78.2
2026-01-22 10:00:00,780 - async_event_handlers - INFO - [TIMING] New candle completed at 09:59:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:00:00.780 for sentiment: BEARISH
2026-01-22 10:00:00,780 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:00:00,780 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25350CE: Fast WPR crossed back below -79 at bar 7: -63.33 -> -79.47
2026-01-22 10:00:00,781 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=95)
2026-01-22 10:00:00,783 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=09:58:00 -> current=09:59:00, expected_timestamp=09:59:00, df_length=95, W%R(9) prev=-63.33 current=-79.47, W%R(28) prev=-56.28 current=-73.58
2026-01-22 10:00:00,784 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-63.33, current=-79.47, threshold=-79, W%R(28) prev=-56.28, current=-73.58, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:00:00,784 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=95)
2026-01-22 10:00:00,785 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=09:58:00 -> current=09:59:00, expected_timestamp=09:59:00, df_length=95, W%R(9) prev=-72.63 current=-52.89, W%R(28) prev=-77.12 current=-62.33
2026-01-22 10:00:00,785 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-72.63, current=-52.89, threshold=-79, W%R(28) prev=-77.12, current=-62.33, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 10:01:00,701 - root - INFO - ================================================
2026-01-22 10:01:00,736 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:01:00.736 - Latest candle: 10:00:00, DataFrame length: 96
2026-01-22 10:01:00,740 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:00:00, O: 185.2, H: 195.0, L: 184.1, C: 190.6, ST: Bear (200.85), W%R (9): -58.8, W%R (28): -64.5, K: 17.2, D: 14.8
2026-01-22 10:01:01,221 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:00:00] Market Sentiment: BEARISH | OHLC: O=25395.30 H=25411.65 L=25395.30 C=25404.75
2026-01-22 10:01:01,222 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25401.75
2026-01-22 10:01:01,223 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 10:01:01,223 - root - INFO - Generated symbols: CE=NIFTY26JAN25400CE, PE=NIFTY26JAN25450PE
2026-01-22 10:01:04,628 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 10:01:04,628 - root - INFO - CE: NIFTY26JAN25400CE (Token: 15028482)
2026-01-22 10:01:04,629 - root - INFO - PE: NIFTY26JAN25450PE (Token: 15029762)
2026-01-22 10:01:04,629 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25350CE -> NIFTY26JAN25400CE, PE: NIFTY26JAN25400PE -> NIFTY26JAN25450PE
2026-01-22 10:01:04,689 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25400CE with 375 candles
2026-01-22 10:01:04,774 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25450PE with 375 candles
2026-01-22 10:01:04,797 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 10:00:00: old_ce=NIFTY26JAN25350CE(15027970) -> new_ce=NIFTY26JAN25400CE, old_pe=NIFTY26JAN25400PE(15028738) -> new_pe=NIFTY26JAN25450PE
2026-01-22 10:01:04,797 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25400CE, PE=NIFTY26JAN25450PE
2026-01-22 10:01:04,801 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:01:00] Market Sentiment: BEARISH | OHLC: O=25405.05 H=25405.05 L=25405.05 C=25405.05
2026-01-22 10:01:04,802 - async_event_handlers - INFO - [TIMING] New candle completed at 10:01:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:01:04.802 for sentiment: BEARISH
2026-01-22 10:01:04,803 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25400CE, PE symbol: NIFTY26JAN25450PE
2026-01-22 10:01:04,805 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400CE (Entry2 enabled, df_length=94)
2026-01-22 10:01:04,806 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:00:00] Market Sentiment: BEARISH | OHLC: O=25404.75 H=25404.75 L=25404.75 C=25404.75
2026-01-22 10:01:04,807 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400CE: comparing candles prev=09:59:00 -> current=10:00:00, expected_timestamp=10:00:00, df_length=94, W%R(9) prev=-84.85 current=-67.23, W%R(28) prev=-72.18 current=-66.52
2026-01-22 10:01:04,808 - root - INFO - ================================================
2026-01-22 10:01:04,809 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400CE: W%R(9) prev=-84.85, current=-67.23, threshold=-79, W%R(28) prev=-72.18, current=-66.52, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:01:04,811 - entry_conditions - WARNING - [RACE CONDITION] PE DataFrame is stale! Latest candle: 09:59:00, Expected: 10:00:00 for NIFTY26JAN25450PE. Entry conditions may use stale data.
2026-01-22 10:01:04,812 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25450PE (Entry2 enabled, df_length=93)
2026-01-22 10:01:04,821 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25450PE: comparing candles prev=09:58:00 -> current=09:59:00, expected_timestamp=09:59:00, df_length=93, W%R(9) prev=-63.77 current=-45.77, W%R(28) prev=-70.65 current=-56.48
2026-01-22 10:01:04,827 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25450PE: W%R(9) prev=-63.77, current=-45.77, threshold=-79, W%R(28) prev=-70.65, current=-56.48, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:01:04,828 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 10:01:04.828 - Latest candle: 10:01:00, DataFrame length: 95
2026-01-22 10:01:04,832 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 10:01:00, O: 160.4, H: 160.4, L: 160.4, C: 160.4, ST: Bear (168.49), W%R (9): -35.2, W%R (28): -63.4, K: 12.8, D: 12.8
2026-01-22 10:01:04,868 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 10:01:04.868 - Latest candle: 10:01:00, DataFrame length: 94
2026-01-22 10:01:04,872 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 10:01:00, O: 139.6, H: 140.0, L: 139.6, C: 140.0, ST: Bear (154.02), W%R (9): -91.3, W%R (28): -79.3, K: 65.9, D: 72.9
2026-01-22 10:01:04,910 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 10:01:00 (last_check=10:01:00)
2026-01-22 10:01:04,913 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 10:01:00 (last_check=10:01:00)
2026-01-22 10:01:04,952 - root - INFO - ================================================
2026-01-22 10:01:04,968 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 10:01:04.968 - Latest candle: 10:01:00, DataFrame length: 95
2026-01-22 10:01:04,971 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 10:01:00, O: 139.6, H: 140.0, L: 139.6, C: 140.0, ST: Bear (152.63), W%R (9): -97.7, W%R (28): -79.3, K: 66.9, D: 69.2
2026-01-22 10:01:05,025 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 10:01:05.025 - Latest candle: 10:01:00, DataFrame length: 95
2026-01-22 10:01:05,029 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 10:01:00, O: 160.4, H: 160.4, L: 160.4, C: 160.4, ST: Bear (168.49), W%R (9): -35.2, W%R (28): -63.4, K: 12.8, D: 12.8
2026-01-22 10:01:05,031 - async_event_handlers - INFO - [TIMING] New candle completed at 10:00:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:01:05.031 for sentiment: BEARISH
2026-01-22 10:01:05,031 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25400CE, PE symbol: NIFTY26JAN25450PE
2026-01-22 10:01:05,033 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400CE (Entry2 enabled, df_length=95)
2026-01-22 10:01:05,037 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 10:00:00 (last_check=10:00:00)
2026-01-22 10:01:05,038 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400CE: comparing candles prev=10:00:00 -> current=10:01:00, expected_timestamp=10:01:00, df_length=95, W%R(9) prev=-67.23 current=-35.22, W%R(28) prev=-66.52 current=-63.44
2026-01-22 10:01:05,039 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400CE: W%R(9) prev=-67.23, current=-35.22, threshold=-79, W%R(28) prev=-66.52, current=-63.44, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:01:05,041 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25450PE (Entry2 enabled, df_length=95)
2026-01-22 10:01:05,042 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25450PE: comparing candles prev=10:00:00 -> current=10:01:00, expected_timestamp=10:01:00, df_length=95, W%R(9) prev=-84.66 current=-97.73, W%R(28) prev=-75.09 current=-79.35
2026-01-22 10:01:05,042 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25450PE: W%R(9) prev=-84.66, current=-97.73, threshold=-79, W%R(28) prev=-75.09, current=-79.35, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 10:02:00,452 - root - INFO - ================================================
2026-01-22 10:02:00,468 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25400CE at 10:02:00.468 - Latest candle: 10:01:00, DataFrame length: 95
2026-01-22 10:02:00,471 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400CE: Time: 10:01:00, O: 160.4, H: 161.0, L: 150.1, C: 150.1, ST: Bear (168.49), W%R (9): -100.0, W%R (28): -93.8, K: 6.7, D: 10.8
2026-01-22 10:02:00,491 - async_event_handlers - INFO - [TIMING] New candle completed at 10:01:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:02:00.491 for sentiment: BEARISH
2026-01-22 10:02:00,492 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25400CE, PE symbol: NIFTY26JAN25450PE
2026-01-22 10:02:00,493 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25400CE: Fast WPR crossed back below -79 at bar 10: -67.23 -> -100.00
2026-01-22 10:02:00,493 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400CE (Entry2 enabled, df_length=95)
2026-01-22 10:02:00,493 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400CE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=150.05, close=150.05
2026-01-22 10:02:00,494 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25450PE (Entry2 enabled, df_length=95)
2026-01-22 10:02:00,495 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25450PE: comparing candles prev=10:00:00 -> current=10:01:00, expected_timestamp=10:01:00, df_length=95, W%R(9) prev=-84.66 current=-97.73, W%R(28) prev=-75.09 current=-79.35
2026-01-22 10:02:00,495 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25450PE: W%R(9) prev=-84.66, current=-97.73, threshold=-79, W%R(28) prev=-75.09, current=-79.35, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 10:02:00,739 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:01:00] Market Sentiment: BEARISH | OHLC: O=25405.30 H=25406.40 L=25391.05 C=25391.05
2026-01-22 10:02:00,967 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25450PE at 10:02:00.967 - Latest candle: 10:01:00, DataFrame length: 95
2026-01-22 10:02:00,971 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25450PE: Time: 10:01:00, O: 140.0, H: 149.1, L: 139.3, C: 149.1, ST: Bear (155.14), W%R (9): -45.4, W%R (28): -48.3, K: 79.5, D: 73.4
2026-01-22 10:02:00,972 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 10:01:00 (last_check=10:01:00)
2026-01-22 10:03:00,702 - root - INFO - ================================================
2026-01-22 10:03:00,742 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:02:00] Market Sentiment: BEARISH | OHLC: O=25383.45 H=25386.35 L=25363.30 C=25374.35
2026-01-22 10:03:00,743 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25376.86
2026-01-22 10:03:00,744 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 10:03:00,744 - root - INFO - Generated symbols: CE=NIFTY26JAN25350CE, PE=NIFTY26JAN25400PE
2026-01-22 10:03:04,142 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 10:03:04,142 - root - INFO - CE: NIFTY26JAN25350CE (Token: 15027970)
2026-01-22 10:03:04,142 - root - INFO - PE: NIFTY26JAN25400PE (Token: 15028738)
2026-01-22 10:03:04,142 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25400CE -> NIFTY26JAN25350CE, PE: NIFTY26JAN25450PE -> NIFTY26JAN25400PE
2026-01-22 10:03:04,201 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25350CE with 375 candles
2026-01-22 10:03:04,288 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25400PE with 375 candles
2026-01-22 10:03:04,311 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 10:02:00: old_ce=NIFTY26JAN25400CE(15028482) -> new_ce=NIFTY26JAN25350CE, old_pe=NIFTY26JAN25450PE(15029762) -> new_pe=NIFTY26JAN25400PE
2026-01-22 10:03:04,311 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25350CE, PE=NIFTY26JAN25400PE
2026-01-22 10:03:04,337 - async_event_handlers - INFO - [TIMING] New candle completed at 10:03:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:03:04.337 for sentiment: BEARISH
2026-01-22 10:03:04,341 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:03:04,343 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=98)
2026-01-22 10:03:04,344 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25350CE during slab change: W%R(9) crossed above threshold comparing prev=10:01:00 -> current=10:02:00, W%R(9) -90.23 -> -67.11, W%R(28) -94.93 -> -79.47
2026-01-22 10:03:04,344 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25350CE at bar 11 (trigger detected during slab change)
2026-01-22 10:03:04,370 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE open mismatch at 10:02:00: current=173.85, kite=177.85, diff=4.00
2026-01-22 10:03:04,370 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE high mismatch at 10:02:00: current=175.85, kite=177.85, diff=2.00
2026-01-22 10:03:04,370 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25350CE OHLC validation FAILED at 10:02:00: 2 differences found
2026-01-22 10:03:04,370 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25350CE at 10:02:00 - trigger detected but data may be corrupted
2026-01-22 10:03:04,371 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=10:01:00 -> current=10:02:00, expected_timestamp=10:02:00, df_length=98, W%R(9) prev=-90.23 current=-67.11, W%R(28) prev=-94.93 current=-79.47
2026-01-22 10:03:04,371 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-90.23, current=-67.11, threshold=-79, W%R(28) prev=-94.93, current=-79.47, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 10:03:04,371 - entry_conditions - WARNING - [RACE CONDITION] PE DataFrame is stale! Latest candle: 10:01:00, Expected: 10:02:00 for NIFTY26JAN25400PE. Entry conditions may use stale data.
2026-01-22 10:03:04,373 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=97)
2026-01-22 10:03:04,374 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=10:00:00 -> current=10:01:00, expected_timestamp=10:01:00, df_length=97, W%R(9) prev=-95.25 current=-42.60, W%R(28) prev=-82.05 current=-50.49
2026-01-22 10:03:04,374 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-95.25, current=-42.60, threshold=-79, W%R(28) prev=-82.05, current=-50.49, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 10:03:04,374 - entry_conditions - INFO - Entry2: Trigger detected for NIFTY26JAN25400PE - both W%R(9) and W%R(28) crossed above threshold on same candle: W%R(9) -95.25 -> -42.60, W%R(28) -82.05 -> -50.49, SuperTrend bearish
2026-01-22 10:03:04,374 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25400PE at bar 12 (T, T+1, ..., T+3), window expires at bar 16
2026-01-22 10:03:04,374 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25400PE (same candle as trigger) - Slow WPR crossed above -77 (-82.05 -> -50.49), SuperTrend1 bearish
2026-01-22 10:03:04,375 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25400PE (same candle as trigger, flexible mode) - K=77.59 > D=69.38 and K > 20
2026-01-22 10:03:04,375 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25400PE (all conditions met on same candle) - Current NIFTY=25376.25
2026-01-22 10:03:04,375 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25400PE
2026-01-22 10:03:04,375 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BEARISH sentiment: PE entry condition 2 met. Placing PE trade for NIFTY26JAN25400PE (sentiment filter bypassed).
2026-01-22 10:03:04,376 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25400PE (PE) ===
2026-01-22 10:03:04,867 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25400PE has status: OPEN PENDING. Order ID: 2014194579448193024. Proceeding with caution.
2026-01-22 10:03:04,867 - strategy_executor - INFO - [OK] Entry2 TRADE TAKEN for NIFTY26JAN25400PE - Order ID: 2014194579448193024, Quantity: 130, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 10:03:04,868 - trade_state_manager - INFO - New trade added for NIFTY26JAN25400PE. Manual trade: True. Metadata: {'entry_type': 'Entry2'}
2026-01-22 10:03:04,929 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25400PE: 128.5
2026-01-22 10:03:04,929 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25400PE @ 10:03:04 price=128.50
2026-01-22 10:03:04,929 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25400PE - Checking POSITION_MANAGEMENT config...
2026-01-22 10:03:04,929 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25400PE
2026-01-22 10:03:04,929 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25400PE [OK][OK][OK]
2026-01-22 10:03:04,930 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25400PE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 10:03:04,930 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'calculated_sl_price': 118.85, 'last_sl_price': 118.85}
2026-01-22 10:03:04,931 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25400PE: 3 symbols mapped
2026-01-22 10:03:04,931 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25400PE -> 15028738
2026-01-22 10:03:04,931 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25400PE (Entry=128.50, SL=118.85, TP=None, SuperTrendSL=False) [NOTE][NOTE][NOTE]
2026-01-22 10:03:04,931 - realtime_position_manager - INFO - [NOTE] Active positions count: 1
2026-01-22 10:03:04,931 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25400PE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 10:03:04,932 - entry_conditions - INFO - [OK] Entry2 trade successfully executed for NIFTY26JAN25400PE
2026-01-22 10:04:00,452 - root - INFO - ================================================
2026-01-22 10:04:00,468 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:04:00.468 - Latest candle: 10:03:00, DataFrame length: 99
2026-01-22 10:04:00,472 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:03:00, O: 171.1, H: 173.6, L: 167.6, C: 167.8, ST: Bear (188.95), W%R (9): -78.3, W%R (28): -86.5, K: 0.0, D: 5.5
2026-01-22 10:04:00,474 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 10:03:00 (last_check=10:03:00)
2026-01-22 10:04:00,718 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:04:00.718 - Latest candle: 10:03:00, DataFrame length: 98
2026-01-22 10:04:00,721 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:03:00, O: 130.1, H: 133.1, L: 126.5, C: 131.0, ST: Bull (117.08), W%R (9): -15.1, W%R (28): -32.5, K: 85.7, D: 75.1
2026-01-22 10:04:00,760 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:03:00] Market Sentiment: BEARISH | OHLC: O=25374.50 H=25379.00 L=25371.70 C=25372.35
2026-01-22 10:04:00,760 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'supertrend_sl_active': True}
2026-01-22 10:04:00,761 - realtime_position_manager - INFO - [SYNC] SuperTrend SL ACTIVATED for NIFTY26JAN25400PE: SuperTrend turned bullish, using 117.08 as trailing SL
2026-01-22 10:04:00,762 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'last_sl_price': 117.08, 'calculated_sl_price': 117.08}
2026-01-22 10:04:00,762 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25400PE: 118.85 -> 117.08
2026-01-22 10:04:00,764 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 10:03:00 (last_check=10:03:00)
2026-01-22 10:05:00,452 - root - INFO - ================================================
2026-01-22 10:05:00,736 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:05:00.736 - Latest candle: 10:04:00, DataFrame length: 99
2026-01-22 10:05:00,740 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:04:00, O: 131.0, H: 136.0, L: 127.3, C: 130.8, ST: Bull (118.50), W%R (9): -27.6, W%R (28): -33.5, K: 99.7, D: 87.7
2026-01-22 10:05:00,742 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'last_sl_price': 118.5, 'calculated_sl_price': 118.5}
2026-01-22 10:05:00,743 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25400PE: 117.08 -> 118.50
2026-01-22 10:05:01,005 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:05:01.005 - Latest candle: 10:04:00, DataFrame length: 100
2026-01-22 10:05:01,009 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:04:00, O: 167.6, H: 172.1, L: 162.7, C: 167.8, ST: Bear (187.13), W%R (9): -78.5, W%R (28): -86.6, K: 0.0, D: 2.3
2026-01-22 10:05:01,015 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:04:00] Market Sentiment: BEARISH | OHLC: O=25373.80 H=25379.60 L=25364.50 C=25375.70
2026-01-22 10:05:01,015 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:04:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:05:01.015 for sentiment: BEARISH
2026-01-22 10:05:01,016 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:05:01,017 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=100)
2026-01-22 10:05:01,018 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25350CE during slab change: W%R(9) crossed above threshold comparing prev=10:01:00 -> current=10:04:00, W%R(9) -90.23 -> -78.47, W%R(28) -94.93 -> -86.56
2026-01-22 10:05:01,018 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25350CE at bar 1 (trigger detected during slab change)
2026-01-22 10:05:01,048 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE low mismatch at 10:04:00: current=162.65, kite=162.60, diff=0.05
2026-01-22 10:05:01,048 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE close mismatch at 10:04:00: current=167.80, kite=168.40, diff=0.60
2026-01-22 10:05:01,049 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25350CE OHLC validation FAILED at 10:04:00: 2 differences found
2026-01-22 10:05:01,049 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25350CE at 10:04:00 - trigger detected but data may be corrupted
2026-01-22 10:05:01,049 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=10:03:00 -> current=10:04:00, expected_timestamp=10:04:00, df_length=100, W%R(9) prev=-78.32 current=-78.47, W%R(28) prev=-86.46 current=-86.56
2026-01-22 10:05:01,049 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-78.32, current=-78.47, threshold=-79, W%R(28) prev=-86.46, current=-86.56, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 10:05:01,051 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=99)
2026-01-22 10:05:01,092 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:06:00,453 - root - INFO - ================================================
2026-01-22 10:06:00,474 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:05:00] Market Sentiment: BEARISH | OHLC: O=25377.05 H=25387.55 L=25373.90 C=25386.00
2026-01-22 10:06:00,775 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:06:00.775 - Latest candle: 10:05:00, DataFrame length: 100
2026-01-22 10:06:00,779 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:05:00, O: 130.6, H: 132.3, L: 122.0, C: 124.2, ST: Bull (118.50), W%R (9): -62.2, W%R (28): -59.6, K: 89.4, D: 91.6
2026-01-22 10:06:00,784 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'last_sl_price': 118.5, 'calculated_sl_price': 118.5}
2026-01-22 10:06:00,784 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25400PE: 118.50 -> 118.50
2026-01-22 10:06:00,969 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:06:00.968 - Latest candle: 10:05:00, DataFrame length: 101
2026-01-22 10:06:00,972 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:05:00, O: 168.2, H: 179.3, L: 166.6, C: 176.9, ST: Bear (187.13), W%R (9): -51.5, W%R (28): -69.7, K: 14.6, D: 4.8
2026-01-22 10:06:00,974 - async_event_handlers - INFO - [TIMING] New candle completed at 10:05:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:06:00.974 for sentiment: BEARISH
2026-01-22 10:06:00,975 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:06:00,976 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=101)
2026-01-22 10:06:00,977 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25350CE during slab change: both W%R(9) and W%R(28) crossed above threshold comparing prev=10:01:00 -> current=10:05:00, W%R(9) -90.23 -> -51.47, W%R(28) -94.93 -> -69.71
2026-01-22 10:06:00,977 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25350CE at bar 2 (trigger detected during slab change)
2026-01-22 10:06:00,977 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: W%R(28) confirmation already met for NIFTY26JAN25350CE during slab change trigger
2026-01-22 10:06:00,996 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE close mismatch at 10:05:00: current=176.95, kite=178.15, diff=1.20
2026-01-22 10:06:00,996 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25350CE OHLC validation FAILED at 10:05:00: 1 differences found
2026-01-22 10:06:00,996 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25350CE at 10:05:00 - trigger detected but data may be corrupted
2026-01-22 10:06:00,996 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=10:04:00 -> current=10:05:00, expected_timestamp=10:05:00, df_length=101, W%R(9) prev=-78.47 current=-51.47, W%R(28) prev=-86.56 current=-69.71
2026-01-22 10:06:00,996 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-78.47, current=-51.47, threshold=-79, W%R(28) prev=-86.56, current=-69.71, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 10:06:00,998 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=100)
2026-01-22 10:06:01,029 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:07:00,453 - root - INFO - ================================================
2026-01-22 10:07:00,486 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:07:00.486 - Latest candle: 10:06:00, DataFrame length: 101
2026-01-22 10:07:00,491 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:06:00, O: 124.2, H: 131.8, L: 124.0, C: 130.9, ST: Bull (118.50), W%R (9): -26.8, W%R (28): -32.9, K: 89.4, D: 92.8
2026-01-22 10:07:00,493 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'last_sl_price': 118.5, 'calculated_sl_price': 118.5}
2026-01-22 10:07:00,494 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25400PE: 118.50 -> 118.50
2026-01-22 10:07:00,868 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:07:00.868 - Latest candle: 10:06:00, DataFrame length: 102
2026-01-22 10:07:00,873 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:06:00, O: 178.2, H: 178.2, L: 166.8, C: 167.6, ST: Bear (187.13), W%R (9): -79.2, W%R (28): -87.0, K: 17.8, D: 10.8
2026-01-22 10:07:00,953 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:06:00] Market Sentiment: BEARISH | OHLC: O=25385.80 H=25386.20 L=25371.65 C=25372.15
2026-01-22 10:07:00,953 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:06:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:07:00.953 for sentiment: BEARISH
2026-01-22 10:07:00,954 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:07:00,955 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=102)
2026-01-22 10:07:00,957 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=10:05:00 -> current=10:06:00, expected_timestamp=10:06:00, df_length=102, W%R(9) prev=-51.47 current=-79.20, W%R(28) prev=-69.71 current=-87.02
2026-01-22 10:07:00,957 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-51.47, current=-79.20, threshold=-79, W%R(28) prev=-69.71, current=-87.02, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 10:07:00,958 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=101)
2026-01-22 10:07:01,008 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:08:00,203 - root - INFO - ================================================
2026-01-22 10:08:00,219 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:08:00.219 - Latest candle: 10:07:00, DataFrame length: 102
2026-01-22 10:08:00,223 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:07:00, O: 131.1, H: 131.1, L: 122.5, C: 124.0, ST: Bull (118.50), W%R (9): -63.2, W%R (28): -60.4, K: 76.9, D: 85.2
2026-01-22 10:08:00,224 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'last_sl_price': 118.5, 'calculated_sl_price': 118.5}
2026-01-22 10:08:00,225 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25400PE: 118.50 -> 118.50
2026-01-22 10:08:00,740 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:08:00.740 - Latest candle: 10:07:00, DataFrame length: 103
2026-01-22 10:08:00,744 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:07:00, O: 167.5, H: 176.7, L: 167.5, C: 175.0, ST: Bear (187.13), W%R (9): -57.2, W%R (28): -73.3, K: 32.9, D: 21.8
2026-01-22 10:08:00,745 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:07:00] Market Sentiment: BEARISH | OHLC: O=25372.75 H=25385.10 L=25372.50 C=25381.70
2026-01-22 10:08:00,748 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:07:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:08:00.748 for sentiment: BEARISH
2026-01-22 10:08:00,749 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:08:00,751 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=103)
2026-01-22 10:08:00,752 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25350CE during slab change: both W%R(9) and W%R(28) crossed above threshold comparing prev=10:01:00 -> current=10:07:00, W%R(9) -90.23 -> -57.23, W%R(28) -94.93 -> -73.30
2026-01-22 10:08:00,752 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25350CE at bar 4 (trigger detected during slab change)
2026-01-22 10:08:00,752 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: W%R(28) confirmation already met for NIFTY26JAN25350CE during slab change trigger
2026-01-22 10:08:00,778 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE open mismatch at 10:07:00: current=167.50, kite=167.30, diff=0.20
2026-01-22 10:08:00,779 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE high mismatch at 10:07:00: current=176.65, kite=176.75, diff=0.10
2026-01-22 10:08:00,779 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE low mismatch at 10:07:00: current=167.50, kite=167.30, diff=0.20
2026-01-22 10:08:00,779 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE close mismatch at 10:07:00: current=175.00, kite=176.35, diff=1.35
2026-01-22 10:08:00,779 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25350CE OHLC validation FAILED at 10:07:00: 4 differences found
2026-01-22 10:08:00,779 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25350CE at 10:07:00 - trigger detected but data may be corrupted
2026-01-22 10:08:00,780 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=10:06:00 -> current=10:07:00, expected_timestamp=10:07:00, df_length=103, W%R(9) prev=-79.20 current=-57.23, W%R(28) prev=-87.02 current=-73.30
2026-01-22 10:08:00,780 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-79.20, current=-57.23, threshold=-79, W%R(28) prev=-87.02, current=-73.30, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 10:08:00,780 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25350CE (flexible mode) - K=32.93 > D=21.76 and K > 20
2026-01-22 10:08:00,780 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25350CE - All confirmations received! - Current NIFTY=25381.35
2026-01-22 10:08:00,781 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25350CE
2026-01-22 10:08:00,782 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=102)
2026-01-22 10:08:00,826 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:08:00,826 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BEARISH sentiment: CE entry condition 2 met. Placing CE trade for NIFTY26JAN25350CE (sentiment filter bypassed).
2026-01-22 10:08:00,827 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25350CE (CE) ===
2026-01-22 10:08:01,350 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25350CE has status: OPEN PENDING. Order ID: 2014195822895751168. Proceeding with caution.
2026-01-22 10:08:01,351 - strategy_executor - INFO - [OK] Entry2 TRADE TAKEN for NIFTY26JAN25350CE - Order ID: 2014195822895751168, Quantity: 130, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 10:08:01,351 - trade_state_manager - INFO - New trade added for NIFTY26JAN25350CE. Manual trade: True. Metadata: {'entry_type': 'Entry2'}
2026-01-22 10:08:01,396 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25350CE: 174.85
2026-01-22 10:08:01,396 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25350CE @ 10:08:01 price=174.85
2026-01-22 10:08:01,396 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25350CE - Checking POSITION_MANAGEMENT config...
2026-01-22 10:08:01,397 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25350CE
2026-01-22 10:08:01,397 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25350CE [OK][OK][OK]
2026-01-22 10:08:01,397 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25350CE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 10:08:01,397 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25350CE: {'calculated_sl_price': 164.35, 'last_sl_price': 164.35}
2026-01-22 10:08:01,398 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25350CE: 3 symbols mapped
2026-01-22 10:08:01,398 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25350CE -> 15027970
2026-01-22 10:08:01,398 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25350CE (Entry=174.85, SL=164.35, TP=None, SuperTrendSL=False) [NOTE][NOTE][NOTE]
2026-01-22 10:08:01,398 - realtime_position_manager - INFO - [NOTE] Active positions count: 2
2026-01-22 10:08:01,398 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25350CE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 10:08:01,399 - entry_conditions - INFO - [OK] Entry2 trade successfully executed for NIFTY26JAN25350CE
2026-01-22 10:09:00,453 - root - INFO - ================================================
2026-01-22 10:09:00,738 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:09:00.738 - Latest candle: 10:08:00, DataFrame length: 104
2026-01-22 10:09:00,742 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:08:00, O: 174.8, H: 176.1, L: 170.2, C: 172.3, ST: Bear (187.13), W%R (9): -62.3, W%R (28): -78.2, K: 30.0, D: 26.9
2026-01-22 10:09:00,757 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:09:00.757 - Latest candle: 10:08:00, DataFrame length: 103
2026-01-22 10:09:00,761 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:08:00, O: 123.5, H: 127.8, L: 123.5, C: 125.8, ST: Bull (118.50), W%R (9): -53.8, W%R (28): -53.2, K: 78.1, D: 81.5
2026-01-22 10:09:00,784 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'last_sl_price': 118.5, 'calculated_sl_price': 118.5}
2026-01-22 10:09:00,785 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25400PE: 118.50 -> 118.50
2026-01-22 10:09:00,954 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:08:00] Market Sentiment: BEARISH | OHLC: O=25381.35 H=25383.70 L=25378.25 C=25378.25
2026-01-22 10:09:00,954 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:08:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:09:00.954 for sentiment: BEARISH
2026-01-22 10:09:00,955 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:09:00,956 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=104)
2026-01-22 10:09:00,992 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25350CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:09:00,994 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=103)
2026-01-22 10:09:01,033 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:09:44,957 - realtime_position_manager - WARNING - [STOP] SL TRIGGERED: NIFTY26JAN25350CE - LTP=164.20 <= SL=164.35 (gap=0.15, 0.09%)
2026-01-22 10:09:44,958 - immediate_exit_executor - INFO - [START] Executing exit: NIFTY26JAN25350CE - SL @ 164.20 (qty=130)
2026-01-22 10:09:45,000 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25350CE @ 10:09:45 price=164.20 pnl=-6.09% reason=SL
2026-01-22 10:09:45,000 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25350CE: SL @ 164.20
2026-01-22 10:09:45,077 - immediate_exit_executor - WARNING - [UNKNOWN EXIT ORDER STATUS] Exit order for NIFTY26JAN25350CE has status: OPEN PENDING. Order ID: 2014196259334053888. Proceeding with caution.
2026-01-22 10:09:45,078 - immediate_exit_executor - INFO - [OK] Market exit order placed: NIFTY26JAN25350CE - Order ID: 2014196259334053888 (Status: OPEN PENDING, attempt 1/3)
2026-01-22 10:09:45,613 - immediate_exit_executor - INFO - [OK] Position validated closed: NIFTY26JAN25350CE (Order ID: 2014196259334053888)
2026-01-22 10:09:45,613 - immediate_exit_executor - CRITICAL - [OK][OK][OK] Exit executed successfully: NIFTY26JAN25350CE - SL @ 164.20 (Order ID: 2014196259334053888) [OK][OK][OK]
2026-01-22 10:09:45,614 - realtime_position_manager - WARNING - [WARN] Exit signal already dispatched for NIFTY26JAN25350CE, skipping duplicate SL trigger on this tick
2026-01-22 10:09:45,614 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25350CE
2026-01-22 10:10:00,453 - root - INFO - ================================================
2026-01-22 10:10:00,488 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:10:00.487 - Latest candle: 10:09:00, DataFrame length: 104
2026-01-22 10:10:00,492 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:09:00, O: 125.9, H: 133.6, L: 125.7, C: 132.2, ST: Bull (118.50), W%R (9): -19.7, W%R (28): -27.6, K: 78.1, D: 77.7
2026-01-22 10:10:00,494 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'last_sl_price': 118.5, 'calculated_sl_price': 118.5}
2026-01-22 10:10:00,495 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25400PE: 118.50 -> 118.50
2026-01-22 10:10:00,756 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:10:00.756 - Latest candle: 10:09:00, DataFrame length: 105
2026-01-22 10:10:00,760 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:09:00, O: 171.8, H: 172.6, L: 163.7, C: 166.2, ST: Bear (187.13), W%R (9): -81.9, W%R (28): -89.5, K: 30.4, D: 31.1
2026-01-22 10:10:00,766 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:09:00] Market Sentiment: BEARISH | OHLC: O=25378.50 H=25379.30 L=25364.85 C=25366.15
2026-01-22 10:10:00,766 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:09:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:10:00.766 for sentiment: BEARISH
2026-01-22 10:10:00,767 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:10:00,768 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=105)
2026-01-22 10:10:00,769 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=10:08:00 -> current=10:09:00, expected_timestamp=10:09:00, df_length=105, W%R(9) prev=-62.32 current=-81.88, W%R(28) prev=-78.18 current=-89.50
2026-01-22 10:10:00,770 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-62.32, current=-81.88, threshold=-79, W%R(28) prev=-78.18, current=-89.50, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 10:10:00,771 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=104)
2026-01-22 10:10:00,821 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:11:00,453 - root - INFO - ================================================
2026-01-22 10:11:00,526 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:11:00.526 - Latest candle: 10:10:00, DataFrame length: 106
2026-01-22 10:11:00,530 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:10:00, O: 166.8, H: 170.2, L: 164.1, C: 166.3, ST: Bear (185.75), W%R (9): -69.2, W%R (28): -89.3, K: 19.2, D: 26.6
2026-01-22 10:11:00,719 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:11:00.719 - Latest candle: 10:10:00, DataFrame length: 105
2026-01-22 10:11:00,724 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:10:00, O: 131.3, H: 133.8, L: 128.6, C: 131.8, ST: Bull (118.50), W%R (9): -22.1, W%R (28): -29.4, K: 90.2, D: 82.2
2026-01-22 10:11:00,743 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'last_sl_price': 118.5, 'calculated_sl_price': 118.5}
2026-01-22 10:11:00,743 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25400PE: 118.50 -> 118.50
2026-01-22 10:11:00,953 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:10:00] Market Sentiment: BEARISH | OHLC: O=25367.15 H=25370.60 L=25364.45 C=25366.75
2026-01-22 10:11:00,954 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:10:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:11:00.954 for sentiment: BEARISH
2026-01-22 10:11:00,955 - async_live_ticker_handler - WARNING - [SLAB CHANGE] Potential Entry2 trigger detected for NIFTY26JAN25350CE - W%R(9) crossed above threshold (-81.88 -> -69.15 for W%R(9), -89.50 -> -89.32 for W%R(28)) - blocking slab change
2026-01-22 10:11:00,955 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:11:00,956 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=106)
2026-01-22 10:11:00,958 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25350CE during slab change: W%R(9) crossed above threshold comparing prev=10:01:00 -> current=10:10:00, W%R(9) -90.23 -> -69.15, W%R(28) -94.93 -> -89.32
2026-01-22 10:11:00,958 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25350CE at bar 3 (trigger detected during slab change)
2026-01-22 10:11:00,979 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE high mismatch at 10:10:00: current=170.20, kite=170.40, diff=0.20
2026-01-22 10:11:00,980 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE close mismatch at 10:10:00: current=166.30, kite=166.10, diff=0.20
2026-01-22 10:11:00,980 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25350CE OHLC validation FAILED at 10:10:00: 2 differences found
2026-01-22 10:11:00,980 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25350CE at 10:10:00 - trigger detected but data may be corrupted
2026-01-22 10:11:00,980 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=10:09:00 -> current=10:10:00, expected_timestamp=10:10:00, df_length=106, W%R(9) prev=-81.88 current=-69.15, W%R(28) prev=-89.50 current=-89.32
2026-01-22 10:11:00,980 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-81.88, current=-69.15, threshold=-79, W%R(28) prev=-89.50, current=-89.32, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 10:11:00,982 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=105)
2026-01-22 10:11:01,018 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:12:00,453 - root - INFO - ================================================
2026-01-22 10:12:00,489 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:12:00.489 - Latest candle: 10:11:00, DataFrame length: 106
2026-01-22 10:12:00,493 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:11:00, O: 130.8, H: 130.8, L: 120.5, C: 120.9, ST: Bull (118.50), W%R (9): -97.7, W%R (28): -71.1, K: 80.5, D: 83.0
2026-01-22 10:12:00,527 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:12:00.527 - Latest candle: 10:11:00, DataFrame length: 107
2026-01-22 10:12:00,531 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:11:00, O: 166.9, H: 180.9, L: 166.9, C: 180.4, ST: Bear (185.75), W%R (9): -2.7, W%R (28): -63.3, K: 33.7, D: 27.8
2026-01-22 10:12:00,534 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25400PE: {'last_sl_price': 118.5, 'calculated_sl_price': 118.5}
2026-01-22 10:12:00,534 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25400PE: 118.50 -> 118.50
2026-01-22 10:12:00,954 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:11:00] Market Sentiment: BEARISH | OHLC: O=25367.95 H=25387.15 L=25367.95 C=25385.60
2026-01-22 10:12:00,954 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:11:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:12:00.954 for sentiment: BEARISH
2026-01-22 10:12:00,996 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:12:00,999 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=107)
2026-01-22 10:12:01,000 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25350CE during slab change: both W%R(9) and W%R(28) crossed above threshold comparing prev=10:01:00 -> current=10:11:00, W%R(9) -90.23 -> -2.73, W%R(28) -94.93 -> -63.26
2026-01-22 10:12:01,000 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25350CE at bar 4 (trigger detected during slab change)
2026-01-22 10:12:01,000 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: W%R(28) confirmation already met for NIFTY26JAN25350CE during slab change trigger
2026-01-22 10:12:01,038 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE open mismatch at 10:11:00: current=166.95, kite=166.25, diff=0.70
2026-01-22 10:12:01,038 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE low mismatch at 10:11:00: current=166.95, kite=166.25, diff=0.70
2026-01-22 10:12:01,038 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE close mismatch at 10:11:00: current=180.45, kite=180.65, diff=0.20
2026-01-22 10:12:01,038 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25350CE OHLC validation FAILED at 10:11:00: 3 differences found
2026-01-22 10:12:01,038 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25350CE at 10:11:00 - trigger detected but data may be corrupted
2026-01-22 10:12:01,039 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=10:10:00 -> current=10:11:00, expected_timestamp=10:11:00, df_length=107, W%R(9) prev=-69.15 current=-2.73, W%R(28) prev=-89.32 current=-63.26
2026-01-22 10:12:01,039 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-69.15, current=-2.73, threshold=-79, W%R(28) prev=-89.32, current=-63.26, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 10:12:01,039 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25350CE (flexible mode) - K=33.69 > D=27.78 and K > 20
2026-01-22 10:12:01,039 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25350CE - All confirmations received! - Current NIFTY=25388.00
2026-01-22 10:12:01,040 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25350CE
2026-01-22 10:12:01,041 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=106)
2026-01-22 10:12:01,083 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25400PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:12:01,084 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BEARISH sentiment: CE entry condition 2 met. Placing CE trade for NIFTY26JAN25350CE (sentiment filter bypassed).
2026-01-22 10:12:01,084 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25350CE (CE) ===
2026-01-22 10:12:01,614 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25350CE has status: OPEN PENDING. Order ID: 2014196830656978945. Proceeding with caution.
2026-01-22 10:12:01,614 - strategy_executor - INFO - [OK] Entry2 TRADE TAKEN for NIFTY26JAN25350CE - Order ID: 2014196830656978945, Quantity: 130, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 10:12:01,614 - trade_state_manager - INFO - New trade added for NIFTY26JAN25350CE. Manual trade: True. Metadata: {'entry_type': 'Entry2'}
2026-01-22 10:12:01,652 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25350CE: 180.65
2026-01-22 10:12:01,652 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25350CE @ 10:12:01 price=180.65
2026-01-22 10:12:01,653 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25350CE - Checking POSITION_MANAGEMENT config...
2026-01-22 10:12:01,653 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25350CE
2026-01-22 10:12:01,653 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25350CE [OK][OK][OK]
2026-01-22 10:12:01,653 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25350CE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 10:12:01,653 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25350CE: {'calculated_sl_price': 169.8, 'last_sl_price': 169.8}
2026-01-22 10:12:01,654 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25350CE: 3 symbols mapped
2026-01-22 10:12:01,654 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25350CE -> 15027970
2026-01-22 10:12:01,654 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25350CE (Entry=180.65, SL=169.80, TP=None, SuperTrendSL=False) [NOTE][NOTE][NOTE]
2026-01-22 10:12:01,654 - realtime_position_manager - INFO - [NOTE] Active positions count: 2
2026-01-22 10:12:01,655 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25350CE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 10:12:01,655 - entry_conditions - INFO - [OK] Entry2 trade successfully executed for NIFTY26JAN25350CE
2026-01-22 10:12:04,454 - realtime_position_manager - WARNING - [STOP] SL TRIGGERED: NIFTY26JAN25400PE - LTP=118.00 <= SL=118.50 (gap=0.50, 0.42%)
2026-01-22 10:12:04,454 - immediate_exit_executor - INFO - [START] Executing exit: NIFTY26JAN25400PE - SL @ 118.00 (qty=130)
2026-01-22 10:12:04,497 - immediate_exit_executor - WARNING - [WARN] Detected stale orders_placed flag for NIFTY26JAN25400PE while position still open. Clearing and retrying exit.
2026-01-22 10:12:04,498 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25400PE @ 10:12:04 price=118.00 pnl=-8.17% reason=SL
2026-01-22 10:12:04,498 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25400PE: SL @ 118.00
2026-01-22 10:12:04,604 - immediate_exit_executor - WARNING - [UNKNOWN EXIT ORDER STATUS] Exit order for NIFTY26JAN25400PE has status: OPEN PENDING. Order ID: 2014196844426878976. Proceeding with caution.
2026-01-22 10:12:04,604 - immediate_exit_executor - INFO - [OK] Market exit order placed: NIFTY26JAN25400PE - Order ID: 2014196844426878976 (Status: OPEN PENDING, attempt 1/3)
2026-01-22 10:12:04,799 - realtime_position_manager - WARNING - [WARN] Exit signal already dispatched for NIFTY26JAN25400PE, skipping duplicate SL trigger on this tick
2026-01-22 10:12:04,799 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25400PE
2026-01-22 10:12:05,143 - immediate_exit_executor - INFO - [OK] Position validated closed: NIFTY26JAN25400PE (Order ID: 2014196844426878976)
2026-01-22 10:12:05,143 - immediate_exit_executor - CRITICAL - [OK][OK][OK] Exit executed successfully: NIFTY26JAN25400PE - SL @ 118.00 (Order ID: 2014196844426878976) [OK][OK][OK]
2026-01-22 10:13:00,704 - root - INFO - ================================================
2026-01-22 10:13:00,720 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:13:00.720 - Latest candle: 10:12:00, DataFrame length: 108
2026-01-22 10:13:00,724 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:12:00, O: 180.2, H: 187.2, L: 179.1, C: 179.1, ST: Bear (185.75), W%R (9): -33.2, W%R (28): -65.8, K: 55.3, D: 36.1
2026-01-22 10:13:00,727 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:12:00] Market Sentiment: BEARISH | OHLC: O=25388.00 H=25399.05 L=25387.30 C=25391.05
2026-01-22 10:13:00,761 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:13:00.761 - Latest candle: 10:12:00, DataFrame length: 107
2026-01-22 10:13:00,765 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:12:00, O: 120.3, H: 121.7, L: 116.5, C: 121.7, ST: Bull (118.50), W%R (9): -73.3, W%R (28): -64.7, K: 63.4, D: 78.0
2026-01-22 10:13:00,788 - async_event_handlers - INFO - [TIMING] New candle completed at 10:12:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:13:00.788 for sentiment: BEARISH
2026-01-22 10:13:00,790 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:13:00,792 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=108)
2026-01-22 10:13:00,830 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25350CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:13:00,831 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=107)
2026-01-22 10:13:00,832 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=10:11:00 -> current=10:12:00, expected_timestamp=10:12:00, df_length=107, W%R(9) prev=-97.73 current=-73.33, W%R(28) prev=-71.13 current=-64.71
2026-01-22 10:13:00,832 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-97.73, current=-73.33, threshold=-79, W%R(28) prev=-71.13, current=-64.71, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:14:00,703 - root - INFO - ================================================
2026-01-22 10:14:00,720 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:14:00.720 - Latest candle: 10:13:00, DataFrame length: 108
2026-01-22 10:14:00,725 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:13:00, O: 121.6, H: 123.3, L: 117.2, C: 122.5, ST: Bull (118.50), W%R (9): -65.6, W%R (28): -61.3, K: 47.8, D: 63.9
2026-01-22 10:14:00,779 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:14:00.778 - Latest candle: 10:13:00, DataFrame length: 109
2026-01-22 10:14:00,783 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:13:00, O: 179.6, H: 185.8, L: 176.8, C: 178.2, ST: Bear (185.75), W%R (9): -38.0, W%R (28): -67.3, K: 75.4, D: 54.8
2026-01-22 10:14:00,789 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:13:00] Market Sentiment: BEARISH | OHLC: O=25391.20 H=25397.25 L=25385.30 C=25386.85
2026-01-22 10:14:00,790 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:13:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:14:00.790 for sentiment: BEARISH
2026-01-22 10:14:00,791 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:14:00,792 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=109)
2026-01-22 10:14:00,825 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25350CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:14:00,827 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=108)
2026-01-22 10:14:00,828 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=10:12:00 -> current=10:13:00, expected_timestamp=10:13:00, df_length=108, W%R(9) prev=-73.33 current=-65.61, W%R(28) prev=-64.71 current=-61.31
2026-01-22 10:14:00,828 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-73.33, current=-65.61, threshold=-79, W%R(28) prev=-64.71, current=-61.31, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:14:31,204 - realtime_position_manager - WARNING - [STOP] SL TRIGGERED: NIFTY26JAN25350CE - LTP=169.10 <= SL=169.80 (gap=0.70, 0.41%)
2026-01-22 10:14:31,204 - immediate_exit_executor - INFO - [START] Executing exit: NIFTY26JAN25350CE - SL @ 169.10 (qty=130)
2026-01-22 10:14:31,239 - immediate_exit_executor - WARNING - [WARN] Detected stale orders_placed flag for NIFTY26JAN25350CE while position still open. Clearing and retrying exit.
2026-01-22 10:14:31,240 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25350CE @ 10:14:31 price=169.10 pnl=-6.39% reason=SL
2026-01-22 10:14:31,240 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25350CE: SL @ 169.10
2026-01-22 10:14:31,324 - immediate_exit_executor - WARNING - [UNKNOWN EXIT ORDER STATUS] Exit order for NIFTY26JAN25350CE has status: OPEN PENDING. Order ID: 2014197459890659328. Proceeding with caution.
2026-01-22 10:14:31,325 - immediate_exit_executor - INFO - [OK] Market exit order placed: NIFTY26JAN25350CE - Order ID: 2014197459890659328 (Status: OPEN PENDING, attempt 1/3)
2026-01-22 10:14:31,870 - immediate_exit_executor - INFO - [OK] Position validated closed: NIFTY26JAN25350CE (Order ID: 2014197459890659328)
2026-01-22 10:14:31,870 - immediate_exit_executor - CRITICAL - [OK][OK][OK] Exit executed successfully: NIFTY26JAN25350CE - SL @ 169.10 (Order ID: 2014197459890659328) [OK][OK][OK]
2026-01-22 10:14:31,871 - realtime_position_manager - WARNING - [WARN] Exit signal already dispatched for NIFTY26JAN25350CE, skipping duplicate SL trigger on this tick
2026-01-22 10:14:31,871 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25350CE
2026-01-22 10:15:00,454 - root - INFO - ================================================
2026-01-22 10:15:00,490 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:15:00.490 - Latest candle: 10:14:00, DataFrame length: 109
2026-01-22 10:15:00,494 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:14:00, O: 122.0, H: 130.5, L: 122.0, C: 129.3, ST: Bull (118.50), W%R (9): -25.7, W%R (28): -30.1, K: 64.1, D: 58.4
2026-01-22 10:15:00,746 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:14:00] Market Sentiment: BEARISH | OHLC: O=25386.35 H=25386.95 L=25373.20 C=25376.00
2026-01-22 10:15:00,990 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:15:00.990 - Latest candle: 10:14:00, DataFrame length: 110
2026-01-22 10:15:00,994 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:14:00, O: 178.9, H: 179.4, L: 166.8, C: 169.2, ST: Bear (185.75), W%R (9): -76.7, W%R (28): -84.1, K: 61.3, D: 64.0
2026-01-22 10:15:00,997 - async_event_handlers - INFO - [TIMING] New candle completed at 10:14:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:15:00.997 for sentiment: BEARISH
2026-01-22 10:15:00,997 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:15:00,999 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=110)
2026-01-22 10:15:00,999 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25350CE during slab change: W%R(9) crossed above threshold comparing prev=10:01:00 -> current=10:14:00, W%R(9) -90.23 -> -76.65, W%R(28) -94.93 -> -84.07
2026-01-22 10:15:01,000 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25350CE at bar 3 (trigger detected during slab change)
2026-01-22 10:15:01,048 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE close mismatch at 10:14:00: current=169.15, kite=170.85, diff=1.70
2026-01-22 10:15:01,048 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25350CE OHLC validation FAILED at 10:14:00: 1 differences found
2026-01-22 10:15:01,048 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25350CE at 10:14:00 - trigger detected but data may be corrupted
2026-01-22 10:15:01,049 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=10:13:00 -> current=10:14:00, expected_timestamp=10:14:00, df_length=110, W%R(9) prev=-38.00 current=-76.65, W%R(28) prev=-67.31 current=-84.07
2026-01-22 10:15:01,049 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-38.00, current=-76.65, threshold=-79, W%R(28) prev=-67.31, current=-84.07, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 10:15:01,051 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=109)
2026-01-22 10:15:01,052 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=10:13:00 -> current=10:14:00, expected_timestamp=10:14:00, df_length=109, W%R(9) prev=-65.61 current=-25.72, W%R(28) prev=-61.31 current=-30.09
2026-01-22 10:15:01,052 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-65.61, current=-25.72, threshold=-79, W%R(28) prev=-61.31, current=-30.09, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:16:00,204 - root - INFO - ================================================
2026-01-22 10:16:01,008 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:16:01.008 - Latest candle: 10:15:00, DataFrame length: 111
2026-01-22 10:16:01,012 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:15:00, O: 170.8, H: 178.3, L: 170.8, C: 177.9, ST: Bear (185.75), W%R (9): -39.5, W%R (28): -68.0, K: 65.3, D: 67.3
2026-01-22 10:16:01,018 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:15:00] Market Sentiment: BEARISH | OHLC: O=25376.50 H=25385.40 L=25375.85 C=25384.20
2026-01-22 10:16:01,033 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:16:01.033 - Latest candle: 10:15:00, DataFrame length: 110
2026-01-22 10:16:01,037 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:15:00, O: 128.3, H: 128.3, L: 123.0, C: 123.9, ST: Bull (118.50), W%R (9): -57.2, W%R (28): -54.8, K: 60.5, D: 57.5
2026-01-22 10:16:01,059 - async_event_handlers - INFO - [TIMING] New candle completed at 10:15:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:16:01.059 for sentiment: BEARISH
2026-01-22 10:16:01,059 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:16:01,061 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=111)
2026-01-22 10:16:01,062 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25350CE during slab change: both W%R(9) and W%R(28) crossed above threshold comparing prev=10:01:00 -> current=10:15:00, W%R(9) -90.23 -> -39.49, W%R(28) -94.93 -> -67.96
2026-01-22 10:16:01,064 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25350CE at bar 4 (trigger detected during slab change)
2026-01-22 10:16:01,064 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: W%R(28) confirmation already met for NIFTY26JAN25350CE during slab change trigger
2026-01-22 10:16:01,084 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE open mismatch at 10:15:00: current=170.80, kite=169.65, diff=1.15
2026-01-22 10:16:01,085 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE low mismatch at 10:15:00: current=170.80, kite=169.65, diff=1.15
2026-01-22 10:16:01,085 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25350CE close mismatch at 10:15:00: current=177.90, kite=176.75, diff=1.15
2026-01-22 10:16:01,085 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25350CE OHLC validation FAILED at 10:15:00: 3 differences found
2026-01-22 10:16:01,085 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25350CE at 10:15:00 - trigger detected but data may be corrupted
2026-01-22 10:16:01,085 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=10:14:00 -> current=10:15:00, expected_timestamp=10:15:00, df_length=111, W%R(9) prev=-76.65 current=-39.49, W%R(28) prev=-84.07 current=-67.96
2026-01-22 10:16:01,086 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-76.65, current=-39.49, threshold=-79, W%R(28) prev=-84.07, current=-67.96, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 10:16:01,087 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=110)
2026-01-22 10:16:01,089 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=10:14:00 -> current=10:15:00, expected_timestamp=10:15:00, df_length=110, W%R(9) prev=-25.72 current=-57.23, W%R(28) prev=-30.09 current=-54.75
2026-01-22 10:16:01,089 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-25.72, current=-57.23, threshold=-79, W%R(28) prev=-30.09, current=-54.75, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:16:46,956 - __main__ - INFO - Received exit signal SIGTERM...
2026-01-22 10:16:46,956 - __main__ - INFO - Stopping bot components...
2026-01-22 10:16:46,956 - __main__ - INFO - [STOP] Stopping Async Trading Bot...
2026-01-22 10:16:46,956 - __main__ - INFO - GTT status check task cancelled
2026-01-22 10:16:46,956 - realtime_position_manager - INFO - [STOP] RealTimePositionManager stopped
2026-01-22 10:16:46,956 - __main__ - INFO - Position manager stopped
2026-01-22 10:16:46,956 - async_live_ticker_handler - INFO - Stopping async WebSocket listener...
2026-01-22 10:16:46,956 - async_live_ticker_handler - INFO - Async WebSocket stopped.
2026-01-22 10:16:46,957 - async_api_server - INFO - Async API server stopped
2026-01-22 10:16:46,957 - __main__ - INFO - [OK] Async Trading Bot stopped
2026-01-22 10:16:46,957 - __main__ - INFO - Bot components stopped successfully
2026-01-22 10:16:46,957 - __main__ - INFO - Cancelling 3 outstanding tasks...
2026-01-22 10:16:46,957 - __main__ - INFO - [RISK] Risk watchdog loop cancelled
2026-01-22 10:16:46,957 - __main__ - INFO - [RISK] Drawdown watchdog loop cancelled
2026-01-22 10:16:46,957 - __main__ - INFO - Main event loop cancelled
2026-01-22 10:16:46,957 - __main__ - INFO - Cleaning up event loop...
2026-01-22 10:16:46,958 - __main__ - INFO - Cancelling 1 remaining tasks during final cleanup...
2026-01-22 10:16:46,958 - __main__ - INFO - Shutting down async generators...
2026-01-22 10:16:46,958 - __main__ - INFO - Closing event loop...
2026-01-22 10:16:46,958 - __main__ - INFO - Event loop closed
2026-01-22 10:16:46,959 - __main__ - INFO - Shutdown complete, exiting process

================================================================================
NEW SESSION STARTED: 2026-01-22 10:16:50
================================================================================

2026-01-22 10:16:50,258 - __main__ - INFO - ================================================================================
2026-01-22 10:16:50,258 - __main__ - INFO - PRODUCTION LOGGING STARTED - Logs will be appended to: output/production_logs.txt
2026-01-22 10:16:50,259 - __main__ - INFO - DAILY TERMINAL LOG STARTED - Logs will be appended to: logs/dynamic_atm_strike_jan22.log (auto-truncated per day)
2026-01-22 10:16:50,259 - __main__ - INFO - Session started at: 2026-01-22 10:16:50
2026-01-22 10:16:50,259 - __main__ - INFO - ================================================================================
2026-01-22 10:16:50,259 - __main__ - INFO - [START] Initializing Async Trading Bot...
2026-01-22 10:16:50,274 - __main__ - INFO - Configuration loaded from config.yaml
2026-01-22 10:16:50,274 - __main__ - INFO - Dynamic ATM enabled: True
2026-01-22 10:16:50,274 - __main__ - INFO - Automated market sentiment enabled: True
2026-01-22 10:16:50,274 - __main__ - INFO - Trading symbols loaded: ['underlying_symbol', 'underlying_token', 'atm_strike', 'ce_symbol', 'ce_token', 'pe_symbol', 'pe_token']
2026-01-22 10:16:50,274 - root - INFO - Attempting to get a valid Kite API session...
2026-01-22 10:16:50,306 - root - INFO - Successfully obtained a valid Kite API session.
2026-01-22 10:16:50,306 - __main__ - INFO - Kite API initialized
2026-01-22 10:16:50,307 - __main__ - INFO - Trade ledger initialized
2026-01-22 10:16:50,308 - trailing_max_drawdown_manager - INFO - Trailing Max Drawdown Manager initialized: Capital=25,000.00, Loss Mark=30.0%
2026-01-22 10:16:50,308 - __main__ - INFO - Trailing max drawdown manager initialized
2026-01-22 10:16:50,308 - trade_state_manager - INFO - Trade state loaded successfully.
2026-01-22 10:16:50,345 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 10:16:50,346 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 10:16:50,346 - __main__ - INFO - State manager initialized
2026-01-22 10:16:50,346 - __main__ - INFO - Indicator manager initialized
2026-01-22 10:16:50,346 - async_api_server - INFO - Initialized config with 18 settings
2026-01-22 10:16:50,346 - async_api_server - INFO - Initialized config with 1 settings
2026-01-22 10:16:50,346 - __main__ - INFO - API server initialized
2026-01-22 10:16:50,347 - async_api_server - INFO - [OK] Async API server started on localhost:5000
2026-01-22 10:16:50,347 - event_system - WARNING - [WARN] Event dispatcher not running! Event system_startup may be lost.
2026-01-22 10:16:50,347 - __main__ - INFO - [API] API server started early - control panel can connect now
2026-01-22 10:16:50,349 - realtime_position_manager - INFO - RealTimePositionManager initialized: check_interval=1.0s, gap_threshold=2.0%
2026-01-22 10:16:50,349 - immediate_exit_executor - INFO - ImmediateExitExecutor initialized: max_retries=3, validation_enabled=True
2026-01-22 10:16:50,350 - async_event_handlers - INFO - [OK] Real-time position management enabled
2026-01-22 10:16:50,350 - __main__ - INFO - Event handlers initialized
2026-01-22 10:16:50,350 - event_system - INFO - [OK] Event dispatcher started and processing events
2026-01-22 10:16:50,350 - __main__ - INFO - [EVENT] Event dispatcher started early - commands can be processed now
2026-01-22 10:16:50,350 - root - INFO - Current time: 10:16:50, Market open time: 09:15:00, Is after market open: True
2026-01-22 10:16:50,350 - __main__ - INFO - [CLOCK] Market is already open. Using historical API to get opening price...
2026-01-22 10:16:50,350 - root - INFO - Attempt 1/3: Fetching NIFTY opening price...
2026-01-22 10:16:50,370 - root - INFO - [OK] Retrieved NIFTY 50 opening price from daily historical data: 25344.15
2026-01-22 10:16:50,370 - __main__ - INFO - [CHART] Processing NIFTY opening price: 25344.15
2026-01-22 10:16:50,370 - root - INFO - NIFTY Price: 25344.15, CE ATM Strike: 25300 (FLOOR), PE ATM Strike: 25350 (CEIL)
2026-01-22 10:16:50,370 - root - INFO - Expiry calculation: Next expiry (2026-01-27) corresponds to the last Tuesday of the month (2026-01-27). Using monthly expiry format.
2026-01-22 10:16:50,371 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 10:16:50,371 - root - INFO - Generated symbols: CE=NIFTY26JAN25300CE, PE=NIFTY26JAN25350PE
2026-01-22 10:16:53,883 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 10:16:53,883 - root - INFO - CE: NIFTY26JAN25300CE (Token: 15025922)
2026-01-22 10:16:53,883 - root - INFO - PE: NIFTY26JAN25350PE (Token: 15028226)
2026-01-22 10:16:53,883 - __main__ - INFO - [OK] Successfully derived and updated PE & CE strikes
2026-01-22 10:16:53,883 - __main__ - INFO - CE: NIFTY26JAN25300CE (Strike: 25300)
2026-01-22 10:16:53,883 - __main__ - INFO - PE: NIFTY26JAN25350PE (Strike: 25350)
2026-01-22 10:16:53,883 - __main__ - INFO - [OK] Keeping NIFTY 50 subscribed for automated sentiment processing
2026-01-22 10:16:53,883 - entry_conditions - INFO - [CONFIG DEBUG] EntryConditionManager initialized. TRADE_SETTINGS keys: ['QUANTITY', 'CAPITAL', 'PRODUCT', 'VALIDATE_ENTRY_RISK', 'REVERSAL_MAX_SWING_LOW_DISTANCE_PERCENT', 'CONTINUATION_MAX_SUPERTREND_DISTANCE_PERCENT', 'STOP_LOSS_PRICE_THRESHOLD', 'STOP_LOSS_PERCENT', 'TAKE_PROFIT_PERCENT', 'DYNAMIC_TRAILING_MA', 'DYNAMIC_TRAILING_MA_THRESH', 'CE_ENTRY_CONDITIONS', 'PE_ENTRY_CONDITIONS', 'WAIT_BARS_RSI', 'ENTRY2_CONFIRMATION_WINDOW', 'FLEXIBLE_STOCHRSI_CONFIRMATION', 'DEBUG_ENTRY2', 'SKIP_FIRST']
2026-01-22 10:16:53,887 - entry_conditions - INFO - Entry2 confirmation window: 4 candles
2026-01-22 10:16:53,887 - entry_conditions - INFO - Entry2 flexible StochRSI confirmation: True
2026-01-22 10:16:53,887 - entry_conditions - INFO - DEBUG_ENTRY2 is disabled - using production Entry2 with full requirements
2026-01-22 10:16:53,887 - entry_conditions - INFO - ✅ MARKET_SENTIMENT_FILTER is DISABLED - Both CE and PE trades can occur simultaneously regardless of sentiment
2026-01-22 10:16:53,888 - entry_conditions - INFO - Price zone filter enabled (DYNAMIC_ATM): Entry price must be between 20 and 250
2026-01-22 10:16:53,888 - entry_conditions - INFO - Time distribution filter ENABLED - Enabled zones: ['09:15-10:00', '10:00-11:00', '11:00-12:00', '13:00-14:00', '14:00-15:30']
2026-01-22 10:16:53,888 - entry_conditions - INFO - Time distribution filter - Disabled zones (no trade zones): ['12:00-13:00']
2026-01-22 10:16:53,888 - entry_conditions - INFO - SKIP_FIRST feature disabled
2026-01-22 10:16:53,888 - __main__ - INFO - Entry condition manager initialized
2026-01-22 10:16:53,888 - __main__ - INFO - [OK] Strikes derived. Subscribing to CE, PE, and NIFTY 50 tokens (Dynamic ATM, Automated Sentiment enabled).
2026-01-22 10:16:53,888 - __main__ - INFO - WebSocket handler initialized
2026-01-22 10:16:53,888 - __main__ - INFO - Strategy executor initialized
2026-01-22 10:16:53,888 - __main__ - INFO - Initializing Dynamic ATM Strike Manager...
2026-01-22 10:16:53,902 - root - INFO - Attempt 1/3: Fetching NIFTY opening price...
2026-01-22 10:16:53,924 - root - INFO - [OK] Retrieved NIFTY 50 opening price from daily historical data: 25344.15
2026-01-22 10:16:53,924 - root - INFO - NIFTY Price: 25344.15, CE ATM Strike: 25300 (FLOOR), PE ATM Strike: 25350 (CEIL)
2026-01-22 10:16:53,924 - __main__ - INFO - [OK] Dynamic ATM Manager initialized: CE=25300, PE=25350 (NIFTY=25344.15)
2026-01-22 10:16:53,924 - __main__ - INFO - Initializing Automated Market Sentiment Manager...
2026-01-22 10:16:53,925 - __main__ - INFO - Using Market Sentiment v2 (improved implementation)
2026-01-22 10:16:53,929 - market_sentiment_v2.realtime_sentiment_manager - INFO - RealTimeMarketSentimentManager (v2) initialized
2026-01-22 10:16:53,929 - __main__ - INFO - [OK] Automated Market Sentiment Manager (v2) initialized. Analyzer will initialize when first candle is processed (matches backtesting behavior). (config: market_sentiment_v2/config.yaml)
2026-01-22 10:16:53,929 - entry_conditions - INFO - [CONFIG DEBUG] EntryConditionManager initialized. TRADE_SETTINGS keys: ['QUANTITY', 'CAPITAL', 'PRODUCT', 'VALIDATE_ENTRY_RISK', 'REVERSAL_MAX_SWING_LOW_DISTANCE_PERCENT', 'CONTINUATION_MAX_SUPERTREND_DISTANCE_PERCENT', 'STOP_LOSS_PRICE_THRESHOLD', 'STOP_LOSS_PERCENT', 'TAKE_PROFIT_PERCENT', 'DYNAMIC_TRAILING_MA', 'DYNAMIC_TRAILING_MA_THRESH', 'CE_ENTRY_CONDITIONS', 'PE_ENTRY_CONDITIONS', 'WAIT_BARS_RSI', 'ENTRY2_CONFIRMATION_WINDOW', 'FLEXIBLE_STOCHRSI_CONFIRMATION', 'DEBUG_ENTRY2', 'SKIP_FIRST']
2026-01-22 10:16:53,933 - entry_conditions - INFO - Entry2 confirmation window: 4 candles
2026-01-22 10:16:53,933 - entry_conditions - INFO - Entry2 flexible StochRSI confirmation: True
2026-01-22 10:16:53,933 - entry_conditions - INFO - DEBUG_ENTRY2 is disabled - using production Entry2 with full requirements
2026-01-22 10:16:53,933 - entry_conditions - INFO - ✅ MARKET_SENTIMENT_FILTER is DISABLED - Both CE and PE trades can occur simultaneously regardless of sentiment
2026-01-22 10:16:53,933 - entry_conditions - INFO - Price zone filter enabled (DYNAMIC_ATM): Entry price must be between 20 and 250
2026-01-22 10:16:53,933 - entry_conditions - INFO - Time distribution filter ENABLED - Enabled zones: ['09:15-10:00', '10:00-11:00', '11:00-12:00', '13:00-14:00', '14:00-15:30']
2026-01-22 10:16:53,933 - entry_conditions - INFO - Time distribution filter - Disabled zones (no trade zones): ['12:00-13:00']
2026-01-22 10:16:53,933 - entry_conditions - INFO - SKIP_FIRST feature disabled
2026-01-22 10:16:53,933 - __main__ - INFO - Entry condition manager initialized
2026-01-22 10:16:53,933 - realtime_position_manager - INFO - [OK] RealTimePositionManager started (CANDLE_FORMED handler registered for MA trailing)
2026-01-22 10:16:53,933 - __main__ - INFO - [OK] Real-time position manager started
2026-01-22 10:16:53,933 - __main__ - INFO - Performing full reconciliation during initialization...
2026-01-22 10:16:53,979 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 10:16:53,979 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 10:16:53,979 - __main__ - INFO - Full reconciliation completed successfully
2026-01-22 10:16:53,980 - __main__ - INFO - Resetting crossover indices during initialization...
2026-01-22 10:16:53,980 - __main__ - INFO - Crossover indices reset successfully
2026-01-22 10:16:53,980 - __main__ - INFO - [RISK] Risk watchdog loop started
2026-01-22 10:16:53,980 - __main__ - INFO - [RISK] Live MARK2MARKET drawdown watchdog loop started
2026-01-22 10:16:53,980 - __main__ - INFO - [OK] Async Trading Bot initialized successfully
2026-01-22 10:16:53,980 - __main__ - INFO - [START] Starting Async Trading Bot...
2026-01-22 10:16:53,980 - __main__ - INFO - [VERIFY] Event dispatcher status. Running: True, Task: True
2026-01-22 10:16:53,980 - __main__ - INFO - Attempting WebSocket connection (attempt 1/3)...
2026-01-22 10:16:53,980 - async_live_ticker_handler - INFO - Starting async WebSocket listener...
2026-01-22 10:16:53,982 - async_live_ticker_handler - INFO - Async WebSocket is running in a background thread.
2026-01-22 10:16:53,982 - event_system - INFO - [START] Event processing loop started - ready to process events
2026-01-22 10:16:53,982 - __main__ - INFO - [RISK] Risk watchdog loop running
2026-01-22 10:16:53,982 - __main__ - INFO - [RISK] Live MARK2MARKET drawdown watchdog loop running
2026-01-22 10:16:53,996 - async_live_ticker_handler - INFO - Async WebSocket connected successfully. Subscribing to instrument tokens.
2026-01-22 10:16:53,996 - async_live_ticker_handler - INFO - Successfully subscribed to tokens: [15025922, 15028226, 256265]
2026-01-22 10:16:54,082 - async_live_ticker_handler - INFO - WebSocket connection established in 0.10 seconds
2026-01-22 10:16:54,083 - __main__ - INFO - WebSocket connection established successfully
2026-01-22 10:16:54,083 - __main__ - INFO - [CHART] Subscribed to CE, PE, and NIFTY 50 tokens (automated sentiment enabled)
2026-01-22 10:16:54,083 - async_live_ticker_handler - INFO - Prefilling historical data with hybrid approach...
2026-01-22 10:16:54,168 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25300CE with 375 candles
2026-01-22 10:16:54,174 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY26JAN25300CE: 65 candles
2026-01-22 10:16:54,174 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY26JAN25300CE with 65 candles
2026-01-22 10:16:54,388 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY26JAN25300CE
2026-01-22 10:16:54,482 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25350PE with 375 candles
2026-01-22 10:16:54,486 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY26JAN25350PE: 65 candles
2026-01-22 10:16:54,486 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY26JAN25350PE with 65 candles
2026-01-22 10:16:54,500 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY26JAN25350PE
2026-01-22 10:16:54,581 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY 50 with 375 candles
2026-01-22 10:16:54,585 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY 50: 65 candles
2026-01-22 10:16:54,585 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY 50 with 65 candles
2026-01-22 10:16:54,599 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY 50
2026-01-22 10:16:54,602 - __main__ - INFO - GTT status check task started
2026-01-22 10:16:54,602 - __main__ - INFO - [OK] Entry conditions will be checked on new candle formation only
2026-01-22 10:16:54,602 - __main__ - INFO - [OK] Async Trading Bot started successfully
2026-01-22 10:16:54,602 - __main__ - INFO - Entering main event loop...
2026-01-22 10:16:54,602 - __main__ - INFO - Starting GTT status check task...
2026-01-22 10:17:00,767 - market_sentiment_v2.realtime_sentiment_manager - INFO - Fetched previous day OHLC from Kite API (date: 2026-01-21): High=25300.95, Low=24919.80, Close=25157.50
2026-01-22 10:17:00,767 - market_sentiment_v2.realtime_sentiment_manager - INFO - CPR Levels calculated for 2026-01-22:
2026-01-22 10:17:00,767 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R4: 25888.38
2026-01-22 10:17:00,767 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R3: 25713.52
2026-01-22 10:17:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R2: 25507.23
2026-01-22 10:17:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R1: 25332.37
2026-01-22 10:17:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO -   PIVOT: 25126.08
2026-01-22 10:17:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S1: 24951.22
2026-01-22 10:17:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S2: 24744.93
2026-01-22 10:17:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S3: 24570.07
2026-01-22 10:17:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S4: 24363.78
2026-01-22 10:17:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO - CPR Pivot Width (TC - BC) for 2026-01-22:
2026-01-22 10:17:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO -   TC (Top Central): 25141.79
2026-01-22 10:17:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO -   BC (Bottom Central): 25110.38
2026-01-22 10:17:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO -   CPR_PIVOT_WIDTH: 31.42
2026-01-22 10:17:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO -   Applied dynamic CPR_BAND_WIDTH: 10.00 (based on CPR_PIVOT_WIDTH: 31.42)
2026-01-22 10:17:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO - TradingSentimentAnalyzer (v2) initialized for real-time mode
2026-01-22 10:17:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO - [CATCH-UP] Starting mid-day at 10:16:00. Processing missed candles from 9:15 AM...
2026-01-22 10:17:00,792 - market_sentiment_v2.realtime_sentiment_manager - INFO - [CATCH-UP] Processed 61 missed candles. Current candle history: 61
2026-01-22 10:17:00,792 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:16:00] Market Sentiment: BEARISH | OHLC: O=25374.15 H=25374.95 L=25373.65 C=25374.90
2026-01-22 10:17:00,793 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:16:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:17:00.793 for sentiment: BEARISH
2026-01-22 10:17:00,793 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25374.41
2026-01-22 10:17:00,794 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 10:17:00,794 - root - INFO - Generated symbols: CE=NIFTY26JAN25350CE, PE=NIFTY26JAN25400PE
2026-01-22 10:17:04,305 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 10:17:04,305 - root - INFO - CE: NIFTY26JAN25350CE (Token: 15027970)
2026-01-22 10:17:04,305 - root - INFO - PE: NIFTY26JAN25400PE (Token: 15028738)
2026-01-22 10:17:04,305 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25300CE -> NIFTY26JAN25350CE, PE: NIFTY26JAN25350PE -> NIFTY26JAN25400PE
2026-01-22 10:17:04,383 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25350CE with 375 candles
2026-01-22 10:17:04,470 - async_live_ticker_handler - INFO - Found valid trading day 2026-01-21 for NIFTY26JAN25400PE with 375 candles
2026-01-22 10:17:04,491 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 10:16:00: old_ce=NIFTY26JAN25300CE(15025922) -> new_ce=NIFTY26JAN25350CE, old_pe=NIFTY26JAN25350PE(15028226) -> new_pe=NIFTY26JAN25400PE
2026-01-22 10:17:04,491 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25350CE, PE=NIFTY26JAN25400PE
2026-01-22 10:17:04,492 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:17:04,494 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=65)
2026-01-22 10:17:04,498 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=10:14:00 -> current=10:15:00, expected_timestamp=10:15:00, df_length=65, W%R(9) prev=-77.04 current=-40.50, W%R(28) prev=-84.54 current=-68.90
2026-01-22 10:17:04,498 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping entry condition check - check already in progress for timestamp: 10:17:00
2026-01-22 10:17:04,500 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-77.04, current=-40.50, threshold=-79, W%R(28) prev=-84.54, current=-68.90, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 10:17:04,502 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=65)
2026-01-22 10:17:04,503 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=10:14:00 -> current=10:15:00, expected_timestamp=10:15:00, df_length=65, W%R(9) prev=-25.72 current=-57.23, W%R(28) prev=-34.05 current=-53.69
2026-01-22 10:17:04,503 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-25.72, current=-57.23, threshold=-79, W%R(28) prev=-34.05, current=-53.69, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:18:00,496 - root - INFO - ================================================
2026-01-22 10:18:01,014 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:17:00] Market Sentiment: BEARISH | OHLC: O=25374.20 H=25377.00 L=25366.65 C=25368.40
2026-01-22 10:18:01,015 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:17:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:18:01.015 for sentiment: BEARISH
2026-01-22 10:18:01,016 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:18:01,017 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=65)
2026-01-22 10:18:01,018 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=10:14:00 -> current=10:15:00, expected_timestamp=10:15:00, df_length=65, W%R(9) prev=-77.04 current=-40.50, W%R(28) prev=-84.54 current=-68.90
2026-01-22 10:18:01,018 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-77.04, current=-40.50, threshold=-79, W%R(28) prev=-84.54, current=-68.90, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 10:18:01,018 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=65)
2026-01-22 10:18:01,019 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=10:14:00 -> current=10:15:00, expected_timestamp=10:15:00, df_length=65, W%R(9) prev=-25.72 current=-57.23, W%R(28) prev=-34.05 current=-53.69
2026-01-22 10:18:01,020 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-25.72, current=-57.23, threshold=-79, W%R(28) prev=-34.05, current=-53.69, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:19:00,496 - root - INFO - ================================================
2026-01-22 10:19:00,511 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:19:00.511 - Latest candle: 10:18:00, DataFrame length: 67
2026-01-22 10:19:00,514 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:18:00, O: 132.3, H: 137.8, L: 132.3, C: 134.6, ST: Bull (119.60), W%R (9): -15.3, W%R (28): -15.3, K: 78.5, D: 70.1
2026-01-22 10:19:00,777 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:19:00.777 - Latest candle: 10:18:00, DataFrame length: 67
2026-01-22 10:19:00,780 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:18:00, O: 166.2, H: 166.7, L: 158.8, C: 161.9, ST: Bear (183.53), W%R (9): -89.1, W%R (28): -94.5, K: 43.6, D: 54.5
2026-01-22 10:19:01,013 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:18:00] Market Sentiment: BEARISH | OHLC: O=25368.25 H=25369.90 L=25360.80 C=25366.35
2026-01-22 10:19:01,015 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:18:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:19:01.015 for sentiment: BEARISH
2026-01-22 10:19:01,016 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:19:01,017 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=67)
2026-01-22 10:19:01,018 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350CE: comparing candles prev=10:17:00 -> current=10:18:00, expected_timestamp=10:18:00, df_length=67, W%R(9) prev=-82.65 current=-89.08, W%R(28) prev=-87.76 current=-94.54
2026-01-22 10:19:01,018 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350CE: W%R(9) prev=-82.65, current=-89.08, threshold=-79, W%R(28) prev=-87.76, current=-94.54, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 10:19:01,019 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=67)
2026-01-22 10:19:01,019 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25400PE: comparing candles prev=10:17:00 -> current=10:18:00, expected_timestamp=10:18:00, df_length=67, W%R(9) prev=-20.00 current=-15.26, W%R(28) prev=-24.14 current=-15.32
2026-01-22 10:19:01,020 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25400PE: W%R(9) prev=-20.00, current=-15.26, threshold=-79, W%R(28) prev=-24.14, current=-15.32, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:20:00,746 - root - INFO - ================================================
2026-01-22 10:20:00,777 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:20:00.777 - Latest candle: 10:19:00, DataFrame length: 68
2026-01-22 10:20:00,781 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:19:00, O: 162.3, H: 166.4, L: 147.6, C: 147.6, ST: Bear (179.55), W%R (9): -100.0, W%R (28): -100.0, K: 14.4, D: 37.1
2026-01-22 10:20:00,996 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:19:00] Market Sentiment: BULLISH | OHLC: O=25364.95 H=25369.35 L=25341.30 C=25341.30
2026-01-22 10:20:00,997 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 10:20:00,997 - async_live_ticker_handler - INFO - [10:19:00] Market sentiment CHANGED: BEARISH -> BULLISH
2026-01-22 10:20:01,261 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25400PE at 10:20:01.261 - Latest candle: 10:19:00, DataFrame length: 68
2026-01-22 10:20:01,264 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25400PE: Time: 10:19:00, O: 134.4, H: 147.8, L: 131.0, C: 147.8, ST: Bull (122.14), W%R (9): 0.0, W%R (28): 0.0, K: 100.0, D: 84.5
2026-01-22 10:20:01,265 - async_event_handlers - INFO - [TIMING] New candle completed at 10:19:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:20:01.265 for sentiment: BULLISH
2026-01-22 10:20:01,266 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25350CE, PE symbol: NIFTY26JAN25400PE
2026-01-22 10:20:01,267 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350CE (Entry2 enabled, df_length=68)
2026-01-22 10:20:01,267 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25350CE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=147.6, close=147.6
2026-01-22 10:20:01,268 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25400PE (Entry2 enabled, df_length=68)
2026-01-22 10:21:00,496 - root - INFO - ================================================
2026-01-22 10:21:00,761 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25350CE at 10:21:00.761 - Latest candle: 10:20:00, DataFrame length: 69
2026-01-22 10:21:00,764 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350CE: Time: 10:20:00, O: 147.6, H: 148.4, L: 140.0, C: 144.9, ST: Bear (166.15), W%R (9): -89.6, W%R (28): -92.9, K: 2.8, D: 20.2
2026-01-22 10:21:00,781 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:20:00] Market Sentiment: BULLISH | OHLC: O=25340.15 H=25342.30 L=25326.25 C=25330.55
2026-01-22 10:21:00,783 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25334.81
2026-01-22 10:21:00,784 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 10:21:00,784 - root - INFO - Generated symbols: CE=NIFTY26JAN25300CE, PE=NIFTY26JAN25350PE
2026-01-22 10:21:04,323 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 10:21:04,323 - root - INFO - CE: NIFTY26JAN25300CE (Token: 15025922)
2026-01-22 10:21:04,323 - root - INFO - PE: NIFTY26JAN25350PE (Token: 15028226)
2026-01-22 10:21:04,323 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25350CE -> NIFTY26JAN25300CE, PE: NIFTY26JAN25400PE -> NIFTY26JAN25350PE
2026-01-22 10:21:04,445 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 10:20:00: old_ce=NIFTY26JAN25350CE(15027970) -> new_ce=NIFTY26JAN25300CE, old_pe=NIFTY26JAN25400PE(15028738) -> new_pe=NIFTY26JAN25350PE
2026-01-22 10:21:04,445 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25300CE, PE=NIFTY26JAN25350PE
2026-01-22 10:21:04,450 - async_event_handlers - INFO - [TIMING] New candle completed at 10:21:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:21:04.450 for sentiment: BULLISH
2026-01-22 10:21:04,454 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 10:21:04,455 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=69)
2026-01-22 10:21:04,456 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=10:19:00 -> current=10:20:00, expected_timestamp=10:20:00, df_length=69, W%R(9) prev=-97.70 current=-89.94, W%R(28) prev=-98.54 current=-91.70
2026-01-22 10:21:04,456 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-97.70, current=-89.94, threshold=-79, W%R(28) prev=-98.54, current=-91.70, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 10:21:04,457 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=69)
2026-01-22 10:22:00,496 - root - INFO - ================================================
2026-01-22 10:22:00,747 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:21:00] Market Sentiment: BULLISH | OHLC: O=25330.65 H=25338.40 L=25327.45 C=25335.90
2026-01-22 10:23:00,747 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:22:00] Market Sentiment: BULLISH | OHLC: O=25335.25 H=25352.55 L=25335.25 C=25349.20
2026-01-22 10:23:00,748 - root - INFO - ================================================
2026-01-22 10:23:00,763 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 10:23:00.763 - Latest candle: 10:22:00, DataFrame length: 71
2026-01-22 10:23:00,766 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 10:22:00, O: 177.2, H: 189.1, L: 177.2, C: 184.9, ST: Bear (196.56), W%R (9): -63.4, W%R (28): -73.5, K: 17.8, D: 7.2
2026-01-22 10:23:00,813 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 10:23:00.813 - Latest candle: 10:22:00, DataFrame length: 71
2026-01-22 10:23:00,816 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 10:22:00, O: 125.6, H: 125.6, L: 115.0, C: 119.0, ST: Bull (111.69), W%R (9): -39.6, W%R (28): -33.4, K: 84.9, D: 94.3
2026-01-22 10:23:00,821 - async_event_handlers - INFO - [TIMING] New candle completed at 10:22:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:23:00.821 for sentiment: BULLISH
2026-01-22 10:23:00,822 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 10:23:00,824 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=71)
2026-01-22 10:23:00,825 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25300CE during slab change: both W%R(9) and W%R(28) crossed above threshold comparing prev=10:19:00 -> current=10:22:00, W%R(9) -97.70 -> -63.39, W%R(28) -98.54 -> -73.54
2026-01-22 10:23:00,825 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25300CE at bar 5 (trigger detected during slab change)
2026-01-22 10:23:00,825 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: W%R(28) confirmation already met for NIFTY26JAN25300CE during slab change trigger
2026-01-22 10:23:00,846 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25300CE close mismatch at 10:22:00: current=184.95, kite=184.85, diff=0.10
2026-01-22 10:23:00,846 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25300CE OHLC validation FAILED at 10:22:00: 1 differences found
2026-01-22 10:23:00,846 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25300CE at 10:22:00 - trigger detected but data may be corrupted
2026-01-22 10:23:00,846 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=10:21:00 -> current=10:22:00, expected_timestamp=10:22:00, df_length=71, W%R(9) prev=-84.08 current=-63.39, W%R(28) prev=-86.64 current=-73.54
2026-01-22 10:23:00,847 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-84.08, current=-63.39, threshold=-79, W%R(28) prev=-86.64, current=-73.54, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 10:23:00,848 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=71)
2026-01-22 10:23:00,849 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=10:21:00 -> current=10:22:00, expected_timestamp=10:22:00, df_length=71, W%R(9) prev=-13.22 current=-39.61, W%R(28) prev=-12.61 current=-33.38
2026-01-22 10:23:00,850 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-13.22, current=-39.61, threshold=-79, W%R(28) prev=-12.61, current=-33.38, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:24:00,496 - root - INFO - ================================================
2026-01-22 10:24:00,761 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 10:24:00.761 - Latest candle: 10:23:00, DataFrame length: 72
2026-01-22 10:24:00,765 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 10:23:00, O: 120.1, H: 126.0, L: 119.6, C: 121.1, ST: Bull (111.69), W%R (9): -32.0, W%R (28): -27.0, K: 74.3, D: 85.7
2026-01-22 10:24:00,767 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:23:00] Market Sentiment: BULLISH | OHLC: O=25347.95 H=25347.95 L=25335.25 C=25340.30
2026-01-22 10:24:01,011 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 10:24:01.011 - Latest candle: 10:23:00, DataFrame length: 72
2026-01-22 10:24:01,014 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 10:23:00, O: 181.8, H: 182.9, L: 173.9, C: 180.0, ST: Bear (196.56), W%R (9): -74.8, W%R (28): -81.8, K: 27.7, D: 16.5
2026-01-22 10:24:01,034 - async_event_handlers - INFO - [TIMING] New candle completed at 10:23:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:24:01.034 for sentiment: BULLISH
2026-01-22 10:24:01,036 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 10:24:01,037 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=72)
2026-01-22 10:24:01,038 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25300CE during slab change: W%R(9) crossed above threshold comparing prev=10:19:00 -> current=10:23:00, W%R(9) -97.70 -> -74.83, W%R(28) -98.54 -> -81.80
2026-01-22 10:24:01,038 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25300CE at bar 6 (trigger detected during slab change)
2026-01-22 10:24:01,065 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25300CE open mismatch at 10:23:00: current=181.85, kite=182.05, diff=0.20
2026-01-22 10:24:01,065 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25300CE low mismatch at 10:23:00: current=173.95, kite=173.80, diff=0.15
2026-01-22 10:24:01,066 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25300CE close mismatch at 10:23:00: current=180.00, kite=177.60, diff=2.40
2026-01-22 10:24:01,066 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25300CE OHLC validation FAILED at 10:23:00: 3 differences found
2026-01-22 10:24:01,066 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25300CE at 10:23:00 - trigger detected but data may be corrupted
2026-01-22 10:24:01,066 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=10:22:00 -> current=10:23:00, expected_timestamp=10:23:00, df_length=72, W%R(9) prev=-63.39 current=-74.83, W%R(28) prev=-73.54 current=-81.80
2026-01-22 10:24:01,066 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-63.39, current=-74.83, threshold=-79, W%R(28) prev=-73.54, current=-81.80, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 10:24:01,067 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25300CE (flexible mode) - K=27.72 > D=16.46 and K > 20
2026-01-22 10:24:01,068 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=72)
2026-01-22 10:24:01,069 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=10:22:00 -> current=10:23:00, expected_timestamp=10:23:00, df_length=72, W%R(9) prev=-39.61 current=-32.04, W%R(28) prev=-33.38 current=-27.00
2026-01-22 10:24:01,070 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-39.61, current=-32.04, threshold=-79, W%R(28) prev=-33.38, current=-27.00, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:25:00,497 - root - INFO - ================================================
2026-01-22 10:25:00,761 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 10:25:00.761 - Latest candle: 10:24:00, DataFrame length: 73
2026-01-22 10:25:00,765 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 10:24:00, O: 179.2, H: 186.2, L: 178.3, C: 181.3, ST: Bear (196.56), W%R (9): -71.8, W%R (28): -79.6, K: 35.5, D: 27.0
2026-01-22 10:25:00,796 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 10:25:00.796 - Latest candle: 10:24:00, DataFrame length: 73
2026-01-22 10:25:00,800 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 10:24:00, O: 121.3, H: 123.2, L: 116.5, C: 119.4, ST: Bull (111.69), W%R (9): -38.0, W%R (28): -32.0, K: 63.2, D: 74.2
2026-01-22 10:25:00,801 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:24:00] Market Sentiment: BULLISH | OHLC: O=25340.45 H=25351.00 L=25339.90 C=25347.80
2026-01-22 10:25:00,805 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:24:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:25:00.805 for sentiment: BULLISH
2026-01-22 10:25:00,806 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 10:25:00,807 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=73)
2026-01-22 10:25:00,808 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25300CE during slab change: W%R(9) crossed above threshold comparing prev=10:19:00 -> current=10:24:00, W%R(9) -97.70 -> -71.82, W%R(28) -98.54 -> -79.63
2026-01-22 10:25:00,808 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25300CE at bar 7 (trigger detected during slab change)
2026-01-22 10:25:00,832 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25300CE close mismatch at 10:24:00: current=181.30, kite=180.50, diff=0.80
2026-01-22 10:25:00,832 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25300CE OHLC validation FAILED at 10:24:00: 1 differences found
2026-01-22 10:25:00,832 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25300CE at 10:24:00 - trigger detected but data may be corrupted
2026-01-22 10:25:00,832 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=10:23:00 -> current=10:24:00, expected_timestamp=10:24:00, df_length=73, W%R(9) prev=-74.83 current=-71.82, W%R(28) prev=-81.80 current=-79.63
2026-01-22 10:25:00,833 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-74.83, current=-71.82, threshold=-79, W%R(28) prev=-81.80, current=-79.63, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 10:25:00,833 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25300CE (flexible mode) - K=35.50 > D=27.02 and K > 20
2026-01-22 10:25:00,834 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=73)
2026-01-22 10:25:00,836 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=10:23:00 -> current=10:24:00, expected_timestamp=10:24:00, df_length=73, W%R(9) prev=-32.04 current=-38.03, W%R(28) prev=-27.00 current=-32.05
2026-01-22 10:25:00,836 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-32.04, current=-38.03, threshold=-79, W%R(28) prev=-27.00, current=-32.05, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:26:00,497 - root - INFO - ================================================
2026-01-22 10:26:00,529 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 10:26:00.529 - Latest candle: 10:25:00, DataFrame length: 74
2026-01-22 10:26:00,532 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 10:25:00, O: 119.8, H: 127.0, L: 118.7, C: 125.1, ST: Bull (111.69), W%R (9): -22.0, W%R (28): -15.1, K: 69.2, D: 68.9
2026-01-22 10:26:00,761 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 10:26:00.761 - Latest candle: 10:25:00, DataFrame length: 74
2026-01-22 10:26:00,764 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 10:25:00, O: 182.1, H: 184.4, L: 173.3, C: 174.7, ST: Bear (196.56), W%R (9): -84.6, W%R (28): -90.7, K: 27.6, D: 30.3
2026-01-22 10:26:00,997 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:25:00] Market Sentiment: BULLISH | OHLC: O=25348.55 H=25348.80 L=25334.40 C=25335.00
2026-01-22 10:26:00,998 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:25:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:26:00.998 for sentiment: BULLISH
2026-01-22 10:26:00,999 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 10:26:01,000 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25300CE: Fast WPR crossed back below -79 at bar 8: -71.82 -> -84.58
2026-01-22 10:26:01,001 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=74)
2026-01-22 10:26:01,002 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=10:24:00 -> current=10:25:00, expected_timestamp=10:25:00, df_length=74, W%R(9) prev=-71.82 current=-84.58, W%R(28) prev=-79.63 current=-90.73
2026-01-22 10:26:01,002 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-71.82, current=-84.58, threshold=-79, W%R(28) prev=-79.63, current=-90.73, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 10:26:01,004 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=74)
2026-01-22 10:26:01,005 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=10:24:00 -> current=10:25:00, expected_timestamp=10:25:00, df_length=74, W%R(9) prev=-38.03 current=-21.98, W%R(28) prev=-32.05 current=-15.13
2026-01-22 10:26:01,005 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-38.03, current=-21.98, threshold=-79, W%R(28) prev=-32.05, current=-15.13, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:27:00,247 - root - INFO - ================================================
2026-01-22 10:27:00,528 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 10:27:00.528 - Latest candle: 10:26:00, DataFrame length: 75
2026-01-22 10:27:00,532 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 10:26:00, O: 125.2, H: 128.8, L: 123.5, C: 125.2, ST: Bull (111.69), W%R (9): -24.2, W%R (28): -14.7, K: 72.8, D: 68.4
2026-01-22 10:27:00,748 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:26:00] Market Sentiment: BULLISH | OHLC: O=25335.90 H=25338.30 L=25331.65 C=25334.10
2026-01-22 10:27:00,763 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 10:27:00.763 - Latest candle: 10:26:00, DataFrame length: 75
2026-01-22 10:27:00,766 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 10:26:00, O: 175.0, H: 175.9, L: 170.7, C: 172.7, ST: Bear (194.02), W%R (9): -88.2, W%R (28): -94.1, K: 22.2, D: 28.5
2026-01-22 10:27:00,767 - async_event_handlers - INFO - [TIMING] New candle completed at 10:26:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:27:00.767 for sentiment: BULLISH
2026-01-22 10:27:00,768 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 10:27:00,769 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=75)
2026-01-22 10:27:00,770 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=10:25:00 -> current=10:26:00, expected_timestamp=10:26:00, df_length=75, W%R(9) prev=-84.58 current=-88.23, W%R(28) prev=-90.73 current=-94.07
2026-01-22 10:27:00,771 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-84.58, current=-88.23, threshold=-79, W%R(28) prev=-90.73, current=-94.07, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 10:27:00,772 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=75)
2026-01-22 10:27:00,773 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=10:25:00 -> current=10:26:00, expected_timestamp=10:26:00, df_length=75, W%R(9) prev=-21.98 current=-24.21, W%R(28) prev=-15.13 current=-14.69
2026-01-22 10:27:00,773 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-21.98, current=-24.21, threshold=-79, W%R(28) prev=-15.13, current=-14.69, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:28:00,497 - root - INFO - ================================================
2026-01-22 10:28:00,512 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 10:28:00.512 - Latest candle: 10:27:00, DataFrame length: 76
2026-01-22 10:28:00,515 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 10:27:00, O: 125.5, H: 139.1, L: 125.3, C: 137.1, ST: Bull (116.05), W%R (9): -6.8, W%R (28): -4.7, K: 86.0, D: 76.0
2026-01-22 10:28:00,748 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:27:00] Market Sentiment: BEARISH | OHLC: O=25334.00 H=25334.75 L=25312.00 C=25315.30
2026-01-22 10:28:00,749 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 10:28:00,749 - async_live_ticker_handler - INFO - [10:27:00] Market sentiment CHANGED: BULLISH -> BEARISH
2026-01-22 10:28:00,765 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 10:28:00.764 - Latest candle: 10:27:00, DataFrame length: 76
2026-01-22 10:28:00,768 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 10:27:00, O: 173.8, H: 173.8, L: 158.0, C: 161.1, ST: Bear (187.69), W%R (9): -92.4, W%R (28): -95.7, K: 10.6, D: 20.2
2026-01-22 10:28:00,803 - async_event_handlers - INFO - [TIMING] New candle completed at 10:27:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:28:00.803 for sentiment: BEARISH
2026-01-22 10:28:00,806 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 10:28:00,807 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=76)
2026-01-22 10:28:00,808 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=10:26:00 -> current=10:27:00, expected_timestamp=10:27:00, df_length=76, W%R(9) prev=-88.23 current=-92.37, W%R(28) prev=-94.07 current=-95.70
2026-01-22 10:28:00,809 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-88.23, current=-92.37, threshold=-79, W%R(28) prev=-94.07, current=-95.70, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 10:28:00,810 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=76)
2026-01-22 10:28:03,088 - async_api_server - INFO - Received async command: BUY_PE
2026-01-22 10:28:03,089 - event_system - INFO - [DISPATCH] USER_COMMAND event 'BUY_PE' added to queue. Queue size: 0, Dispatcher running: True
2026-01-22 10:28:03,089 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:10:28:03 +0530] "POST /command HTTP/1.1" 200 243 "-" "python-requests/2.32.4"
2026-01-22 10:28:03,089 - event_system - INFO - [QUEUE] Retrieved USER_COMMAND event from queue: BUY_PE
2026-01-22 10:28:03,089 - event_system - INFO - [EVENT] Processing user_command with 1 handlers
2026-01-22 10:28:03,089 - async_event_handlers - INFO - Processing user command: BUY_PE
2026-01-22 10:28:03,089 - async_event_handlers - INFO - === MANUAL TRADE COMMAND RECEIVED: BUY_PE for NIFTY26JAN25350PE ===
2026-01-22 10:28:03,089 - trade_state_manager - INFO - Symbol NIFTY26JAN25350PE not found in active trades, nothing to clear
2026-01-22 10:28:03,090 - async_event_handlers - INFO - Performing non-blocking reconciliation with broker positions after force clear...
2026-01-22 10:28:03,129 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 10:28:03,129 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 10:28:03,129 - async_event_handlers - INFO - Reconciliation completed.
2026-01-22 10:28:03,130 - async_event_handlers - INFO - Executing trade entry for NIFTY26JAN25350PE via strategy executor...
2026-01-22 10:28:03,130 - async_event_handlers - INFO - Executing manual trade entry for NIFTY26JAN25350PE with command BUY_PE
2026-01-22 10:28:03,130 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25350PE (BUY_PE) ===
2026-01-22 10:28:03,591 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:10:28:03 +0530] "GET /get_config?key=MANUAL_MARKET_SENTIMENT HTTP/1.1" 200 231 "-" "python-requests/2.32.4"
2026-01-22 10:28:03,653 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25350PE has status: OPEN PENDING. Order ID: 2014200865732616193. Proceeding with caution.
2026-01-22 10:28:03,653 - strategy_executor - INFO - Successfully placed entry order for NIFTY26JAN25350PE. Order ID: 2014200865732616193, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 10:28:03,653 - trade_state_manager - INFO - New trade added for NIFTY26JAN25350PE. Manual trade: True. Metadata: {'entry_type': 'Manual'}
2026-01-22 10:28:03,693 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25350PE: 140.4
2026-01-22 10:28:03,693 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25350PE @ 10:28:03 price=140.40
2026-01-22 10:28:03,693 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25350PE - Checking POSITION_MANAGEMENT config...
2026-01-22 10:28:03,694 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25350PE
2026-01-22 10:28:03,694 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25350PE [OK][OK][OK]
2026-01-22 10:28:03,694 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25350PE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 10:28:03,694 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25350PE: {'supertrend_sl_active': True}
2026-01-22 10:28:03,694 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25350PE: {'calculated_sl_price': 116.05, 'last_sl_price': 116.05, 'supertrend_sl_active': True}
2026-01-22 10:28:03,696 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25350PE: 3 symbols mapped
2026-01-22 10:28:03,696 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25350PE -> 15028226
2026-01-22 10:28:03,696 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25350PE (Entry=140.40, SL=116.05, TP=None, SuperTrendSL=True) [NOTE][NOTE][NOTE]
2026-01-22 10:28:03,696 - realtime_position_manager - INFO - [NOTE] Active positions count: 1
2026-01-22 10:28:03,696 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25350PE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 10:28:38,820 - async_api_server - INFO - Received async command: FORCE_EXIT
2026-01-22 10:28:38,820 - event_system - INFO - [DISPATCH] USER_COMMAND event 'FORCE_EXIT' added to queue. Queue size: 0, Dispatcher running: True
2026-01-22 10:28:38,821 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:10:28:38 +0530] "POST /command HTTP/1.1" 200 247 "-" "python-requests/2.32.4"
2026-01-22 10:28:38,821 - event_system - INFO - [QUEUE] Retrieved USER_COMMAND event from queue: FORCE_EXIT
2026-01-22 10:28:38,821 - event_system - INFO - [EVENT] Processing user_command with 1 handlers
2026-01-22 10:28:38,822 - async_event_handlers - INFO - Processing user command: FORCE_EXIT
2026-01-22 10:28:38,822 - async_event_handlers - INFO - === FORCE EXIT COMMAND RECEIVED ===
2026-01-22 10:28:38,822 - async_event_handlers - INFO - Performing reconciliation with broker positions before force exit...
2026-01-22 10:28:38,855 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 10:28:38,855 - trade_state_manager - INFO - Found 1 active positions in broker: ['NIFTY26JAN25350PE']
2026-01-22 10:28:38,855 - trade_state_manager - INFO - Found 1 active trades in state: ['NIFTY26JAN25350PE']
2026-01-22 10:28:38,856 - trade_state_manager - INFO - Reconciliation: No stale trades found.
2026-01-22 10:28:38,856 - trade_state_manager - INFO - Reconciliation: No untracked positions found.
2026-01-22 10:28:38,856 - async_event_handlers - INFO - Reconciliation completed before force exit.
2026-01-22 10:28:38,856 - async_event_handlers - INFO - --- FORCE EXIT ALL POSITIONS INITIATED ---
2026-01-22 10:28:38,856 - async_event_handlers - INFO - Force Exit: Found 1 active trade(s) to close: ['NIFTY26JAN25350PE']
2026-01-22 10:28:38,856 - async_event_handlers - INFO - --- Attempting to force exit for symbol: NIFTY26JAN25350PE ---
2026-01-22 10:28:38,856 - strategy_executor - INFO - No GTT ID found for NIFTY26JAN25350PE. Proceeding with market exit order.
2026-01-22 10:28:38,856 - strategy_executor - INFO - Got current LTP for NIFTY26JAN25350PE from ticker handler: 141.5
2026-01-22 10:28:38,857 - strategy_executor - INFO - Updating ledger for NIFTY26JAN25350PE with exit price 141.5 (entry: 140.4)
2026-01-22 10:28:38,857 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25350PE @ 10:28:38 price=141.50 pnl=0.78% reason=FORCE_EXIT
2026-01-22 10:28:38,857 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25350PE: FORCE_EXIT @ 141.50
2026-01-22 10:28:38,857 - strategy_executor - INFO - Successfully updated ledger and removed NIFTY26JAN25350PE from active trades
2026-01-22 10:28:38,858 - strategy_executor - INFO - Placing force exit MARKET order with params: {'tradingsymbol': 'NIFTY26JAN25350PE', 'exchange': 'NFO', 'transaction_type': 'SELL', 'quantity': 130, 'product': 'NRML', 'order_type': 'MARKET', 'variety': 'regular'}
2026-01-22 10:28:38,901 - strategy_executor - INFO - Successfully placed force exit MARKET order for NIFTY26JAN25350PE. Order ID: 2014201015012089856
2026-01-22 10:28:38,944 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 10:28:38,944 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 10:28:38,944 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25350PE
2026-01-22 10:28:38,945 - trade_state_manager - INFO - Symbol NIFTY26JAN25350PE not found in active trades, nothing to clear
2026-01-22 10:28:38,945 - async_event_handlers - INFO - --- FORCE EXIT ALL POSITIONS COMPLETED ---
2026-01-22 10:28:38,945 - async_event_handlers - INFO - Explicitly resetting crossover indices after force exit of all positions
2026-01-22 10:28:38,945 - async_event_handlers - INFO - Successfully reset crossover indices after force exit of all positions
2026-01-22 10:28:38,945 - async_event_handlers - INFO - Forcing reconciliation with broker positions after force exit...
2026-01-22 10:28:38,986 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 10:28:38,986 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 10:28:38,987 - async_event_handlers - INFO - Successfully reconciled with broker positions after force exit
2026-01-22 10:28:39,323 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:10:28:39 +0530] "GET /get_config?key=MANUAL_MARKET_SENTIMENT HTTP/1.1" 200 231 "-" "python-requests/2.32.4"
2026-01-22 10:29:00,497 - root - INFO - ================================================
2026-01-22 10:29:00,778 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 10:29:00.778 - Latest candle: 10:28:00, DataFrame length: 77
2026-01-22 10:29:00,782 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 10:28:00, O: 136.5, H: 146.8, L: 136.2, C: 146.8, ST: Bull (124.85), W%R (9): 0.0, W%R (28): 0.0, K: 93.0, D: 84.0
2026-01-22 10:29:00,782 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:28:00] Market Sentiment: BEARISH | OHLC: O=25314.35 H=25314.80 L=25295.90 C=25295.90
2026-01-22 10:29:01,012 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25300CE at 10:29:01.011 - Latest candle: 10:28:00, DataFrame length: 77
2026-01-22 10:29:01,015 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300CE: Time: 10:28:00, O: 161.1, H: 161.1, L: 149.9, C: 149.9, ST: Bear (177.38), W%R (9): -100.0, W%R (28): -100.0, K: 4.5, D: 12.4
2026-01-22 10:29:01,016 - async_event_handlers - INFO - [TIMING] New candle completed at 10:28:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:29:01.016 for sentiment: BEARISH
2026-01-22 10:29:01,017 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 10:29:01,018 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=77)
2026-01-22 10:29:01,019 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25300CE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=149.9, close=149.9
2026-01-22 10:29:01,020 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=77)
2026-01-22 10:30:00,497 - root - INFO - ================================================
2026-01-22 10:30:00,762 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25350PE at 10:30:00.762 - Latest candle: 10:29:00, DataFrame length: 78
2026-01-22 10:30:00,765 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25350PE: Time: 10:29:00, O: 146.3, H: 148.2, L: 140.0, C: 145.7, ST: Bull (127.49), W%R (9): -7.7, W%R (28): -5.0, K: 97.9, D: 92.3
2026-01-22 10:30:00,768 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:29:00] Market Sentiment: BEARISH | OHLC: O=25295.75 H=25302.75 L=25290.75 C=25291.90
2026-01-22 10:30:00,768 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25295.29
2026-01-22 10:30:00,769 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 10:30:00,769 - root - INFO - Generated symbols: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 10:30:04,202 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 10:30:04,202 - root - INFO - CE: NIFTY26JAN25250CE (Token: 15025410)
2026-01-22 10:30:04,202 - root - INFO - PE: NIFTY26JAN25300PE (Token: 15027714)
2026-01-22 10:30:04,202 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25300CE -> NIFTY26JAN25250CE, PE: NIFTY26JAN25350PE -> NIFTY26JAN25300PE
2026-01-22 10:30:04,291 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 10:29:00: old_ce=NIFTY26JAN25300CE(15025922) -> new_ce=NIFTY26JAN25250CE, old_pe=NIFTY26JAN25350PE(15028226) -> new_pe=NIFTY26JAN25300PE
2026-01-22 10:30:04,292 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 10:30:04,312 - async_event_handlers - INFO - [TIMING] New candle completed at 10:30:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:30:04.312 for sentiment: BEARISH
2026-01-22 10:30:04,315 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:30:04,318 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=74)
2026-01-22 10:30:04,318 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250CE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=178.9, close=178.9
2026-01-22 10:30:04,319 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=74)
2026-01-22 10:31:00,747 - root - INFO - ================================================
2026-01-22 10:31:00,816 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:30:00] Market Sentiment: BEARISH | OHLC: O=25292.90 H=25292.90 L=25273.25 C=25273.25
2026-01-22 10:32:00,747 - root - INFO - ================================================
2026-01-22 10:32:00,762 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:32:00.762 - Latest candle: 10:31:00, DataFrame length: 76
2026-01-22 10:32:00,765 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:31:00, O: 134.2, H: 142.2, L: 132.2, C: 140.4, ST: Bull (121.34), W%R (9): -3.9, W%R (28): -3.0, K: 100.0, D: 96.7
2026-01-22 10:32:01,012 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:32:01.012 - Latest candle: 10:31:00, DataFrame length: 76
2026-01-22 10:32:01,015 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:31:00, O: 166.8, H: 170.8, L: 161.4, C: 163.9, ST: Bear (189.70), W%R (9): -96.0, W%R (28): -97.4, K: 0.0, D: 1.6
2026-01-22 10:32:01,050 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:31:00] Market Sentiment: BEARISH | OHLC: O=25274.05 H=25277.35 L=25264.80 C=25267.70
2026-01-22 10:32:01,054 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:31:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:32:01.054 for sentiment: BEARISH
2026-01-22 10:32:01,054 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:32:01,056 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=76)
2026-01-22 10:32:01,057 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:30:00 -> current=10:31:00, expected_timestamp=10:31:00, df_length=76, W%R(9) prev=-95.70 current=-95.98, W%R(28) prev=-97.33 current=-97.44
2026-01-22 10:32:01,057 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-95.70, current=-95.98, threshold=-79, W%R(28) prev=-97.33, current=-97.44, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 10:32:01,058 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=76)
2026-01-22 10:33:00,497 - root - INFO - ================================================
2026-01-22 10:33:00,762 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:33:00.762 - Latest candle: 10:32:00, DataFrame length: 77
2026-01-22 10:33:00,765 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:32:00, O: 163.2, H: 166.4, L: 152.2, C: 165.8, ST: Bear (183.34), W%R (9): -79.7, W%R (28): -87.0, K: 2.9, D: 1.0
2026-01-22 10:33:00,998 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:32:00] Market Sentiment: BEARISH | OHLC: O=25269.05 H=25269.80 L=25246.40 C=25269.80
2026-01-22 10:33:01,014 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:33:01.014 - Latest candle: 10:32:00, DataFrame length: 77
2026-01-22 10:33:01,017 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:32:00, O: 140.6, H: 155.9, L: 137.6, C: 139.7, ST: Bull (128.81), W%R (9): -27.9, W%R (28): -21.8, K: 98.7, D: 99.5
2026-01-22 10:33:01,036 - async_event_handlers - INFO - [TIMING] New candle completed at 10:32:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:33:01.036 for sentiment: BEARISH
2026-01-22 10:33:01,038 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:33:01,040 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=77)
2026-01-22 10:33:01,041 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:31:00 -> current=10:32:00, expected_timestamp=10:32:00, df_length=77, W%R(9) prev=-95.98 current=-79.70, W%R(28) prev=-97.44 current=-86.99
2026-01-22 10:33:01,041 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-95.98, current=-79.70, threshold=-79, W%R(28) prev=-97.44, current=-86.99, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 10:33:01,042 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=77)
2026-01-22 10:34:00,497 - root - INFO - ================================================
2026-01-22 10:34:00,512 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:34:00.512 - Latest candle: 10:33:00, DataFrame length: 78
2026-01-22 10:34:00,516 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:33:00, O: 166.4, H: 174.7, L: 166.4, C: 168.7, ST: Bear (183.34), W%R (9): -75.5, W%R (28): -84.3, K: 10.3, D: 4.4
2026-01-22 10:34:00,766 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:33:00] Market Sentiment: BEARISH | OHLC: O=25269.25 H=25291.70 L=25269.25 C=25281.95
2026-01-22 10:34:00,768 - async_live_ticker_handler - WARNING - [SLAB CHANGE] Potential Entry2 trigger detected for NIFTY26JAN25250CE - W%R(9) crossed above threshold (-79.70 -> -75.46 for W%R(9), -86.99 -> -84.28 for W%R(28)) - blocking slab change
2026-01-22 10:34:00,782 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:34:00.782 - Latest candle: 10:33:00, DataFrame length: 78
2026-01-22 10:34:00,785 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:33:00, O: 137.8, H: 137.8, L: 126.8, C: 134.4, ST: Bull (128.81), W%R (9): -36.8, W%R (28): -28.8, K: 88.1, D: 95.6
2026-01-22 10:34:00,804 - async_event_handlers - INFO - [TIMING] New candle completed at 10:33:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:34:00.804 for sentiment: BEARISH
2026-01-22 10:34:00,806 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:34:00,807 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=78)
2026-01-22 10:34:00,808 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25250CE during slab change: W%R(9) crossed above threshold comparing prev=10:28:00 -> current=10:33:00, W%R(9) -100.00 -> -75.46, W%R(28) -100.00 -> -84.28
2026-01-22 10:34:00,808 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25250CE at bar 4 (trigger detected during slab change)
2026-01-22 10:34:00,829 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25250CE open mismatch at 10:33:00: current=166.40, kite=165.80, diff=0.60
2026-01-22 10:34:00,829 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25250CE high mismatch at 10:33:00: current=174.70, kite=175.50, diff=0.80
2026-01-22 10:34:00,829 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25250CE low mismatch at 10:33:00: current=166.40, kite=165.80, diff=0.60
2026-01-22 10:34:00,830 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25250CE close mismatch at 10:33:00: current=168.65, kite=169.75, diff=1.10
2026-01-22 10:34:00,830 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25250CE OHLC validation FAILED at 10:33:00: 4 differences found
2026-01-22 10:34:00,830 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25250CE at 10:33:00 - trigger detected but data may be corrupted
2026-01-22 10:34:00,830 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:32:00 -> current=10:33:00, expected_timestamp=10:33:00, df_length=78, W%R(9) prev=-79.70 current=-75.46, W%R(28) prev=-86.99 current=-84.28
2026-01-22 10:34:00,830 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-79.70, current=-75.46, threshold=-79, W%R(28) prev=-86.99, current=-84.28, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 10:34:00,831 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=78)
2026-01-22 10:35:00,747 - root - INFO - ================================================
2026-01-22 10:35:00,780 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:35:00.780 - Latest candle: 10:34:00, DataFrame length: 79
2026-01-22 10:35:00,784 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:34:00, O: 168.4, H: 186.9, L: 168.4, C: 183.8, ST: Bull (152.89), W%R (9): -51.6, W%R (28): -69.9, K: 38.7, D: 17.3
2026-01-22 10:35:00,816 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:35:00.816 - Latest candle: 10:34:00, DataFrame length: 79
2026-01-22 10:35:00,819 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:34:00, O: 133.3, H: 133.9, L: 115.2, C: 118.0, ST: Bear (145.26), W%R (9): -66.8, W%R (28): -50.7, K: 55.3, D: 80.7
2026-01-22 10:35:00,998 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:34:00] Market Sentiment: BEARISH | OHLC: O=25281.25 H=25314.40 L=25281.25 C=25310.85
2026-01-22 10:35:00,998 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:34:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:35:00.998 for sentiment: BEARISH
2026-01-22 10:35:01,037 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:35:01,038 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=79)
2026-01-22 10:35:01,039 - entry_conditions - INFO - Skipping REVERSAL trade for NIFTY26JAN25250CE: Swing low distance (17.20%) exceeds maximum allowed (13.00%) for entry price 183.75
2026-01-22 10:35:01,039 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=79)
2026-01-22 10:35:01,040 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:33:00 -> current=10:34:00, expected_timestamp=10:34:00, df_length=79, W%R(9) prev=-36.84 current=-66.75, W%R(28) prev=-28.79 current=-50.70
2026-01-22 10:35:01,041 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-36.84, current=-66.75, threshold=-79, W%R(28) prev=-28.79, current=-50.70, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:36:00,497 - root - INFO - ================================================
2026-01-22 10:36:00,530 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:36:00.529 - Latest candle: 10:35:00, DataFrame length: 80
2026-01-22 10:36:00,533 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:35:00, O: 183.8, H: 188.8, L: 178.8, C: 184.3, ST: Bull (159.48), W%R (9): -42.6, W%R (28): -69.4, K: 65.0, D: 38.0
2026-01-22 10:36:00,800 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:35:00] Market Sentiment: BEARISH | OHLC: O=25311.20 H=25316.75 L=25305.10 C=25312.45
2026-01-22 10:36:00,804 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25250CE'] [ALERT][ALERT][ALERT]
2026-01-22 10:36:00,804 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25311.38, close=25312.45 | Would change: CE 25250->25300, PE 25300->25350
2026-01-22 10:36:00,804 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 10:36:00,819 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:36:00.819 - Latest candle: 10:35:00, DataFrame length: 80
2026-01-22 10:36:00,822 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:35:00, O: 117.7, H: 122.8, L: 114.0, C: 117.5, ST: Bear (138.82), W%R (9): -72.4, W%R (28): -51.4, K: 23.4, D: 55.6
2026-01-22 10:36:00,823 - async_event_handlers - INFO - [TIMING] New candle completed at 10:35:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:36:00.823 for sentiment: BEARISH
2026-01-22 10:36:00,823 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:36:00,824 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=80)
2026-01-22 10:36:00,824 - entry_conditions - INFO - Skipping REVERSAL trade for NIFTY26JAN25250CE: Swing low distance (17.44%) exceeds maximum allowed (13.00%) for entry price 184.30
2026-01-22 10:36:00,825 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=80)
2026-01-22 10:36:00,826 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:34:00 -> current=10:35:00, expected_timestamp=10:35:00, df_length=80, W%R(9) prev=-66.75 current=-72.41, W%R(28) prev=-50.70 current=-51.37
2026-01-22 10:36:00,826 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-66.75, current=-72.41, threshold=-79, W%R(28) prev=-50.70, current=-51.37, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:37:00,497 - root - INFO - ================================================
2026-01-22 10:37:00,762 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:37:00.762 - Latest candle: 10:36:00, DataFrame length: 81
2026-01-22 10:37:00,766 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:36:00, O: 186.8, H: 193.8, L: 182.7, C: 190.2, ST: Bull (164.11), W%R (9): -28.5, W%R (28): -63.7, K: 90.9, D: 64.9
2026-01-22 10:37:01,248 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:36:00] Market Sentiment: BEARISH | OHLC: O=25312.05 H=25322.55 L=25309.65 C=25320.05
2026-01-22 10:37:01,249 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25250CE'] [ALERT][ALERT][ALERT]
2026-01-22 10:37:01,249 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25316.07, close=25320.05 | Would change: CE 25250->25300, PE 25300->25350
2026-01-22 10:37:01,249 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 10:37:01,264 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:37:01.264 - Latest candle: 10:36:00, DataFrame length: 81
2026-01-22 10:37:01,267 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:36:00, O: 117.3, H: 120.0, L: 110.5, C: 113.7, ST: Bear (135.51), W%R (9): -82.3, W%R (28): -56.5, K: 0.7, D: 26.5
2026-01-22 10:37:01,268 - async_event_handlers - INFO - [TIMING] New candle completed at 10:36:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:37:01.268 for sentiment: BEARISH
2026-01-22 10:37:01,269 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:37:01,270 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=81)
2026-01-22 10:37:01,270 - entry_conditions - INFO - Skipping REVERSAL trade for NIFTY26JAN25250CE: Swing low distance (20.01%) exceeds maximum allowed (13.00%) for entry price 190.20
2026-01-22 10:37:01,271 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=81)
2026-01-22 10:37:01,272 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:35:00 -> current=10:36:00, expected_timestamp=10:36:00, df_length=81, W%R(9) prev=-72.41 current=-82.28, W%R(28) prev=-51.37 current=-56.45
2026-01-22 10:37:01,272 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-72.41, current=-82.28, threshold=-79, W%R(28) prev=-51.37, current=-56.45, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:38:00,498 - root - INFO - ================================================
2026-01-22 10:38:00,748 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:37:00] Market Sentiment: BEARISH | OHLC: O=25319.55 H=25328.90 L=25316.30 C=25328.90
2026-01-22 10:38:00,749 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25250CE'] [ALERT][ALERT][ALERT]
2026-01-22 10:38:00,749 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25323.41, close=25328.90 | Would change: CE 25250->25300, PE 25300->25350
2026-01-22 10:38:00,749 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 10:38:00,764 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:38:00.764 - Latest candle: 10:37:00, DataFrame length: 82
2026-01-22 10:38:00,767 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:37:00, O: 112.4, H: 115.3, L: 107.2, C: 107.8, ST: Bear (131.12), W%R (9): -98.6, W%R (28): -64.3, K: 0.1, D: 8.0
2026-01-22 10:38:01,012 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:38:01.012 - Latest candle: 10:37:00, DataFrame length: 82
2026-01-22 10:38:01,016 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:37:00, O: 190.2, H: 198.8, L: 187.8, C: 197.6, ST: Bull (169.44), W%R (9): -2.5, W%R (28): -56.7, K: 95.8, D: 83.9
2026-01-22 10:38:01,034 - async_event_handlers - INFO - [TIMING] New candle completed at 10:37:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:38:01.034 for sentiment: BEARISH
2026-01-22 10:38:01,035 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:38:01,036 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=82)
2026-01-22 10:38:01,037 - entry_conditions - INFO - Skipping REVERSAL trade for NIFTY26JAN25250CE: Swing low distance (15.79%) exceeds maximum allowed (13.00%) for entry price 197.60
2026-01-22 10:38:01,037 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=82)
2026-01-22 10:38:01,038 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:36:00 -> current=10:37:00, expected_timestamp=10:37:00, df_length=82, W%R(9) prev=-82.28 current=-98.57, W%R(28) prev=-56.45 current=-64.26
2026-01-22 10:38:01,038 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-82.28, current=-98.57, threshold=-79, W%R(28) prev=-56.45, current=-64.26, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:39:00,497 - root - INFO - ================================================
2026-01-22 10:39:00,780 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:39:00.780 - Latest candle: 10:38:00, DataFrame length: 83
2026-01-22 10:39:00,783 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:38:00, O: 196.6, H: 200.1, L: 178.2, C: 180.1, ST: Bull (169.44), W%R (9): -41.8, W%R (28): -73.4, K: 89.1, D: 92.0
2026-01-22 10:39:00,818 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:38:00] Market Sentiment: BEARISH | OHLC: O=25328.40 H=25331.95 L=25307.00 C=25307.65
2026-01-22 10:39:00,822 - async_live_ticker_handler - WARNING - [SLAB CHANGE] Entry2 window expired for NIFTY26JAN25250CE but state still AWAITING_CONFIRMATION (trigger_bar=4, current_bar=8, window_end=8) - allowing slab change
2026-01-22 10:39:00,822 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25318.75
2026-01-22 10:39:00,823 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 10:39:00,823 - root - INFO - Generated symbols: CE=NIFTY26JAN25300CE, PE=NIFTY26JAN25350PE
2026-01-22 10:39:04,246 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 10:39:04,246 - root - INFO - CE: NIFTY26JAN25300CE (Token: 15025922)
2026-01-22 10:39:04,246 - root - INFO - PE: NIFTY26JAN25350PE (Token: 15028226)
2026-01-22 10:39:04,246 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25250CE -> NIFTY26JAN25300CE, PE: NIFTY26JAN25300PE -> NIFTY26JAN25350PE
2026-01-22 10:39:04,339 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 10:38:00: old_ce=NIFTY26JAN25250CE(15025410) -> new_ce=NIFTY26JAN25300CE, old_pe=NIFTY26JAN25300PE(15027714) -> new_pe=NIFTY26JAN25350PE
2026-01-22 10:39:04,340 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25300CE, PE=NIFTY26JAN25350PE
2026-01-22 10:39:04,345 - async_event_handlers - INFO - [TIMING] New candle completed at 10:39:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:39:04.345 for sentiment: BEARISH
2026-01-22 10:39:04,349 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25300CE, PE symbol: NIFTY26JAN25350PE
2026-01-22 10:39:04,350 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300CE (Entry2 enabled, df_length=87)
2026-01-22 10:39:04,351 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300CE: comparing candles prev=10:37:00 -> current=10:38:00, expected_timestamp=10:38:00, df_length=87, W%R(9) prev=-2.67 current=-42.57, W%R(28) prev=-57.56 current=-74.47
2026-01-22 10:39:04,352 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300CE: W%R(9) prev=-2.67, current=-42.57, threshold=-79, W%R(28) prev=-57.56, current=-74.47, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:39:04,352 - entry_conditions - INFO - [TIME] Entry2: Window expired for NIFTY26JAN25300CE at bar 9 (trigger=4, window=4, end=8) - W%R(28): X, StochRSI: X
2026-01-22 10:39:04,353 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25350PE (Entry2 enabled, df_length=87)
2026-01-22 10:39:04,354 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25350PE: comparing candles prev=10:37:00 -> current=10:38:00, expected_timestamp=10:38:00, df_length=87, W%R(9) prev=-98.00 current=-72.05, W%R(28) prev=-62.66 current=-46.86
2026-01-22 10:39:04,354 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25350PE: W%R(9) prev=-98.00, current=-72.05, threshold=-79, W%R(28) prev=-62.66, current=-46.86, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:40:00,498 - root - INFO - ================================================
2026-01-22 10:40:00,766 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:39:00] Market Sentiment: BEARISH | OHLC: O=25306.90 H=25311.65 L=25284.95 C=25287.15
2026-01-22 10:40:25,197 - __main__ - INFO - Received exit signal SIGTERM...
2026-01-22 10:40:25,198 - __main__ - INFO - Stopping bot components...
2026-01-22 10:40:25,198 - __main__ - INFO - [STOP] Stopping Async Trading Bot...
2026-01-22 10:40:25,198 - __main__ - INFO - GTT status check task cancelled
2026-01-22 10:40:25,198 - realtime_position_manager - INFO - [STOP] RealTimePositionManager stopped
2026-01-22 10:40:25,198 - __main__ - INFO - Position manager stopped
2026-01-22 10:40:25,198 - async_live_ticker_handler - INFO - Stopping async WebSocket listener...
2026-01-22 10:40:25,198 - async_live_ticker_handler - INFO - Async WebSocket stopped.
2026-01-22 10:40:25,199 - async_api_server - INFO - Async API server stopped
2026-01-22 10:40:25,199 - __main__ - INFO - [OK] Async Trading Bot stopped
2026-01-22 10:40:25,199 - __main__ - INFO - Bot components stopped successfully
2026-01-22 10:40:25,199 - __main__ - INFO - Cancelling 3 outstanding tasks...
2026-01-22 10:40:25,199 - __main__ - INFO - [RISK] Risk watchdog loop cancelled
2026-01-22 10:40:25,199 - __main__ - INFO - Main event loop cancelled
2026-01-22 10:40:25,199 - __main__ - INFO - [RISK] Drawdown watchdog loop cancelled
2026-01-22 10:40:25,200 - __main__ - INFO - Cleaning up event loop...
2026-01-22 10:40:25,200 - __main__ - INFO - Cancelling 1 remaining tasks during final cleanup...
2026-01-22 10:40:25,200 - __main__ - INFO - Shutting down async generators...
2026-01-22 10:40:25,200 - __main__ - INFO - Closing event loop...
2026-01-22 10:40:25,201 - __main__ - INFO - Event loop closed
2026-01-22 10:40:25,201 - __main__ - INFO - Shutdown complete, exiting process

================================================================================
NEW SESSION STARTED: 2026-01-22 10:40:35
================================================================================

2026-01-22 10:40:35,286 - __main__ - INFO - ================================================================================
2026-01-22 10:40:35,286 - __main__ - INFO - PRODUCTION LOGGING STARTED - Logs will be appended to: output/production_logs.txt
2026-01-22 10:40:35,286 - __main__ - INFO - DAILY TERMINAL LOG STARTED - Logs will be appended to: logs/dynamic_atm_strike_jan22.log (auto-truncated per day)
2026-01-22 10:40:35,286 - __main__ - INFO - Session started at: 2026-01-22 10:40:35
2026-01-22 10:40:35,286 - __main__ - INFO - ================================================================================
2026-01-22 10:40:35,287 - __main__ - INFO - [START] Initializing Async Trading Bot...
2026-01-22 10:40:35,301 - __main__ - INFO - Configuration loaded from config.yaml
2026-01-22 10:40:35,301 - __main__ - INFO - Dynamic ATM enabled: True
2026-01-22 10:40:35,301 - __main__ - INFO - Automated market sentiment enabled: True
2026-01-22 10:40:35,302 - __main__ - INFO - Trading symbols loaded: ['underlying_symbol', 'underlying_token', 'atm_strike', 'ce_symbol', 'ce_token', 'pe_symbol', 'pe_token']
2026-01-22 10:40:35,302 - root - INFO - Attempting to get a valid Kite API session...
2026-01-22 10:40:35,302 - root - INFO - Successfully obtained a valid Kite API session.
2026-01-22 10:40:35,302 - __main__ - INFO - Kite API initialized
2026-01-22 10:40:35,304 - __main__ - INFO - Trade ledger initialized
2026-01-22 10:40:35,304 - trailing_max_drawdown_manager - INFO - Trailing Max Drawdown Manager initialized: Capital=25,000.00, Loss Mark=30.0%
2026-01-22 10:40:35,304 - __main__ - INFO - Trailing max drawdown manager initialized
2026-01-22 10:40:35,304 - trade_state_manager - INFO - Trade state loaded successfully.
2026-01-22 10:40:35,354 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 10:40:35,355 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 10:40:35,355 - __main__ - INFO - State manager initialized
2026-01-22 10:40:35,355 - __main__ - INFO - Indicator manager initialized
2026-01-22 10:40:35,355 - async_api_server - INFO - Initialized config with 18 settings
2026-01-22 10:40:35,355 - async_api_server - INFO - Initialized config with 1 settings
2026-01-22 10:40:35,355 - __main__ - INFO - API server initialized
2026-01-22 10:40:35,356 - async_api_server - INFO - [OK] Async API server started on localhost:5000
2026-01-22 10:40:35,356 - event_system - WARNING - [WARN] Event dispatcher not running! Event system_startup may be lost.
2026-01-22 10:40:35,356 - __main__ - INFO - [API] API server started early - control panel can connect now
2026-01-22 10:40:35,358 - realtime_position_manager - INFO - RealTimePositionManager initialized: check_interval=1.0s, gap_threshold=2.0%
2026-01-22 10:40:35,358 - immediate_exit_executor - INFO - ImmediateExitExecutor initialized: max_retries=3, validation_enabled=True
2026-01-22 10:40:35,359 - async_event_handlers - INFO - [OK] Real-time position management enabled
2026-01-22 10:40:35,359 - __main__ - INFO - Event handlers initialized
2026-01-22 10:40:35,359 - event_system - INFO - [OK] Event dispatcher started and processing events
2026-01-22 10:40:35,359 - __main__ - INFO - [EVENT] Event dispatcher started early - commands can be processed now
2026-01-22 10:40:35,359 - root - INFO - Current time: 10:40:35, Market open time: 09:15:00, Is after market open: True
2026-01-22 10:40:35,359 - __main__ - INFO - [CLOCK] Market is already open. Using historical API to get opening price...
2026-01-22 10:40:35,359 - root - INFO - Attempt 1/3: Fetching NIFTY opening price...
2026-01-22 10:40:35,386 - root - INFO - [OK] Retrieved NIFTY 50 opening price from daily historical data: 25344.15
2026-01-22 10:40:35,386 - __main__ - INFO - [CHART] Processing NIFTY opening price: 25344.15
2026-01-22 10:40:35,386 - root - INFO - NIFTY Price: 25344.15, CE ATM Strike: 25300 (FLOOR), PE ATM Strike: 25350 (CEIL)
2026-01-22 10:40:35,386 - root - INFO - Expiry calculation: Next expiry (2026-01-27) corresponds to the last Tuesday of the month (2026-01-27). Using monthly expiry format.
2026-01-22 10:40:35,386 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 10:40:35,386 - root - INFO - Generated symbols: CE=NIFTY26JAN25300CE, PE=NIFTY26JAN25350PE
2026-01-22 10:40:38,925 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 10:40:38,925 - root - INFO - CE: NIFTY26JAN25300CE (Token: 15025922)
2026-01-22 10:40:38,925 - root - INFO - PE: NIFTY26JAN25350PE (Token: 15028226)
2026-01-22 10:40:38,925 - __main__ - INFO - [OK] Successfully derived and updated PE & CE strikes
2026-01-22 10:40:38,925 - __main__ - INFO - CE: NIFTY26JAN25300CE (Strike: 25300)
2026-01-22 10:40:38,925 - __main__ - INFO - PE: NIFTY26JAN25350PE (Strike: 25350)
2026-01-22 10:40:38,925 - __main__ - INFO - [OK] Keeping NIFTY 50 subscribed for automated sentiment processing
2026-01-22 10:40:38,925 - entry_conditions - INFO - [CONFIG DEBUG] EntryConditionManager initialized. TRADE_SETTINGS keys: ['QUANTITY', 'CAPITAL', 'PRODUCT', 'VALIDATE_ENTRY_RISK', 'REVERSAL_MAX_SWING_LOW_DISTANCE_PERCENT', 'CONTINUATION_MAX_SUPERTREND_DISTANCE_PERCENT', 'STOP_LOSS_PRICE_THRESHOLD', 'STOP_LOSS_PERCENT', 'TAKE_PROFIT_PERCENT', 'DYNAMIC_TRAILING_MA', 'DYNAMIC_TRAILING_MA_THRESH', 'CE_ENTRY_CONDITIONS', 'PE_ENTRY_CONDITIONS', 'WAIT_BARS_RSI', 'ENTRY2_CONFIRMATION_WINDOW', 'FLEXIBLE_STOCHRSI_CONFIRMATION', 'DEBUG_ENTRY2', 'SKIP_FIRST']
2026-01-22 10:40:38,929 - entry_conditions - INFO - Entry2 confirmation window: 4 candles
2026-01-22 10:40:38,929 - entry_conditions - INFO - Entry2 flexible StochRSI confirmation: True
2026-01-22 10:40:38,930 - entry_conditions - INFO - DEBUG_ENTRY2 is disabled - using production Entry2 with full requirements
2026-01-22 10:40:38,930 - entry_conditions - INFO - ✅ MARKET_SENTIMENT_FILTER is DISABLED - Both CE and PE trades can occur simultaneously regardless of sentiment
2026-01-22 10:40:38,930 - entry_conditions - INFO - Price zone filter enabled (DYNAMIC_ATM): Entry price must be between 20 and 250
2026-01-22 10:40:38,930 - entry_conditions - INFO - Time distribution filter ENABLED - Enabled zones: ['09:15-10:00', '10:00-11:00', '11:00-12:00', '13:00-14:00', '14:00-15:30']
2026-01-22 10:40:38,930 - entry_conditions - INFO - Time distribution filter - Disabled zones (no trade zones): ['12:00-13:00']
2026-01-22 10:40:38,930 - entry_conditions - INFO - SKIP_FIRST feature disabled
2026-01-22 10:40:38,930 - __main__ - INFO - Entry condition manager initialized
2026-01-22 10:40:38,930 - __main__ - INFO - [OK] Strikes derived. Subscribing to CE, PE, and NIFTY 50 tokens (Dynamic ATM, Automated Sentiment enabled).
2026-01-22 10:40:38,930 - __main__ - INFO - WebSocket handler initialized
2026-01-22 10:40:38,930 - __main__ - INFO - Strategy executor initialized
2026-01-22 10:40:38,930 - __main__ - INFO - Initializing Dynamic ATM Strike Manager...
2026-01-22 10:40:38,944 - root - INFO - Attempt 1/3: Fetching NIFTY opening price...
2026-01-22 10:40:38,968 - root - INFO - [OK] Retrieved NIFTY 50 opening price from daily historical data: 25344.15
2026-01-22 10:40:38,968 - root - INFO - NIFTY Price: 25344.15, CE ATM Strike: 25300 (FLOOR), PE ATM Strike: 25350 (CEIL)
2026-01-22 10:40:38,968 - __main__ - INFO - [OK] Dynamic ATM Manager initialized: CE=25300, PE=25350 (NIFTY=25344.15)
2026-01-22 10:40:38,968 - __main__ - INFO - Initializing Automated Market Sentiment Manager...
2026-01-22 10:40:38,969 - __main__ - INFO - Using Market Sentiment v2 (improved implementation)
2026-01-22 10:40:38,972 - market_sentiment_v2.realtime_sentiment_manager - INFO - RealTimeMarketSentimentManager (v2) initialized
2026-01-22 10:40:38,973 - __main__ - INFO - [OK] Automated Market Sentiment Manager (v2) initialized. Analyzer will initialize when first candle is processed (matches backtesting behavior). (config: market_sentiment_v2/config.yaml)
2026-01-22 10:40:38,973 - entry_conditions - INFO - [CONFIG DEBUG] EntryConditionManager initialized. TRADE_SETTINGS keys: ['QUANTITY', 'CAPITAL', 'PRODUCT', 'VALIDATE_ENTRY_RISK', 'REVERSAL_MAX_SWING_LOW_DISTANCE_PERCENT', 'CONTINUATION_MAX_SUPERTREND_DISTANCE_PERCENT', 'STOP_LOSS_PRICE_THRESHOLD', 'STOP_LOSS_PERCENT', 'TAKE_PROFIT_PERCENT', 'DYNAMIC_TRAILING_MA', 'DYNAMIC_TRAILING_MA_THRESH', 'CE_ENTRY_CONDITIONS', 'PE_ENTRY_CONDITIONS', 'WAIT_BARS_RSI', 'ENTRY2_CONFIRMATION_WINDOW', 'FLEXIBLE_STOCHRSI_CONFIRMATION', 'DEBUG_ENTRY2', 'SKIP_FIRST']
2026-01-22 10:40:38,976 - entry_conditions - INFO - Entry2 confirmation window: 4 candles
2026-01-22 10:40:38,977 - entry_conditions - INFO - Entry2 flexible StochRSI confirmation: True
2026-01-22 10:40:38,977 - entry_conditions - INFO - DEBUG_ENTRY2 is disabled - using production Entry2 with full requirements
2026-01-22 10:40:38,977 - entry_conditions - INFO - ✅ MARKET_SENTIMENT_FILTER is DISABLED - Both CE and PE trades can occur simultaneously regardless of sentiment
2026-01-22 10:40:38,977 - entry_conditions - INFO - Price zone filter enabled (DYNAMIC_ATM): Entry price must be between 20 and 250
2026-01-22 10:40:38,977 - entry_conditions - INFO - Time distribution filter ENABLED - Enabled zones: ['09:15-10:00', '10:00-11:00', '11:00-12:00', '13:00-14:00', '14:00-15:30']
2026-01-22 10:40:38,977 - entry_conditions - INFO - Time distribution filter - Disabled zones (no trade zones): ['12:00-13:00']
2026-01-22 10:40:38,977 - entry_conditions - INFO - SKIP_FIRST feature disabled
2026-01-22 10:40:38,977 - __main__ - INFO - Entry condition manager initialized
2026-01-22 10:40:38,977 - realtime_position_manager - INFO - [OK] RealTimePositionManager started (CANDLE_FORMED handler registered for MA trailing)
2026-01-22 10:40:38,977 - __main__ - INFO - [OK] Real-time position manager started
2026-01-22 10:40:38,977 - __main__ - INFO - Performing full reconciliation during initialization...
2026-01-22 10:40:39,026 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 10:40:39,026 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 10:40:39,026 - __main__ - INFO - Full reconciliation completed successfully
2026-01-22 10:40:39,026 - __main__ - INFO - Resetting crossover indices during initialization...
2026-01-22 10:40:39,026 - __main__ - INFO - Crossover indices reset successfully
2026-01-22 10:40:39,027 - __main__ - INFO - [RISK] Risk watchdog loop started
2026-01-22 10:40:39,027 - __main__ - INFO - [RISK] Live MARK2MARKET drawdown watchdog loop started
2026-01-22 10:40:39,027 - __main__ - INFO - [OK] Async Trading Bot initialized successfully
2026-01-22 10:40:39,027 - __main__ - INFO - [START] Starting Async Trading Bot...
2026-01-22 10:40:39,027 - __main__ - INFO - [VERIFY] Event dispatcher status. Running: True, Task: True
2026-01-22 10:40:39,027 - __main__ - INFO - Attempting WebSocket connection (attempt 1/3)...
2026-01-22 10:40:39,027 - async_live_ticker_handler - INFO - Starting async WebSocket listener...
2026-01-22 10:40:39,028 - async_live_ticker_handler - INFO - Async WebSocket is running in a background thread.
2026-01-22 10:40:39,029 - event_system - INFO - [START] Event processing loop started - ready to process events
2026-01-22 10:40:39,029 - __main__ - INFO - [RISK] Risk watchdog loop running
2026-01-22 10:40:39,029 - __main__ - INFO - [RISK] Live MARK2MARKET drawdown watchdog loop running
2026-01-22 10:40:39,041 - async_live_ticker_handler - INFO - Async WebSocket connected successfully. Subscribing to instrument tokens.
2026-01-22 10:40:39,042 - async_live_ticker_handler - INFO - Successfully subscribed to tokens: [15025922, 15028226, 256265]
2026-01-22 10:40:39,129 - async_live_ticker_handler - INFO - WebSocket connection established in 0.10 seconds
2026-01-22 10:40:39,129 - __main__ - INFO - WebSocket connection established successfully
2026-01-22 10:40:39,129 - __main__ - INFO - [CHART] Subscribed to CE, PE, and NIFTY 50 tokens (automated sentiment enabled)
2026-01-22 10:40:39,130 - async_live_ticker_handler - INFO - Prefilling historical data with hybrid approach...
2026-01-22 10:40:39,163 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY26JAN25300CE: 86 candles
2026-01-22 10:40:39,163 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY26JAN25300CE with 86 candles
2026-01-22 10:40:39,376 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY26JAN25300CE
2026-01-22 10:40:39,439 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY26JAN25350PE: 86 candles
2026-01-22 10:40:39,440 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY26JAN25350PE with 86 candles
2026-01-22 10:40:39,455 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY26JAN25350PE
2026-01-22 10:40:39,491 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY 50: 86 candles
2026-01-22 10:40:39,491 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY 50 with 86 candles
2026-01-22 10:40:39,506 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY 50
2026-01-22 10:40:39,510 - __main__ - INFO - GTT status check task started
2026-01-22 10:40:39,510 - __main__ - INFO - [OK] Entry conditions will be checked on new candle formation only
2026-01-22 10:40:39,510 - __main__ - INFO - [OK] Async Trading Bot started successfully
2026-01-22 10:40:39,511 - __main__ - INFO - Entering main event loop...
2026-01-22 10:40:39,511 - __main__ - INFO - Starting GTT status check task...
2026-01-22 10:41:00,813 - market_sentiment_v2.realtime_sentiment_manager - INFO - Fetched previous day OHLC from Kite API (date: 2026-01-21): High=25300.95, Low=24919.80, Close=25157.50
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO - CPR Levels calculated for 2026-01-22:
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R4: 25888.38
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R3: 25713.52
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R2: 25507.23
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R1: 25332.37
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO -   PIVOT: 25126.08
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S1: 24951.22
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S2: 24744.93
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S3: 24570.07
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S4: 24363.78
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO - CPR Pivot Width (TC - BC) for 2026-01-22:
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO -   TC (Top Central): 25141.79
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO -   BC (Bottom Central): 25110.38
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO -   CPR_PIVOT_WIDTH: 31.42
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO -   Applied dynamic CPR_BAND_WIDTH: 10.00 (based on CPR_PIVOT_WIDTH: 31.42)
2026-01-22 10:41:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO - TradingSentimentAnalyzer (v2) initialized for real-time mode
2026-01-22 10:41:00,815 - market_sentiment_v2.realtime_sentiment_manager - INFO - [CATCH-UP] Starting mid-day at 10:40:00. Processing missed candles from 9:15 AM...
2026-01-22 10:41:00,844 - market_sentiment_v2.realtime_sentiment_manager - INFO - [CATCH-UP] Processed 85 missed candles. Current candle history: 85
2026-01-22 10:41:00,844 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:40:00] Market Sentiment: BEARISH | OHLC: O=25287.85 H=25290.35 L=25284.65 C=25290.35
2026-01-22 10:41:00,844 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:40:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:41:00.844 for sentiment: BEARISH
2026-01-22 10:41:00,845 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25288.30
2026-01-22 10:41:00,845 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 10:41:00,845 - root - INFO - Generated symbols: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 10:41:04,270 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 10:41:04,270 - root - INFO - CE: NIFTY26JAN25250CE (Token: 15025410)
2026-01-22 10:41:04,270 - root - INFO - PE: NIFTY26JAN25300PE (Token: 15027714)
2026-01-22 10:41:04,271 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25300CE -> NIFTY26JAN25250CE, PE: NIFTY26JAN25350PE -> NIFTY26JAN25300PE
2026-01-22 10:41:04,376 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 10:40:00: old_ce=NIFTY26JAN25300CE(15025922) -> new_ce=NIFTY26JAN25250CE, old_pe=NIFTY26JAN25350PE(15028226) -> new_pe=NIFTY26JAN25300PE
2026-01-22 10:41:04,377 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 10:41:04,378 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:41:04,382 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=85)
2026-01-22 10:41:04,383 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:38:00 -> current=10:39:00, expected_timestamp=10:39:00, df_length=85, W%R(9) prev=-41.37 current=-63.70, W%R(28) prev=-73.10 current=-83.35
2026-01-22 10:41:04,385 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping entry condition check - check already in progress for timestamp: 10:41:00
2026-01-22 10:41:04,385 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-41.37, current=-63.70, threshold=-79, W%R(28) prev=-73.10, current=-83.35, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 10:41:04,387 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=85)
2026-01-22 10:42:00,542 - root - INFO - ================================================
2026-01-22 10:42:01,046 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:41:00] Market Sentiment: BEARISH | OHLC: O=25290.10 H=25300.80 L=25290.10 C=25299.05
2026-01-22 10:42:01,046 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:41:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:42:01.046 for sentiment: BEARISH
2026-01-22 10:42:01,047 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:42:01,048 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=85)
2026-01-22 10:42:01,049 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:38:00 -> current=10:39:00, expected_timestamp=10:39:00, df_length=85, W%R(9) prev=-41.37 current=-63.70, W%R(28) prev=-73.10 current=-83.35
2026-01-22 10:42:01,049 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-41.37, current=-63.70, threshold=-79, W%R(28) prev=-73.10, current=-83.35, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 10:42:01,050 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=85)
2026-01-22 10:43:00,542 - root - INFO - ================================================
2026-01-22 10:43:00,557 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:43:00.557 - Latest candle: 10:42:00, DataFrame length: 87
2026-01-22 10:43:00,560 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:42:00, O: 177.3, H: 178.0, L: 172.7, C: 174.8, ST: Bull (169.24), W%R (9): -73.6, W%R (28): -75.9, K: 64.8, D: 67.3
2026-01-22 10:43:00,792 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:42:00] Market Sentiment: BEARISH | OHLC: O=25297.20 H=25297.20 L=25289.20 C=25293.50
2026-01-22 10:43:00,809 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:43:00.809 - Latest candle: 10:42:00, DataFrame length: 87
2026-01-22 10:43:00,812 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:42:00, O: 122.8, H: 128.2, L: 122.8, C: 124.6, ST: Bear (131.64), W%R (9): -44.7, W%R (28): -45.5, K: 33.6, D: 29.4
2026-01-22 10:43:00,831 - async_event_handlers - INFO - [TIMING] New candle completed at 10:42:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:43:00.831 for sentiment: BEARISH
2026-01-22 10:43:00,832 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:43:00,832 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=87)
2026-01-22 10:43:00,833 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:41:00 -> current=10:42:00, expected_timestamp=10:42:00, df_length=87, W%R(9) prev=-42.92 current=-73.58, W%R(28) prev=-73.41 current=-75.92
2026-01-22 10:43:00,834 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-42.92, current=-73.58, threshold=-79, W%R(28) prev=-73.41, current=-75.92, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:43:00,835 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=87)
2026-01-22 10:44:00,542 - root - INFO - ================================================
2026-01-22 10:44:00,576 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:44:00.576 - Latest candle: 10:43:00, DataFrame length: 88
2026-01-22 10:44:00,579 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:43:00, O: 176.4, H: 181.8, L: 174.8, C: 177.7, ST: Bull (169.24), W%R (9): -69.1, W%R (28): -73.0, K: 72.9, D: 67.4
2026-01-22 10:44:00,594 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:44:00.593 - Latest candle: 10:43:00, DataFrame length: 88
2026-01-22 10:44:00,598 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:43:00, O: 124.6, H: 125.8, L: 120.2, C: 123.2, ST: Bear (131.64), W%R (9): -39.4, W%R (28): -47.6, K: 28.7, D: 31.5
2026-01-22 10:44:00,792 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:43:00] Market Sentiment: BEARISH | OHLC: O=25293.10 H=25301.20 L=25292.05 C=25299.00
2026-01-22 10:44:00,793 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:43:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:44:00.793 for sentiment: BEARISH
2026-01-22 10:44:00,812 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:44:00,813 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=88)
2026-01-22 10:44:00,814 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:42:00 -> current=10:43:00, expected_timestamp=10:43:00, df_length=88, W%R(9) prev=-73.58 current=-69.14, W%R(28) prev=-75.92 current=-73.01
2026-01-22 10:44:00,814 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-73.58, current=-69.14, threshold=-79, W%R(28) prev=-75.92, current=-73.01, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:44:00,815 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=88)
2026-01-22 10:45:00,292 - root - INFO - ================================================
2026-01-22 10:45:00,557 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:45:00.556 - Latest candle: 10:44:00, DataFrame length: 89
2026-01-22 10:45:00,560 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:44:00, O: 123.2, H: 125.9, L: 121.5, C: 125.0, ST: Bear (131.64), W%R (9): -20.4, W%R (28): -45.2, K: 29.6, D: 30.6
2026-01-22 10:45:00,576 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:45:00.576 - Latest candle: 10:44:00, DataFrame length: 89
2026-01-22 10:45:00,580 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:44:00, O: 177.7, H: 179.0, L: 175.1, C: 175.3, ST: Bull (169.24), W%R (9): -76.2, W%R (28): -75.4, K: 71.5, D: 69.7
2026-01-22 10:45:00,812 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:44:00] Market Sentiment: BEARISH | OHLC: O=25298.80 H=25299.90 L=25294.15 C=25295.35
2026-01-22 10:45:00,812 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:44:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:45:00.812 for sentiment: BEARISH
2026-01-22 10:45:00,813 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:45:00,814 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=89)
2026-01-22 10:45:00,815 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:43:00 -> current=10:44:00, expected_timestamp=10:44:00, df_length=89, W%R(9) prev=-69.14 current=-76.23, W%R(28) prev=-73.01 current=-75.40
2026-01-22 10:45:00,815 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-69.14, current=-76.23, threshold=-79, W%R(28) prev=-73.01, current=-75.40, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:45:00,816 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=89)
2026-01-22 10:45:00,817 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:43:00 -> current=10:44:00, expected_timestamp=10:44:00, df_length=89, W%R(9) prev=-39.44 current=-20.38, W%R(28) prev=-47.57 current=-45.18
2026-01-22 10:45:00,817 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-39.44, current=-20.38, threshold=-79, W%R(28) prev=-47.57, current=-45.18, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:46:00,292 - root - INFO - ================================================
2026-01-22 10:46:00,308 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:46:00.308 - Latest candle: 10:45:00, DataFrame length: 90
2026-01-22 10:46:00,312 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:45:00, O: 125.0, H: 128.5, L: 120.0, C: 126.5, ST: Bear (131.64), W%R (9): -13.7, W%R (28): -45.7, K: 30.7, D: 29.7
2026-01-22 10:46:00,558 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:46:00.558 - Latest candle: 10:45:00, DataFrame length: 90
2026-01-22 10:46:00,561 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:45:00, O: 176.1, H: 181.1, L: 171.4, C: 173.3, ST: Bull (169.24), W%R (9): -82.4, W%R (28): -75.5, K: 71.2, D: 71.9
2026-01-22 10:46:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:45:00] Market Sentiment: BEARISH | OHLC: O=25294.85 H=25298.45 L=25286.75 C=25288.95
2026-01-22 10:46:00,812 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:45:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:46:00.812 for sentiment: BEARISH
2026-01-22 10:46:00,814 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:46:00,815 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=90)
2026-01-22 10:46:00,815 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:44:00 -> current=10:45:00, expected_timestamp=10:45:00, df_length=90, W%R(9) prev=-76.23 current=-82.41, W%R(28) prev=-75.40 current=-75.47
2026-01-22 10:46:00,816 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-76.23, current=-82.41, threshold=-79, W%R(28) prev=-75.40, current=-75.47, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:46:00,816 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=90)
2026-01-22 10:46:00,817 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:44:00 -> current=10:45:00, expected_timestamp=10:45:00, df_length=90, W%R(9) prev=-20.38 current=-13.66, W%R(28) prev=-45.18 current=-45.71
2026-01-22 10:46:00,817 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-20.38, current=-13.66, threshold=-79, W%R(28) prev=-45.18, current=-45.71, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:47:00,542 - root - INFO - ================================================
2026-01-22 10:47:00,558 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:47:00.558 - Latest candle: 10:46:00, DataFrame length: 91
2026-01-22 10:47:00,561 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:46:00, O: 126.8, H: 126.8, L: 122.5, C: 125.8, ST: Bear (131.64), W%R (9): -16.8, W%R (28): -48.6, K: 32.6, D: 31.0
2026-01-22 10:47:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:46:00] Market Sentiment: BEARISH | OHLC: O=25289.40 H=25293.15 L=25288.65 C=25289.35
2026-01-22 10:47:00,808 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:47:00.808 - Latest candle: 10:46:00, DataFrame length: 91
2026-01-22 10:47:00,812 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:46:00, O: 173.8, H: 177.9, L: 173.3, C: 174.3, ST: Bull (169.24), W%R (9): -79.5, W%R (28): -72.3, K: 68.9, D: 70.5
2026-01-22 10:47:00,831 - async_event_handlers - INFO - [TIMING] New candle completed at 10:46:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:47:00.831 for sentiment: BEARISH
2026-01-22 10:47:00,832 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:47:00,833 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=91)
2026-01-22 10:47:00,834 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:45:00 -> current=10:46:00, expected_timestamp=10:46:00, df_length=91, W%R(9) prev=-82.41 current=-79.48, W%R(28) prev=-75.47 current=-72.35
2026-01-22 10:47:00,834 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-82.41, current=-79.48, threshold=-79, W%R(28) prev=-75.47, current=-72.35, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:47:00,835 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=91)
2026-01-22 10:47:00,836 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:45:00 -> current=10:46:00, expected_timestamp=10:46:00, df_length=91, W%R(9) prev=-13.66 current=-16.81, W%R(28) prev=-45.71 current=-48.60
2026-01-22 10:47:00,836 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-13.66, current=-16.81, threshold=-79, W%R(28) prev=-45.71, current=-48.60, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:48:00,292 - root - INFO - ================================================
2026-01-22 10:48:00,327 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:48:00.327 - Latest candle: 10:47:00, DataFrame length: 92
2026-01-22 10:48:00,330 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:47:00, O: 126.3, H: 130.8, L: 124.5, C: 130.3, ST: Bear (131.64), W%R (9): -2.0, W%R (28): -41.7, K: 40.8, D: 34.7
2026-01-22 10:48:00,812 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:47:00] Market Sentiment: BEARISH | OHLC: O=25288.90 H=25290.30 L=25283.55 C=25284.55
2026-01-22 10:48:00,828 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:48:00.828 - Latest candle: 10:47:00, DataFrame length: 92
2026-01-22 10:48:00,831 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:47:00, O: 173.4, H: 174.8, L: 168.1, C: 169.8, ST: Bull (169.24), W%R (9): -93.5, W%R (28): -77.7, K: 63.2, D: 67.8
2026-01-22 10:48:00,832 - async_event_handlers - INFO - [TIMING] New candle completed at 10:47:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:48:00.832 for sentiment: BEARISH
2026-01-22 10:48:00,833 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:48:00,834 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=92)
2026-01-22 10:48:00,834 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:46:00 -> current=10:47:00, expected_timestamp=10:47:00, df_length=92, W%R(9) prev=-79.48 current=-93.52, W%R(28) prev=-72.35 current=-77.74
2026-01-22 10:48:00,835 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-79.48, current=-93.52, threshold=-79, W%R(28) prev=-72.35, current=-77.74, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 10:48:00,836 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=92)
2026-01-22 10:48:00,836 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:46:00 -> current=10:47:00, expected_timestamp=10:47:00, df_length=92, W%R(9) prev=-16.81 current=-2.01, W%R(28) prev=-48.60 current=-41.74
2026-01-22 10:48:00,837 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-16.81, current=-2.01, threshold=-79, W%R(28) prev=-48.60, current=-41.74, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:49:00,542 - root - INFO - ================================================
2026-01-22 10:49:00,558 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:49:00.558 - Latest candle: 10:48:00, DataFrame length: 93
2026-01-22 10:49:00,562 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:48:00, O: 129.7, H: 131.5, L: 124.0, C: 128.3, ST: Bear (131.64), W%R (9): -21.9, W%R (28): -47.9, K: 57.5, D: 43.6
2026-01-22 10:49:00,812 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:48:00] Market Sentiment: BEARISH | OHLC: O=25284.70 H=25288.50 L=25280.15 C=25284.40
2026-01-22 10:49:01,077 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:49:01.077 - Latest candle: 10:48:00, DataFrame length: 93
2026-01-22 10:49:01,080 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:48:00, O: 169.6, H: 176.1, L: 168.1, C: 172.1, ST: Bull (169.24), W%R (9): -70.4, W%R (28): -71.2, K: 52.9, D: 61.7
2026-01-22 10:49:01,082 - async_event_handlers - INFO - [TIMING] New candle completed at 10:48:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:49:01.082 for sentiment: BEARISH
2026-01-22 10:49:01,082 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:49:01,083 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=93)
2026-01-22 10:49:01,084 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:47:00 -> current=10:48:00, expected_timestamp=10:48:00, df_length=93, W%R(9) prev=-93.52 current=-70.43, W%R(28) prev=-77.74 current=-71.17
2026-01-22 10:49:01,084 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-93.52, current=-70.43, threshold=-79, W%R(28) prev=-77.74, current=-71.17, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 10:49:01,085 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=93)
2026-01-22 10:49:01,086 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:47:00 -> current=10:48:00, expected_timestamp=10:48:00, df_length=93, W%R(9) prev=-2.01 current=-21.95, W%R(28) prev=-41.74 current=-47.86
2026-01-22 10:49:01,086 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-2.01, current=-21.95, threshold=-79, W%R(28) prev=-41.74, current=-47.86, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:50:00,542 - root - INFO - ================================================
2026-01-22 10:50:00,558 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:50:00.558 - Latest candle: 10:49:00, DataFrame length: 94
2026-01-22 10:50:00,561 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:49:00, O: 128.0, H: 135.7, L: 126.8, C: 132.0, ST: Bull (114.49), W%R (9): -22.9, W%R (28): -42.0, K: 79.8, D: 59.4
2026-01-22 10:50:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:49:00] Market Sentiment: BEARISH | OHLC: O=25284.70 H=25286.85 L=25272.15 C=25275.55
2026-01-22 10:50:01,058 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:50:01.058 - Latest candle: 10:49:00, DataFrame length: 94
2026-01-22 10:50:01,062 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:49:00, O: 171.8, H: 173.2, L: 164.9, C: 168.0, ST: Bear (188.35), W%R (9): -81.9, W%R (28): -77.0, K: 36.8, D: 50.9
2026-01-22 10:50:01,082 - async_event_handlers - INFO - [TIMING] New candle completed at 10:49:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:50:01.082 for sentiment: BEARISH
2026-01-22 10:50:01,083 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:50:01,084 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25250CE: Fast WPR crossed back below -79 at bar 9: -70.43 -> -81.90
2026-01-22 10:50:01,084 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=94)
2026-01-22 10:50:01,085 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:48:00 -> current=10:49:00, expected_timestamp=10:49:00, df_length=94, W%R(9) prev=-70.43 current=-81.90, W%R(28) prev=-71.17 current=-76.96
2026-01-22 10:50:01,085 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-70.43, current=-81.90, threshold=-79, W%R(28) prev=-71.17, current=-76.96, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:50:01,086 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=94)
2026-01-22 10:50:01,086 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:48:00 -> current=10:49:00, expected_timestamp=10:49:00, df_length=94, W%R(9) prev=-21.95 current=-22.91, W%R(28) prev=-47.86 current=-41.97
2026-01-22 10:50:01,087 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-21.95, current=-22.91, threshold=-79, W%R(28) prev=-47.86, current=-41.97, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:51:00,542 - root - INFO - ================================================
2026-01-22 10:51:00,558 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:51:00.558 - Latest candle: 10:50:00, DataFrame length: 95
2026-01-22 10:51:00,562 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:50:00, O: 133.1, H: 141.3, L: 132.8, C: 139.6, ST: Bull (120.14), W%R (9): -8.4, W%R (28): -29.8, K: 94.8, D: 77.3
2026-01-22 10:51:00,812 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:50:00] Market Sentiment: BEARISH | OHLC: O=25274.45 H=25276.20 L=25266.35 C=25270.45
2026-01-22 10:51:00,828 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:51:00.828 - Latest candle: 10:50:00, DataFrame length: 95
2026-01-22 10:51:00,832 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:50:00, O: 167.0, H: 167.2, L: 160.3, C: 162.5, ST: Bear (182.61), W%R (9): -90.0, W%R (28): -84.7, K: 18.8, D: 36.2
2026-01-22 10:51:00,833 - async_event_handlers - INFO - [TIMING] New candle completed at 10:50:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:51:00.833 for sentiment: BEARISH
2026-01-22 10:51:00,834 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:51:00,835 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=95)
2026-01-22 10:51:00,836 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:49:00 -> current=10:50:00, expected_timestamp=10:50:00, df_length=95, W%R(9) prev=-81.90 current=-89.98, W%R(28) prev=-76.96 current=-84.73
2026-01-22 10:51:00,836 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-81.90, current=-89.98, threshold=-79, W%R(28) prev=-76.96, current=-84.73, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 10:51:00,836 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=95)
2026-01-22 10:51:00,837 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:49:00 -> current=10:50:00, expected_timestamp=10:50:00, df_length=95, W%R(9) prev=-22.91 current=-8.45, W%R(28) prev=-41.97 current=-29.78
2026-01-22 10:51:00,838 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-22.91, current=-8.45, threshold=-79, W%R(28) prev=-41.97, current=-29.78, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:52:00,792 - root - INFO - ================================================
2026-01-22 10:52:00,812 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:51:00] Market Sentiment: BEARISH | OHLC: O=25269.60 H=25275.70 L=25265.90 C=25274.50
2026-01-22 10:52:00,830 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:52:00.830 - Latest candle: 10:51:00, DataFrame length: 96
2026-01-22 10:52:00,833 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:51:00, O: 162.6, H: 170.5, L: 161.2, C: 167.8, ST: Bear (182.61), W%R (9): -65.0, W%R (28): -76.1, K: 18.6, D: 24.7
2026-01-22 10:52:00,849 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:52:00.849 - Latest candle: 10:51:00, DataFrame length: 96
2026-01-22 10:52:00,853 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:51:00, O: 139.2, H: 141.9, L: 132.5, C: 134.8, ST: Bull (120.14), W%R (9): -32.9, W%R (28): -38.4, K: 90.7, D: 88.4
2026-01-22 10:52:00,964 - async_event_handlers - INFO - [TIMING] New candle completed at 10:51:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:52:00.964 for sentiment: BEARISH
2026-01-22 10:52:00,965 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:52:00,966 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=96)
2026-01-22 10:52:00,967 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:50:00 -> current=10:51:00, expected_timestamp=10:51:00, df_length=96, W%R(9) prev=-89.98 current=-65.03, W%R(28) prev=-84.73 current=-76.14
2026-01-22 10:52:00,967 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-89.98, current=-65.03, threshold=-79, W%R(28) prev=-84.73, current=-76.14, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 10:52:00,967 - entry_conditions - INFO - Entry2: Trigger detected for NIFTY26JAN25250CE - both W%R(9) and W%R(28) crossed above threshold on same candle: W%R(9) -89.98 -> -65.03, W%R(28) -84.73 -> -76.14, SuperTrend bearish
2026-01-22 10:52:00,968 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25250CE at bar 11 (T, T+1, ..., T+3), window expires at bar 15
2026-01-22 10:52:00,968 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25250CE (same candle as trigger) - Slow WPR crossed above -77 (-84.73 -> -76.14), SuperTrend1 bearish
2026-01-22 10:52:00,969 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=96)
2026-01-22 10:52:00,969 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:50:00 -> current=10:51:00, expected_timestamp=10:51:00, df_length=96, W%R(9) prev=-8.45 current=-32.88, W%R(28) prev=-29.78 current=-38.40
2026-01-22 10:52:00,970 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-8.45, current=-32.88, threshold=-79, W%R(28) prev=-29.78, current=-38.40, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:53:00,792 - root - INFO - ================================================
2026-01-22 10:53:00,808 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:53:00.808 - Latest candle: 10:52:00, DataFrame length: 97
2026-01-22 10:53:00,812 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:52:00, O: 135.1, H: 138.7, L: 133.4, C: 137.3, ST: Bull (120.14), W%R (9): -21.2, W%R (28): -34.2, K: 79.3, D: 88.3
2026-01-22 10:53:00,849 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:52:00] Market Sentiment: BEARISH | OHLC: O=25274.10 H=25274.55 L=25269.15 C=25270.30
2026-01-22 10:53:00,867 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:53:00.867 - Latest candle: 10:52:00, DataFrame length: 97
2026-01-22 10:53:00,870 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:52:00, O: 167.9, H: 169.2, L: 163.1, C: 164.2, ST: Bear (182.61), W%R (9): -81.7, W%R (28): -81.6, K: 25.6, D: 21.0
2026-01-22 10:53:00,871 - async_event_handlers - INFO - [TIMING] New candle completed at 10:52:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:53:00.871 for sentiment: BEARISH
2026-01-22 10:53:00,872 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:53:00,872 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25250CE: Fast WPR crossed back below -79 at bar 12: -65.03 -> -81.69
2026-01-22 10:53:00,873 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=97)
2026-01-22 10:53:00,874 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=10:51:00 -> current=10:52:00, expected_timestamp=10:52:00, df_length=97, W%R(9) prev=-65.03 current=-81.69, W%R(28) prev=-76.14 current=-81.61
2026-01-22 10:53:00,874 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-65.03, current=-81.69, threshold=-79, W%R(28) prev=-76.14, current=-81.61, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 10:53:00,874 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25250CE (flexible mode) - K=25.62 > D=21.01 and K > 20
2026-01-22 10:53:00,874 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25250CE - All confirmations received! - Current NIFTY=25269.80
2026-01-22 10:53:00,875 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25250CE
2026-01-22 10:53:00,875 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=97)
2026-01-22 10:53:00,876 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:51:00 -> current=10:52:00, expected_timestamp=10:52:00, df_length=97, W%R(9) prev=-32.88 current=-21.23, W%R(28) prev=-38.40 current=-34.19
2026-01-22 10:53:00,876 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-32.88, current=-21.23, threshold=-79, W%R(28) prev=-38.40, current=-34.19, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:53:00,876 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BEARISH sentiment: CE entry condition 2 met. Placing CE trade for NIFTY26JAN25250CE (sentiment filter bypassed).
2026-01-22 10:53:00,877 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25250CE (CE) ===
2026-01-22 10:53:01,390 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25250CE has status: OPEN PENDING. Order ID: 2014207147755626496. Proceeding with caution.
2026-01-22 10:53:01,390 - strategy_executor - INFO - [OK] Entry2 TRADE TAKEN for NIFTY26JAN25250CE - Order ID: 2014207147755626496, Quantity: 130, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 10:53:01,390 - trade_state_manager - INFO - New trade added for NIFTY26JAN25250CE. Manual trade: True. Metadata: {'entry_type': 'Entry2'}
2026-01-22 10:53:01,431 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25250CE: 164.75
2026-01-22 10:53:01,432 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25250CE @ 10:53:01 price=164.75
2026-01-22 10:53:01,432 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25250CE - Checking POSITION_MANAGEMENT config...
2026-01-22 10:53:01,432 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25250CE
2026-01-22 10:53:01,432 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25250CE [OK][OK][OK]
2026-01-22 10:53:01,432 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25250CE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 10:53:01,432 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25250CE: {'calculated_sl_price': 154.85, 'last_sl_price': 154.85}
2026-01-22 10:53:01,433 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25250CE: 3 symbols mapped
2026-01-22 10:53:01,433 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25250CE -> 15025410
2026-01-22 10:53:01,433 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25250CE (Entry=164.75, SL=154.85, TP=None, SuperTrendSL=False) [NOTE][NOTE][NOTE]
2026-01-22 10:53:01,433 - realtime_position_manager - INFO - [NOTE] Active positions count: 1
2026-01-22 10:53:01,434 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25250CE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 10:53:01,434 - entry_conditions - INFO - [OK] Entry2 trade successfully executed for NIFTY26JAN25250CE
2026-01-22 10:54:00,542 - root - INFO - ================================================
2026-01-22 10:54:00,577 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:54:00.577 - Latest candle: 10:53:00, DataFrame length: 98
2026-01-22 10:54:00,581 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:53:00, O: 164.7, H: 165.5, L: 157.3, C: 163.3, ST: Bear (179.42), W%R (9): -75.0, W%R (28): -82.4, K: 36.9, D: 27.0
2026-01-22 10:54:00,807 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:54:00.807 - Latest candle: 10:53:00, DataFrame length: 98
2026-01-22 10:54:00,811 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:53:00, O: 137.7, H: 146.6, L: 136.7, C: 138.9, ST: Bull (124.80), W%R (9): -28.9, W%R (28): -32.4, K: 71.1, D: 80.4
2026-01-22 10:54:01,043 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:53:00] Market Sentiment: NEUTRAL | OHLC: O=25269.80 H=25271.25 L=25255.10 C=25266.40
2026-01-22 10:54:01,043 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 10:54:01,044 - async_live_ticker_handler - INFO - [10:53:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 10:54:01,044 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:53:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:54:01.044 for sentiment: NEUTRAL
2026-01-22 10:54:01,044 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:54:01,092 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:54:01,094 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:52:00 -> current=10:53:00, expected_timestamp=10:53:00, df_length=98, W%R(9) prev=-21.23 current=-28.87, W%R(28) prev=-34.19 current=-32.43
2026-01-22 10:54:01,094 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-21.23, current=-28.87, threshold=-79, W%R(28) prev=-34.19, current=-32.43, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:55:00,542 - root - INFO - ================================================
2026-01-22 10:55:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:54:00] Market Sentiment: BULLISH | OHLC: O=25266.60 H=25274.75 L=25264.90 C=25270.95
2026-01-22 10:55:00,793 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 10:55:00,794 - async_live_ticker_handler - INFO - [10:54:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 10:55:00,811 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:55:00.810 - Latest candle: 10:54:00, DataFrame length: 99
2026-01-22 10:55:00,814 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:54:00, O: 163.0, H: 166.5, L: 162.3, C: 164.0, ST: Bear (179.42), W%R (9): -67.7, W%R (28): -78.2, K: 39.6, D: 34.0
2026-01-22 10:55:00,831 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:55:00.831 - Latest candle: 10:54:00, DataFrame length: 99
2026-01-22 10:55:00,834 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:54:00, O: 139.1, H: 139.3, L: 134.2, C: 137.1, ST: Bull (124.80), W%R (9): -39.5, W%R (28): -38.0, K: 64.8, D: 71.8
2026-01-22 10:55:00,855 - async_event_handlers - INFO - [TIMING] New candle completed at 10:54:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:55:00.855 for sentiment: BULLISH
2026-01-22 10:55:00,856 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:55:00,857 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=99)
2026-01-22 10:55:00,892 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:55:00,893 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=99)
2026-01-22 10:55:00,894 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:53:00 -> current=10:54:00, expected_timestamp=10:54:00, df_length=99, W%R(9) prev=-28.87 current=-39.50, W%R(28) prev=-32.43 current=-37.99
2026-01-22 10:55:00,894 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-28.87, current=-39.50, threshold=-79, W%R(28) prev=-32.43, current=-37.99, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:56:00,542 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:55:00] Market Sentiment: BULLISH | OHLC: O=25272.20 H=25272.20 L=25265.45 C=25268.20
2026-01-22 10:56:00,792 - root - INFO - ================================================
2026-01-22 10:56:00,808 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:56:00.808 - Latest candle: 10:55:00, DataFrame length: 100
2026-01-22 10:56:00,813 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:55:00, O: 164.3, H: 164.8, L: 161.7, C: 163.6, ST: Bear (179.19), W%R (9): -66.9, W%R (28): -77.9, K: 39.4, D: 38.6
2026-01-22 10:56:01,076 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:56:01.076 - Latest candle: 10:55:00, DataFrame length: 100
2026-01-22 10:56:01,080 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:55:00, O: 137.4, H: 141.0, L: 137.2, C: 139.6, ST: Bull (124.80), W%R (9): -31.1, W%R (28): -34.5, K: 66.8, D: 67.6
2026-01-22 10:56:01,100 - async_event_handlers - INFO - [TIMING] New candle completed at 10:55:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:56:01.100 for sentiment: BULLISH
2026-01-22 10:56:01,101 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:56:01,102 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=100)
2026-01-22 10:56:01,142 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:56:01,142 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=100)
2026-01-22 10:56:01,143 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:54:00 -> current=10:55:00, expected_timestamp=10:55:00, df_length=100, W%R(9) prev=-39.50 current=-31.11, W%R(28) prev=-37.99 current=-34.55
2026-01-22 10:56:01,144 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-39.50, current=-31.11, threshold=-79, W%R(28) prev=-37.99, current=-34.55, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:57:00,792 - root - INFO - ================================================
2026-01-22 10:57:00,808 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:57:00.808 - Latest candle: 10:56:00, DataFrame length: 101
2026-01-22 10:57:00,813 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:56:00, O: 139.2, H: 139.2, L: 135.1, C: 136.3, ST: Bull (124.80), W%R (9): -45.6, W%R (28): -41.7, K: 52.5, D: 61.4
2026-01-22 10:57:01,058 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:57:01.058 - Latest candle: 10:56:00, DataFrame length: 101
2026-01-22 10:57:01,062 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:56:00, O: 163.2, H: 166.5, L: 162.8, C: 165.0, ST: Bear (179.19), W%R (9): -59.2, W%R (28): -72.5, K: 49.7, D: 42.9
2026-01-22 10:57:01,103 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:56:00] Market Sentiment: BULLISH | OHLC: O=25267.85 H=25276.70 L=25267.05 C=25270.85
2026-01-22 10:57:01,103 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:56:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:57:01.103 for sentiment: BULLISH
2026-01-22 10:57:01,104 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:57:01,105 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=101)
2026-01-22 10:57:01,142 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:57:01,143 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=101)
2026-01-22 10:57:01,144 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:55:00 -> current=10:56:00, expected_timestamp=10:56:00, df_length=101, W%R(9) prev=-31.11 current=-45.56, W%R(28) prev=-34.55 current=-41.73
2026-01-22 10:57:01,144 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-31.11, current=-45.56, threshold=-79, W%R(28) prev=-34.55, current=-41.73, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:58:00,792 - root - INFO - ================================================
2026-01-22 10:58:00,832 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:57:00] Market Sentiment: BULLISH | OHLC: O=25271.55 H=25274.75 L=25260.35 C=25265.90
2026-01-22 10:58:00,850 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:58:00.850 - Latest candle: 10:57:00, DataFrame length: 102
2026-01-22 10:58:00,854 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:57:00, O: 166.3, H: 167.1, L: 158.3, C: 160.8, ST: Bear (178.00), W%R (9): -78.3, W%R (28): -81.2, K: 43.3, D: 44.1
2026-01-22 10:58:00,869 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:58:00.869 - Latest candle: 10:57:00, DataFrame length: 102
2026-01-22 10:58:00,874 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:57:00, O: 135.0, H: 144.9, L: 134.1, C: 140.1, ST: Bull (124.80), W%R (9): -32.6, W%R (28): -34.4, K: 53.5, D: 57.6
2026-01-22 10:58:00,875 - async_event_handlers - INFO - [TIMING] New candle completed at 10:57:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:58:00.875 for sentiment: BULLISH
2026-01-22 10:58:00,876 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:58:00,876 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=102)
2026-01-22 10:58:00,914 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 10:58:00,915 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=102)
2026-01-22 10:58:00,916 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:56:00 -> current=10:57:00, expected_timestamp=10:57:00, df_length=102, W%R(9) prev=-45.56 current=-32.58, W%R(28) prev=-41.73 current=-34.42
2026-01-22 10:58:00,916 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-45.56, current=-32.58, threshold=-79, W%R(28) prev=-41.73, current=-34.42, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:58:56,042 - realtime_position_manager - WARNING - [STOP] SL TRIGGERED: NIFTY26JAN25250CE - LTP=154.05 <= SL=154.85 (gap=0.80, 0.52%)
2026-01-22 10:58:56,043 - immediate_exit_executor - INFO - [START] Executing exit: NIFTY26JAN25250CE - SL @ 154.05 (qty=130)
2026-01-22 10:58:56,094 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25250CE @ 10:58:56 price=154.05 pnl=-6.49% reason=SL
2026-01-22 10:58:56,094 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25250CE: SL @ 154.05
2026-01-22 10:58:56,177 - immediate_exit_executor - WARNING - [UNKNOWN EXIT ORDER STATUS] Exit order for NIFTY26JAN25250CE has status: OPEN PENDING. Order ID: 2014208637123616768. Proceeding with caution.
2026-01-22 10:58:56,177 - immediate_exit_executor - INFO - [OK] Market exit order placed: NIFTY26JAN25250CE - Order ID: 2014208637123616768 (Status: OPEN PENDING, attempt 1/3)
2026-01-22 10:58:56,317 - realtime_position_manager - WARNING - [WARN] Exit signal already dispatched for NIFTY26JAN25250CE, skipping duplicate SL trigger on this tick
2026-01-22 10:58:56,317 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25250CE
2026-01-22 10:58:56,716 - immediate_exit_executor - INFO - [OK] Position validated closed: NIFTY26JAN25250CE (Order ID: 2014208637123616768)
2026-01-22 10:58:56,716 - immediate_exit_executor - CRITICAL - [OK][OK][OK] Exit executed successfully: NIFTY26JAN25250CE - SL @ 154.05 (Order ID: 2014208637123616768) [OK][OK][OK]
2026-01-22 10:59:00,542 - root - INFO - ================================================
2026-01-22 10:59:00,558 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 10:59:00.558 - Latest candle: 10:58:00, DataFrame length: 103
2026-01-22 10:59:00,563 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 10:58:00, O: 160.8, H: 161.1, L: 150.8, C: 150.8, ST: Bear (171.75), W%R (9): -100.0, W%R (28): -100.0, K: 29.8, D: 40.9
2026-01-22 10:59:00,827 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 10:59:00.827 - Latest candle: 10:58:00, DataFrame length: 103
2026-01-22 10:59:00,831 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 10:58:00, O: 140.7, H: 151.8, L: 140.4, C: 151.8, ST: Bull (129.93), W%R (9): 0.0, W%R (28): -11.8, K: 63.0, D: 56.3
2026-01-22 10:59:01,063 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:58:00] Market Sentiment: BEARISH | OHLC: O=25265.15 H=25265.75 L=25249.85 C=25249.85
2026-01-22 10:59:01,063 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 10:59:01,064 - async_live_ticker_handler - INFO - [10:58:00] Market sentiment CHANGED: BULLISH -> BEARISH
2026-01-22 10:59:01,064 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 10:58:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 10:59:01.064 for sentiment: BEARISH
2026-01-22 10:59:01,065 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 10:59:01,066 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=103)
2026-01-22 10:59:01,066 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250CE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=150.75, close=150.75
2026-01-22 10:59:01,067 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=103)
2026-01-22 10:59:01,067 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=10:57:00 -> current=10:58:00, expected_timestamp=10:58:00, df_length=103, W%R(9) prev=-32.58 current=0.00, W%R(28) prev=-34.42 current=-11.83
2026-01-22 10:59:01,068 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-32.58, current=0.00, threshold=-79, W%R(28) prev=-34.42, current=-11.83, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 10:59:37,988 - async_api_server - INFO - Received async command: BUY_PE
2026-01-22 10:59:37,988 - event_system - INFO - [DISPATCH] USER_COMMAND event 'BUY_PE' added to queue. Queue size: 0, Dispatcher running: True
2026-01-22 10:59:37,988 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:10:59:37 +0530] "POST /command HTTP/1.1" 200 243 "-" "python-requests/2.32.4"
2026-01-22 10:59:37,989 - event_system - INFO - [QUEUE] Retrieved USER_COMMAND event from queue: BUY_PE
2026-01-22 10:59:37,989 - event_system - INFO - [EVENT] Processing user_command with 1 handlers
2026-01-22 10:59:37,989 - async_event_handlers - INFO - Processing user command: BUY_PE
2026-01-22 10:59:37,989 - async_event_handlers - INFO - === MANUAL TRADE COMMAND RECEIVED: BUY_PE for NIFTY26JAN25300PE ===
2026-01-22 10:59:37,989 - trade_state_manager - INFO - Symbol NIFTY26JAN25300PE not found in active trades, nothing to clear
2026-01-22 10:59:37,989 - async_event_handlers - INFO - Performing non-blocking reconciliation with broker positions after force clear...
2026-01-22 10:59:38,028 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 10:59:38,028 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 10:59:38,028 - async_event_handlers - INFO - Reconciliation completed.
2026-01-22 10:59:38,028 - async_event_handlers - INFO - Executing trade entry for NIFTY26JAN25300PE via strategy executor...
2026-01-22 10:59:38,029 - async_event_handlers - INFO - Executing manual trade entry for NIFTY26JAN25300PE with command BUY_PE
2026-01-22 10:59:38,029 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25300PE (BUY_PE) ===
2026-01-22 10:59:38,491 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:10:59:38 +0530] "GET /get_config?key=MANUAL_MARKET_SENTIMENT HTTP/1.1" 200 231 "-" "python-requests/2.32.4"
2026-01-22 10:59:38,524 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25300PE has status: OPEN PENDING. Order ID: 2014208813468934144. Proceeding with caution.
2026-01-22 10:59:38,524 - strategy_executor - INFO - Successfully placed entry order for NIFTY26JAN25300PE. Order ID: 2014208813468934144, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 10:59:38,524 - trade_state_manager - INFO - New trade added for NIFTY26JAN25300PE. Manual trade: True. Metadata: {'entry_type': 'Manual'}
2026-01-22 10:59:38,562 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25300PE: 165.55
2026-01-22 10:59:38,563 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25300PE @ 10:59:38 price=165.55
2026-01-22 10:59:38,563 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25300PE - Checking POSITION_MANAGEMENT config...
2026-01-22 10:59:38,563 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25300PE
2026-01-22 10:59:38,563 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25300PE [OK][OK][OK]
2026-01-22 10:59:38,563 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25300PE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 10:59:38,563 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25300PE: {'supertrend_sl_active': True}
2026-01-22 10:59:38,564 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25300PE: {'calculated_sl_price': 129.95, 'last_sl_price': 129.95, 'supertrend_sl_active': True}
2026-01-22 10:59:38,565 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25300PE: 3 symbols mapped
2026-01-22 10:59:38,565 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25300PE -> 15027714
2026-01-22 10:59:38,565 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25300PE (Entry=165.55, SL=129.95, TP=None, SuperTrendSL=True) [NOTE][NOTE][NOTE]
2026-01-22 10:59:38,565 - realtime_position_manager - INFO - [NOTE] Active positions count: 1
2026-01-22 10:59:38,566 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25300PE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 10:59:55,171 - async_api_server - INFO - Received async command: FORCE_EXIT
2026-01-22 10:59:55,171 - event_system - INFO - [DISPATCH] USER_COMMAND event 'FORCE_EXIT' added to queue. Queue size: 0, Dispatcher running: True
2026-01-22 10:59:55,172 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:10:59:55 +0530] "POST /command HTTP/1.1" 200 247 "-" "python-requests/2.32.4"
2026-01-22 10:59:55,172 - event_system - INFO - [QUEUE] Retrieved USER_COMMAND event from queue: FORCE_EXIT
2026-01-22 10:59:55,172 - event_system - INFO - [EVENT] Processing user_command with 1 handlers
2026-01-22 10:59:55,172 - async_event_handlers - INFO - Processing user command: FORCE_EXIT
2026-01-22 10:59:55,172 - async_event_handlers - INFO - === FORCE EXIT COMMAND RECEIVED ===
2026-01-22 10:59:55,173 - async_event_handlers - INFO - Performing reconciliation with broker positions before force exit...
2026-01-22 10:59:55,215 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 10:59:55,215 - trade_state_manager - INFO - Found 1 active positions in broker: ['NIFTY26JAN25300PE']
2026-01-22 10:59:55,215 - trade_state_manager - INFO - Found 1 active trades in state: ['NIFTY26JAN25300PE']
2026-01-22 10:59:55,215 - trade_state_manager - INFO - Reconciliation: No stale trades found.
2026-01-22 10:59:55,215 - trade_state_manager - INFO - Reconciliation: No untracked positions found.
2026-01-22 10:59:55,215 - async_event_handlers - INFO - Reconciliation completed before force exit.
2026-01-22 10:59:55,215 - async_event_handlers - INFO - --- FORCE EXIT ALL POSITIONS INITIATED ---
2026-01-22 10:59:55,215 - async_event_handlers - INFO - Force Exit: Found 1 active trade(s) to close: ['NIFTY26JAN25300PE']
2026-01-22 10:59:55,216 - async_event_handlers - INFO - --- Attempting to force exit for symbol: NIFTY26JAN25300PE ---
2026-01-22 10:59:55,216 - strategy_executor - INFO - No GTT ID found for NIFTY26JAN25300PE. Proceeding with market exit order.
2026-01-22 10:59:55,216 - strategy_executor - INFO - Got current LTP for NIFTY26JAN25300PE from ticker handler: 166.85
2026-01-22 10:59:55,216 - strategy_executor - INFO - Updating ledger for NIFTY26JAN25300PE with exit price 166.85 (entry: 165.55)
2026-01-22 10:59:55,217 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25300PE @ 10:59:55 price=166.85 pnl=0.79% reason=FORCE_EXIT
2026-01-22 10:59:55,217 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25300PE: FORCE_EXIT @ 166.85
2026-01-22 10:59:55,218 - strategy_executor - INFO - Successfully updated ledger and removed NIFTY26JAN25300PE from active trades
2026-01-22 10:59:55,218 - strategy_executor - INFO - Placing force exit MARKET order with params: {'tradingsymbol': 'NIFTY26JAN25300PE', 'exchange': 'NFO', 'transaction_type': 'SELL', 'quantity': 130, 'product': 'NRML', 'order_type': 'MARKET', 'variety': 'regular'}
2026-01-22 10:59:55,272 - strategy_executor - INFO - Successfully placed force exit MARKET order for NIFTY26JAN25300PE. Order ID: 2014208885124423680
2026-01-22 10:59:55,312 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 10:59:55,312 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 10:59:55,312 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25300PE
2026-01-22 10:59:55,313 - trade_state_manager - INFO - Symbol NIFTY26JAN25300PE not found in active trades, nothing to clear
2026-01-22 10:59:55,313 - async_event_handlers - INFO - --- FORCE EXIT ALL POSITIONS COMPLETED ---
2026-01-22 10:59:55,313 - async_event_handlers - INFO - Explicitly resetting crossover indices after force exit of all positions
2026-01-22 10:59:55,313 - async_event_handlers - INFO - Successfully reset crossover indices after force exit of all positions
2026-01-22 10:59:55,313 - async_event_handlers - INFO - Forcing reconciliation with broker positions after force exit...
2026-01-22 10:59:55,348 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 10:59:55,348 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 10:59:55,348 - async_event_handlers - INFO - Successfully reconciled with broker positions after force exit
2026-01-22 10:59:55,674 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:10:59:55 +0530] "GET /get_config?key=MANUAL_MARKET_SENTIMENT HTTP/1.1" 200 231 "-" "python-requests/2.32.4"
2026-01-22 11:00:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO - [10:59:00] Market Sentiment: BEARISH | OHLC: O=25247.75 H=25247.75 L=25221.70 C=25221.70
2026-01-22 11:00:00,793 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25234.72
2026-01-22 11:00:00,794 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 11:00:00,794 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 11:00:04,264 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 11:00:04,264 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 11:00:04,264 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 11:00:04,264 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25250CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25300PE -> NIFTY26JAN25250PE
2026-01-22 11:00:04,378 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 10:59:00: old_ce=NIFTY26JAN25250CE(15025410) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25300PE(15027714) -> new_pe=NIFTY26JAN25250PE
2026-01-22 11:00:04,378 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 11:00:04,379 - root - INFO - ================================================
2026-01-22 11:00:04,420 - async_event_handlers - INFO - [TIMING] New candle completed at 11:00:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:00:04.420 for sentiment: BEARISH
2026-01-22 11:00:04,426 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:00:04,428 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=104)
2026-01-22 11:00:04,428 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=180.15, close=180.15
2026-01-22 11:00:04,430 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=104)
2026-01-22 11:00:04,430 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=10:57:00 -> current=10:58:00, expected_timestamp=10:58:00, df_length=104, W%R(9) prev=-30.42 current=-0.55, W%R(28) prev=-33.37 current=-9.25
2026-01-22 11:00:04,431 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-30.42, current=-0.55, threshold=-79, W%R(28) prev=-33.37, current=-9.25, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:01:00,542 - root - INFO - ================================================
2026-01-22 11:01:00,815 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:00:00] Market Sentiment: NEUTRAL | OHLC: O=25221.95 H=25234.85 L=25216.95 C=25234.85
2026-01-22 11:01:00,815 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 11:01:00,816 - async_live_ticker_handler - INFO - [11:00:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 11:02:00,542 - root - INFO - ================================================
2026-01-22 11:02:00,578 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:02:00.578 - Latest candle: 11:01:00, DataFrame length: 106
2026-01-22 11:02:00,582 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:01:00, O: 173.8, H: 177.8, L: 166.8, C: 170.8, ST: Bear (187.85), W%R (9): -77.2, W%R (28): -87.9, K: 0.0, D: 17.0
2026-01-22 11:02:00,828 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:02:00.828 - Latest candle: 11:01:00, DataFrame length: 106
2026-01-22 11:02:00,832 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:01:00, O: 134.6, H: 146.4, L: 130.3, C: 142.6, ST: Bull (124.35), W%R (9): -13.0, W%R (28): -7.8, K: 100.0, D: 86.0
2026-01-22 11:02:00,837 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:01:00] Market Sentiment: NEUTRAL | OHLC: O=25234.70 H=25240.90 L=25223.10 C=25226.35
2026-01-22 11:02:00,838 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:01:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:02:00.838 for sentiment: NEUTRAL
2026-01-22 11:02:00,880 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:02:00,885 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25200CE during slab change: W%R(9) crossed above threshold comparing prev=10:58:00 -> current=11:01:00, W%R(9) -100.00 -> -77.17, W%R(28) -100.00 -> -87.93
2026-01-22 11:02:00,885 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 2 (trigger detected during slab change)
2026-01-22 11:02:00,911 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE close mismatch at 11:01:00: current=170.80, kite=170.55, diff=0.25
2026-01-22 11:02:00,911 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25200CE OHLC validation FAILED at 11:01:00: 1 differences found
2026-01-22 11:02:00,911 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25200CE at 11:01:00 - trigger detected but data may be corrupted
2026-01-22 11:02:00,911 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:00:00 -> current=11:01:00, expected_timestamp=11:01:00, df_length=106, W%R(9) prev=-69.74 current=-77.17, W%R(28) prev=-83.33 current=-87.93
2026-01-22 11:02:00,912 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-69.74, current=-77.17, threshold=-79, W%R(28) prev=-83.33, current=-87.93, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:03:00,543 - root - INFO - ================================================
2026-01-22 11:03:00,560 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:03:00.560 - Latest candle: 11:02:00, DataFrame length: 107
2026-01-22 11:03:00,564 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:02:00, O: 170.7, H: 175.0, L: 170.5, C: 172.2, ST: Bear (187.85), W%R (9): -72.0, W%R (28): -85.9, K: 4.2, D: 5.9
2026-01-22 11:03:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:02:00] Market Sentiment: NEUTRAL | OHLC: O=25227.35 H=25233.40 L=25226.60 C=25230.95
2026-01-22 11:03:01,079 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:03:01.079 - Latest candle: 11:02:00, DataFrame length: 107
2026-01-22 11:03:01,083 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:02:00, O: 142.6, H: 143.0, L: 137.6, C: 140.8, ST: Bull (124.35), W%R (9): -18.5, W%R (28): -10.9, K: 95.5, D: 94.9
2026-01-22 11:03:01,123 - async_event_handlers - INFO - [TIMING] New candle completed at 11:02:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:03:01.123 for sentiment: NEUTRAL
2026-01-22 11:03:01,124 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:03:01,126 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25200CE during slab change: W%R(9) crossed above threshold comparing prev=10:58:00 -> current=11:02:00, W%R(9) -100.00 -> -71.96, W%R(28) -100.00 -> -85.94
2026-01-22 11:03:01,126 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 3 (trigger detected during slab change)
2026-01-22 11:03:01,146 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE close mismatch at 11:02:00: current=172.25, kite=172.70, diff=0.45
2026-01-22 11:03:01,147 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25200CE OHLC validation FAILED at 11:02:00: 1 differences found
2026-01-22 11:03:01,147 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25200CE at 11:02:00 - trigger detected but data may be corrupted
2026-01-22 11:03:01,147 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:01:00 -> current=11:02:00, expected_timestamp=11:02:00, df_length=107, W%R(9) prev=-77.17 current=-71.96, W%R(28) prev=-87.93 current=-85.94
2026-01-22 11:03:01,147 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-77.17, current=-71.96, threshold=-79, W%R(28) prev=-87.93, current=-85.94, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:04:00,542 - root - INFO - ================================================
2026-01-22 11:04:00,559 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:04:00.559 - Latest candle: 11:03:00, DataFrame length: 108
2026-01-22 11:04:00,564 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:03:00, O: 172.7, H: 183.8, L: 172.7, C: 178.8, ST: Bear (187.85), W%R (9): -54.0, W%R (28): -77.0, K: 26.7, D: 10.3
2026-01-22 11:04:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:03:00] Market Sentiment: BULLISH | OHLC: O=25230.90 H=25248.95 L=25230.10 C=25242.60
2026-01-22 11:04:00,793 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 11:04:00,794 - async_live_ticker_handler - INFO - [11:03:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 11:04:00,849 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:04:00.849 - Latest candle: 11:03:00, DataFrame length: 108
2026-01-22 11:04:00,853 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:03:00, O: 140.1, H: 140.1, L: 128.4, C: 133.7, ST: Bull (124.35), W%R (9): -38.8, W%R (28): -22.8, K: 73.5, D: 89.7
2026-01-22 11:04:00,858 - async_event_handlers - INFO - [TIMING] New candle completed at 11:03:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:04:00.858 for sentiment: BULLISH
2026-01-22 11:04:00,858 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:04:00,860 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=108)
2026-01-22 11:04:00,861 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25200CE during slab change: both W%R(9) and W%R(28) crossed above threshold comparing prev=10:58:00 -> current=11:03:00, W%R(9) -100.00 -> -54.04, W%R(28) -100.00 -> -76.95
2026-01-22 11:04:00,861 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 4 (trigger detected during slab change)
2026-01-22 11:04:00,861 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: W%R(28) confirmation already met for NIFTY26JAN25200CE during slab change trigger
2026-01-22 11:04:00,882 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE close mismatch at 11:03:00: current=178.80, kite=178.50, diff=0.30
2026-01-22 11:04:00,883 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25200CE OHLC validation FAILED at 11:03:00: 1 differences found
2026-01-22 11:04:00,883 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25200CE at 11:03:00 - trigger detected but data may be corrupted
2026-01-22 11:04:00,883 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:02:00 -> current=11:03:00, expected_timestamp=11:03:00, df_length=108, W%R(9) prev=-71.96 current=-54.04, W%R(28) prev=-85.94 current=-76.95
2026-01-22 11:04:00,883 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-71.96, current=-54.04, threshold=-79, W%R(28) prev=-85.94, current=-76.95, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 11:04:00,884 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25200CE (flexible mode) - K=26.68 > D=10.30 and K > 20
2026-01-22 11:04:00,884 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25200CE - All confirmations received! - Current NIFTY=25242.40
2026-01-22 11:04:00,884 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25200CE
2026-01-22 11:04:00,885 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=108)
2026-01-22 11:04:00,886 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:02:00 -> current=11:03:00, expected_timestamp=11:03:00, df_length=108, W%R(9) prev=-18.54 current=-38.80, W%R(28) prev=-10.90 current=-22.80
2026-01-22 11:04:00,887 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-18.54, current=-38.80, threshold=-79, W%R(28) prev=-10.90, current=-22.80, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:04:00,887 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BULLISH sentiment: CE entry condition 2 met. Placing CE trade for NIFTY26JAN25200CE (sentiment filter bypassed).
2026-01-22 11:04:00,888 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25200CE (CE) ===
2026-01-22 11:04:01,384 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25200CE has status: OPEN PENDING. Order ID: 2014209915996266496. Proceeding with caution.
2026-01-22 11:04:01,385 - strategy_executor - INFO - [OK] Entry2 TRADE TAKEN for NIFTY26JAN25200CE - Order ID: 2014209915996266496, Quantity: 130, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 11:04:01,385 - trade_state_manager - INFO - New trade added for NIFTY26JAN25200CE. Manual trade: True. Metadata: {'entry_type': 'Entry2'}
2026-01-22 11:04:01,421 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25200CE: 179
2026-01-22 11:04:01,422 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25200CE @ 11:04:01 price=179.00
2026-01-22 11:04:01,422 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25200CE - Checking POSITION_MANAGEMENT config...
2026-01-22 11:04:01,422 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25200CE
2026-01-22 11:04:01,422 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25200CE [OK][OK][OK]
2026-01-22 11:04:01,422 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25200CE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 11:04:01,422 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'calculated_sl_price': 168.25, 'last_sl_price': 168.25}
2026-01-22 11:04:01,423 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25200CE: 3 symbols mapped
2026-01-22 11:04:01,424 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25200CE -> 15024386
2026-01-22 11:04:01,424 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25200CE (Entry=179.00, SL=168.25, TP=None, SuperTrendSL=False) [NOTE][NOTE][NOTE]
2026-01-22 11:04:01,424 - realtime_position_manager - INFO - [NOTE] Active positions count: 1
2026-01-22 11:04:01,425 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25200CE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 11:04:01,425 - entry_conditions - INFO - [OK] Entry2 trade successfully executed for NIFTY26JAN25200CE
2026-01-22 11:05:00,792 - root - INFO - ================================================
2026-01-22 11:05:00,809 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:05:00.809 - Latest candle: 11:04:00, DataFrame length: 109
2026-01-22 11:05:00,814 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:04:00, O: 178.5, H: 179.8, L: 171.8, C: 171.8, ST: Bear (187.85), W%R (9): -73.3, W%R (28): -86.6, K: 39.9, D: 23.6
2026-01-22 11:05:00,830 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:05:00.830 - Latest candle: 11:04:00, DataFrame length: 109
2026-01-22 11:05:00,835 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:04:00, O: 133.7, H: 140.3, L: 132.4, C: 140.3, ST: Bull (124.35), W%R (9): -19.8, W%R (28): -11.7, K: 58.4, D: 75.8
2026-01-22 11:05:01,043 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:04:00] Market Sentiment: BULLISH | OHLC: O=25242.40 H=25242.65 L=25229.80 C=25230.65
2026-01-22 11:05:01,043 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:04:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:05:01.043 for sentiment: BULLISH
2026-01-22 11:05:01,086 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:05:01,088 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=109)
2026-01-22 11:05:01,129 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 11:05:01,130 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=109)
2026-01-22 11:05:01,131 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:03:00 -> current=11:04:00, expected_timestamp=11:04:00, df_length=109, W%R(9) prev=-38.80 current=-19.83, W%R(28) prev=-22.80 current=-11.65
2026-01-22 11:05:01,132 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-38.80, current=-19.83, threshold=-79, W%R(28) prev=-22.80, current=-11.65, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:05:58,543 - realtime_position_manager - WARNING - [STOP] SL TRIGGERED: NIFTY26JAN25200CE - LTP=167.85 <= SL=168.25 (gap=0.40, 0.24%)
2026-01-22 11:05:58,543 - immediate_exit_executor - INFO - [START] Executing exit: NIFTY26JAN25200CE - SL @ 167.85 (qty=130)
2026-01-22 11:05:58,588 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25200CE @ 11:05:58 price=167.85 pnl=-6.23% reason=SL
2026-01-22 11:05:58,588 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25200CE: SL @ 167.85
2026-01-22 11:05:58,672 - immediate_exit_executor - WARNING - [UNKNOWN EXIT ORDER STATUS] Exit order for NIFTY26JAN25200CE has status: OPEN PENDING. Order ID: 2014210409196085248. Proceeding with caution.
2026-01-22 11:05:58,672 - immediate_exit_executor - INFO - [OK] Market exit order placed: NIFTY26JAN25200CE - Order ID: 2014210409196085248 (Status: OPEN PENDING, attempt 1/3)
2026-01-22 11:05:58,710 - realtime_position_manager - WARNING - [WARN] Exit signal already dispatched for NIFTY26JAN25200CE, skipping duplicate SL trigger on this tick
2026-01-22 11:05:58,710 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25200CE
2026-01-22 11:05:59,210 - immediate_exit_executor - INFO - [OK] Position validated closed: NIFTY26JAN25200CE (Order ID: 2014210409196085248)
2026-01-22 11:05:59,210 - immediate_exit_executor - CRITICAL - [OK][OK][OK] Exit executed successfully: NIFTY26JAN25200CE - SL @ 167.85 (Order ID: 2014210409196085248) [OK][OK][OK]
2026-01-22 11:06:00,542 - root - INFO - ================================================
2026-01-22 11:06:00,578 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:06:00.578 - Latest candle: 11:05:00, DataFrame length: 110
2026-01-22 11:06:00,583 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:05:00, O: 172.6, H: 173.3, L: 167.8, C: 168.8, ST: Bear (187.85), W%R (9): -81.3, W%R (28): -90.6, K: 45.4, D: 37.3
2026-01-22 11:06:00,809 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:06:00.809 - Latest candle: 11:05:00, DataFrame length: 110
2026-01-22 11:06:00,813 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:05:00, O: 139.6, H: 145.6, L: 138.6, C: 144.9, ST: Bull (124.66), W%R (9): -6.6, W%R (28): -3.9, K: 52.1, D: 61.3
2026-01-22 11:06:00,816 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:05:00] Market Sentiment: NEUTRAL | OHLC: O=25230.45 H=25231.40 L=25223.35 C=25223.35
2026-01-22 11:06:00,816 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 11:06:00,816 - async_live_ticker_handler - INFO - [11:05:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 11:06:00,817 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:05:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:06:00.817 for sentiment: NEUTRAL
2026-01-22 11:06:00,876 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:06:00,881 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:04:00 -> current=11:05:00, expected_timestamp=11:05:00, df_length=110, W%R(9) prev=-73.32 current=-81.26, W%R(28) prev=-86.63 current=-90.60
2026-01-22 11:06:00,882 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-73.32, current=-81.26, threshold=-79, W%R(28) prev=-86.63, current=-90.60, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:06:00,883 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:04:00 -> current=11:05:00, expected_timestamp=11:05:00, df_length=110, W%R(9) prev=-19.83 current=-6.56, W%R(28) prev=-11.65 current=-3.86
2026-01-22 11:06:00,884 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-19.83, current=-6.56, threshold=-79, W%R(28) prev=-11.65, current=-3.86, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:07:00,792 - root - INFO - ================================================
2026-01-22 11:07:00,868 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:07:00.868 - Latest candle: 11:06:00, DataFrame length: 111
2026-01-22 11:07:00,872 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:06:00, O: 145.5, H: 154.2, L: 144.9, C: 147.0, ST: Bull (132.03), W%R (9): -17.1, W%R (28): -10.8, K: 65.2, D: 58.6
2026-01-22 11:07:01,078 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:07:01.078 - Latest candle: 11:06:00, DataFrame length: 111
2026-01-22 11:07:01,082 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:06:00, O: 168.1, H: 168.8, L: 161.6, C: 167.8, ST: Bear (182.93), W%R (9): -83.2, W%R (28): -91.5, K: 31.6, D: 39.0
2026-01-22 11:07:01,084 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:06:00] Market Sentiment: BEARISH | OHLC: O=25223.90 H=25224.05 L=25207.80 C=25213.40
2026-01-22 11:07:01,086 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 11:07:01,087 - async_live_ticker_handler - INFO - [11:06:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 11:07:01,087 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:06:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:07:01.087 for sentiment: BEARISH
2026-01-22 11:07:01,088 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:07:01,089 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=111)
2026-01-22 11:07:01,090 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:05:00 -> current=11:06:00, expected_timestamp=11:06:00, df_length=111, W%R(9) prev=-81.26 current=-83.22, W%R(28) prev=-90.60 current=-91.54
2026-01-22 11:07:01,091 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-81.26, current=-83.22, threshold=-79, W%R(28) prev=-90.60, current=-91.54, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:07:01,092 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=111)
2026-01-22 11:07:01,093 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:05:00 -> current=11:06:00, expected_timestamp=11:06:00, df_length=111, W%R(9) prev=-6.56 current=-17.14, W%R(28) prev=-3.86 current=-10.81
2026-01-22 11:07:01,093 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-6.56, current=-17.14, threshold=-79, W%R(28) prev=-3.86, current=-10.81, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:08:00,542 - root - INFO - ================================================
2026-01-22 11:08:00,829 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:08:00.829 - Latest candle: 11:07:00, DataFrame length: 112
2026-01-22 11:08:00,833 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:07:00, O: 168.1, H: 169.3, L: 163.8, C: 164.3, ST: Bear (182.93), W%R (9): -91.0, W%R (28): -95.0, K: 22.7, D: 33.2
2026-01-22 11:08:01,077 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:08:01.077 - Latest candle: 11:07:00, DataFrame length: 112
2026-01-22 11:08:01,082 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:07:00, O: 147.2, H: 153.6, L: 146.5, C: 151.6, ST: Bull (132.82), W%R (9): -7.3, W%R (28): -4.7, K: 75.2, D: 64.2
2026-01-22 11:08:01,086 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:07:00] Market Sentiment: BEARISH | OHLC: O=25213.40 H=25217.70 L=25209.15 C=25210.05
2026-01-22 11:08:01,086 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:07:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:08:01.086 for sentiment: BEARISH
2026-01-22 11:08:01,087 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:08:01,089 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=112)
2026-01-22 11:08:01,090 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:06:00 -> current=11:07:00, expected_timestamp=11:07:00, df_length=112, W%R(9) prev=-83.22 current=-91.03, W%R(28) prev=-91.54 current=-95.04
2026-01-22 11:08:01,090 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-83.22, current=-91.03, threshold=-79, W%R(28) prev=-91.54, current=-95.04, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:08:01,091 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=112)
2026-01-22 11:09:00,542 - root - INFO - ================================================
2026-01-22 11:09:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:08:00] Market Sentiment: BEARISH | OHLC: O=25209.90 H=25220.05 L=25209.35 C=25219.10
2026-01-22 11:09:00,869 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:09:00.869 - Latest candle: 11:08:00, DataFrame length: 113
2026-01-22 11:09:00,873 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:08:00, O: 164.5, H: 170.3, L: 164.1, C: 169.9, ST: Bear (182.93), W%R (9): -62.6, W%R (28): -84.4, K: 34.3, D: 29.5
2026-01-22 11:09:00,890 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:09:00.890 - Latest candle: 11:08:00, DataFrame length: 113
2026-01-22 11:09:00,894 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:08:00, O: 151.2, H: 151.3, L: 143.2, C: 144.2, ST: Bull (132.82), W%R (9): -38.6, W%R (28): -18.2, K: 64.4, D: 68.2
2026-01-22 11:09:00,901 - async_event_handlers - INFO - [TIMING] New candle completed at 11:08:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:09:00.901 for sentiment: BEARISH
2026-01-22 11:09:00,901 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:09:00,902 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=113)
2026-01-22 11:09:00,904 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25200CE during slab change: W%R(9) crossed above threshold comparing prev=10:58:00 -> current=11:08:00, W%R(9) -100.00 -> -62.61, W%R(28) -100.00 -> -84.44
2026-01-22 11:09:00,904 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 5 (trigger detected during slab change)
2026-01-22 11:09:00,931 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE close mismatch at 11:08:00: current=169.90, kite=169.50, diff=0.40
2026-01-22 11:09:00,931 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25200CE OHLC validation FAILED at 11:08:00: 1 differences found
2026-01-22 11:09:00,932 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25200CE at 11:08:00 - trigger detected but data may be corrupted
2026-01-22 11:09:00,932 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:07:00 -> current=11:08:00, expected_timestamp=11:08:00, df_length=113, W%R(9) prev=-91.03 current=-62.61, W%R(28) prev=-95.04 current=-84.44
2026-01-22 11:09:00,932 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-91.03, current=-62.61, threshold=-79, W%R(28) prev=-95.04, current=-84.44, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:09:00,932 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25200CE (flexible mode) - K=34.27 > D=29.53 and K > 20
2026-01-22 11:09:00,934 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=113)
2026-01-22 11:09:00,935 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:07:00 -> current=11:08:00, expected_timestamp=11:08:00, df_length=113, W%R(9) prev=-7.26 current=-38.57, W%R(28) prev=-4.67 current=-18.16
2026-01-22 11:09:00,935 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-7.26, current=-38.57, threshold=-79, W%R(28) prev=-4.67, current=-18.16, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:10:00,542 - root - INFO - ================================================
2026-01-22 11:10:00,809 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:10:00.809 - Latest candle: 11:09:00, DataFrame length: 114
2026-01-22 11:10:00,814 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:09:00, O: 142.9, H: 143.8, L: 138.7, C: 139.9, ST: Bull (132.82), W%R (9): -55.2, W%R (28): -26.0, K: 43.1, D: 60.9
2026-01-22 11:10:01,079 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:10:01.079 - Latest candle: 11:09:00, DataFrame length: 114
2026-01-22 11:10:01,085 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:09:00, O: 171.0, H: 173.6, L: 169.6, C: 173.1, ST: Bear (182.93), W%R (9): -48.2, W%R (28): -78.4, K: 56.0, D: 37.6
2026-01-22 11:10:01,089 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:09:00] Market Sentiment: BEARISH | OHLC: O=25218.65 H=25225.35 L=25218.20 C=25224.60
2026-01-22 11:10:01,090 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:09:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:10:01.089 for sentiment: BEARISH
2026-01-22 11:10:01,131 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:10:01,134 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=114)
2026-01-22 11:10:01,135 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25200CE during slab change: W%R(9) crossed above threshold comparing prev=10:58:00 -> current=11:09:00, W%R(9) -100.00 -> -48.20, W%R(28) -100.00 -> -78.44
2026-01-22 11:10:01,135 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 6 (trigger detected during slab change)
2026-01-22 11:10:01,155 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE close mismatch at 11:09:00: current=173.10, kite=173.00, diff=0.10
2026-01-22 11:10:01,155 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25200CE OHLC validation FAILED at 11:09:00: 1 differences found
2026-01-22 11:10:01,155 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25200CE at 11:09:00 - trigger detected but data may be corrupted
2026-01-22 11:10:01,155 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:08:00 -> current=11:09:00, expected_timestamp=11:09:00, df_length=114, W%R(9) prev=-62.61 current=-48.20, W%R(28) prev=-84.44 current=-78.44
2026-01-22 11:10:01,155 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-62.61, current=-48.20, threshold=-79, W%R(28) prev=-84.44, current=-78.44, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:10:01,155 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25200CE (flexible mode) - K=55.97 > D=37.64 and K > 20
2026-01-22 11:10:01,157 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=114)
2026-01-22 11:10:01,158 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:08:00 -> current=11:09:00, expected_timestamp=11:09:00, df_length=114, W%R(9) prev=-38.57 current=-55.23, W%R(28) prev=-18.16 current=-26.00
2026-01-22 11:10:01,158 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-38.57, current=-55.23, threshold=-79, W%R(28) prev=-18.16, current=-26.00, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:11:00,292 - root - INFO - ================================================
2026-01-22 11:11:00,310 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:11:00.310 - Latest candle: 11:10:00, DataFrame length: 115
2026-01-22 11:11:00,314 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:10:00, O: 139.9, H: 141.2, L: 135.2, C: 135.4, ST: Bull (132.82), W%R (9): -72.9, W%R (28): -34.4, K: 14.9, D: 40.8
2026-01-22 11:11:01,059 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:11:01.059 - Latest candle: 11:10:00, DataFrame length: 115
2026-01-22 11:11:01,063 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:10:00, O: 173.2, H: 176.4, L: 171.5, C: 176.0, ST: Bear (182.93), W%R (9): -35.1, W%R (28): -73.0, K: 85.0, D: 58.4
2026-01-22 11:11:01,065 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:10:00] Market Sentiment: NEUTRAL | OHLC: O=25224.60 H=25234.70 L=25224.50 C=25234.60
2026-01-22 11:11:01,066 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 11:11:01,067 - async_live_ticker_handler - INFO - [11:10:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 11:11:01,067 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:10:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:11:01.067 for sentiment: NEUTRAL
2026-01-22 11:11:01,068 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:11:01,070 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25200CE during slab change: both W%R(9) and W%R(28) crossed above threshold comparing prev=10:58:00 -> current=11:10:00, W%R(9) -100.00 -> -35.14, W%R(28) -100.00 -> -73.01
2026-01-22 11:11:01,070 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 7 (trigger detected during slab change)
2026-01-22 11:11:01,070 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: W%R(28) confirmation already met for NIFTY26JAN25200CE during slab change trigger
2026-01-22 11:11:01,100 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE close mismatch at 11:10:00: current=176.00, kite=176.30, diff=0.30
2026-01-22 11:11:01,100 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25200CE OHLC validation FAILED at 11:10:00: 1 differences found
2026-01-22 11:11:01,100 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25200CE at 11:10:00 - trigger detected but data may be corrupted
2026-01-22 11:11:01,100 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:09:00 -> current=11:10:00, expected_timestamp=11:10:00, df_length=115, W%R(9) prev=-48.20 current=-35.14, W%R(28) prev=-78.44 current=-73.01
2026-01-22 11:11:01,100 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-48.20, current=-35.14, threshold=-79, W%R(28) prev=-78.44, current=-73.01, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 11:11:01,101 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25200CE (flexible mode) - K=85.05 > D=58.43 and K > 20
2026-01-22 11:11:01,101 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25200CE - All confirmations received! - Current NIFTY=25234.45
2026-01-22 11:11:01,101 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25200CE
2026-01-22 11:11:01,103 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:09:00 -> current=11:10:00, expected_timestamp=11:10:00, df_length=115, W%R(9) prev=-55.23 current=-72.87, W%R(28) prev=-26.00 current=-34.43
2026-01-22 11:11:01,103 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-55.23, current=-72.87, threshold=-79, W%R(28) prev=-26.00, current=-34.43, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:11:01,103 - entry_conditions - INFO - NEUTRAL mode: Only CE entry condition True met. Placing CE trade for NIFTY26JAN25200CE.
2026-01-22 11:11:01,104 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25200CE (CE) ===
2026-01-22 11:11:01,104 - trailing_max_drawdown_manager - WARNING - Trailing stop triggered: Capital 17,241.76 < Drawdown Limit 17,500.00 (HWM: 25,000.00)
2026-01-22 11:11:01,104 - strategy_executor - WARNING - Trade entry blocked by trailing max drawdown: Trading stopped: Capital 17,241.76 < Drawdown Limit 17,500.00 (HWM: 25,000.00)
2026-01-22 11:11:01,104 - entry_conditions - INFO - Trade execution result for NIFTY26JAN25200CE: False
2026-01-22 11:11:01,104 - entry_conditions - WARNING - Trade execution failed, not resetting crossover indices
2026-01-22 11:12:00,542 - root - INFO - ================================================
2026-01-22 11:12:00,559 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:12:00.559 - Latest candle: 11:11:00, DataFrame length: 116
2026-01-22 11:12:00,563 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:11:00, O: 175.8, H: 176.0, L: 167.4, C: 167.8, ST: Bear (182.93), W%R (9): -72.3, W%R (28): -88.5, K: 85.0, D: 75.3
2026-01-22 11:12:00,579 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:12:00.579 - Latest candle: 11:11:00, DataFrame length: 116
2026-01-22 11:12:00,584 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:11:00, O: 134.7, H: 147.3, L: 134.7, C: 146.6, ST: Bull (132.82), W%R (9): -29.5, W%R (28): -13.9, K: 14.4, D: 24.1
2026-01-22 11:12:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:11:00] Market Sentiment: NEUTRAL | OHLC: O=25234.45 H=25234.95 L=25217.75 C=25219.95
2026-01-22 11:12:00,794 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:11:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:12:00.794 for sentiment: NEUTRAL
2026-01-22 11:12:00,838 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:12:00,840 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25200CE during slab change: W%R(9) crossed above threshold comparing prev=10:58:00 -> current=11:11:00, W%R(9) -100.00 -> -72.30, W%R(28) -100.00 -> -88.47
2026-01-22 11:12:00,840 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 8 (trigger detected during slab change)
2026-01-22 11:12:00,861 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE open mismatch at 11:11:00: current=175.85, kite=176.00, diff=0.15
2026-01-22 11:12:00,861 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE close mismatch at 11:11:00: current=167.75, kite=169.25, diff=1.50
2026-01-22 11:12:00,862 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25200CE OHLC validation FAILED at 11:11:00: 2 differences found
2026-01-22 11:12:00,862 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25200CE at 11:11:00 - trigger detected but data may be corrupted
2026-01-22 11:12:00,862 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:10:00 -> current=11:11:00, expected_timestamp=11:11:00, df_length=116, W%R(9) prev=-35.14 current=-72.30, W%R(28) prev=-73.01 current=-88.47
2026-01-22 11:12:00,862 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-35.14, current=-72.30, threshold=-79, W%R(28) prev=-73.01, current=-88.47, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 11:12:00,863 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25200CE (flexible mode) - K=84.97 > D=75.33 and K > 20
2026-01-22 11:12:00,864 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:10:00 -> current=11:11:00, expected_timestamp=11:11:00, df_length=116, W%R(9) prev=-72.87 current=-29.46, W%R(28) prev=-34.43 current=-13.92
2026-01-22 11:12:00,864 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-72.87, current=-29.46, threshold=-79, W%R(28) prev=-34.43, current=-13.92, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:13:00,542 - root - INFO - ================================================
2026-01-22 11:13:00,809 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:13:00.809 - Latest candle: 11:12:00, DataFrame length: 117
2026-01-22 11:13:00,814 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:12:00, O: 167.9, H: 168.3, L: 158.8, C: 159.5, ST: Bear (179.33), W%R (9): -96.7, W%R (28): -98.7, K: 65.8, D: 78.6
2026-01-22 11:13:00,830 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:13:00.830 - Latest candle: 11:12:00, DataFrame length: 117
2026-01-22 11:13:00,834 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:12:00, O: 146.3, H: 158.8, L: 146.3, C: 158.8, ST: Bull (134.75), W%R (9): -0.4, W%R (28): -0.2, K: 31.7, D: 20.3
2026-01-22 11:13:01,043 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:12:00] Market Sentiment: BEARISH | OHLC: O=25220.70 H=25220.80 L=25204.65 C=25205.45
2026-01-22 11:13:01,043 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 11:13:01,044 - async_live_ticker_handler - INFO - [11:12:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 11:13:01,044 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:12:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:13:01.044 for sentiment: BEARISH
2026-01-22 11:13:01,045 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:13:01,047 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=117)
2026-01-22 11:13:01,048 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:11:00 -> current=11:12:00, expected_timestamp=11:12:00, df_length=117, W%R(9) prev=-72.30 current=-96.66, W%R(28) prev=-88.47 current=-98.74
2026-01-22 11:13:01,048 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-72.30, current=-96.66, threshold=-79, W%R(28) prev=-88.47, current=-98.74, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:13:01,050 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=117)
2026-01-22 11:14:00,542 - root - INFO - ================================================
2026-01-22 11:14:00,580 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:14:00.579 - Latest candle: 11:13:00, DataFrame length: 118
2026-01-22 11:14:00,584 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:13:00, O: 160.2, H: 164.1, L: 158.6, C: 162.5, ST: Bear (176.62), W%R (9): -77.9, W%R (28): -92.9, K: 51.0, D: 67.2
2026-01-22 11:14:00,600 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:14:00.600 - Latest candle: 11:13:00, DataFrame length: 118
2026-01-22 11:14:00,605 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:13:00, O: 157.0, H: 157.5, L: 150.6, C: 153.7, ST: Bull (136.38), W%R (9): -21.5, W%R (28): -8.8, K: 44.6, D: 30.2
2026-01-22 11:14:00,816 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:13:00] Market Sentiment: BEARISH | OHLC: O=25204.70 H=25209.05 L=25202.45 C=25206.35
2026-01-22 11:14:00,817 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:13:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:14:00.817 for sentiment: BEARISH
2026-01-22 11:14:00,858 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:14:00,861 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=118)
2026-01-22 11:14:00,862 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25200CE during slab change: W%R(9) crossed above threshold comparing prev=10:58:00 -> current=11:13:00, W%R(9) -100.00 -> -77.93, W%R(28) -100.00 -> -92.91
2026-01-22 11:14:00,862 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 10 (trigger detected during slab change)
2026-01-22 11:14:00,887 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE high mismatch at 11:13:00: current=164.10, kite=164.20, diff=0.10
2026-01-22 11:14:00,887 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE close mismatch at 11:13:00: current=162.50, kite=162.45, diff=0.05
2026-01-22 11:14:00,887 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25200CE OHLC validation FAILED at 11:13:00: 2 differences found
2026-01-22 11:14:00,887 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25200CE at 11:13:00 - trigger detected but data may be corrupted
2026-01-22 11:14:00,888 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:12:00 -> current=11:13:00, expected_timestamp=11:13:00, df_length=118, W%R(9) prev=-96.66 current=-77.93, W%R(28) prev=-98.74 current=-92.91
2026-01-22 11:14:00,888 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-96.66, current=-77.93, threshold=-79, W%R(28) prev=-98.74, current=-92.91, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:14:00,889 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=118)
2026-01-22 11:14:00,891 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:12:00 -> current=11:13:00, expected_timestamp=11:13:00, df_length=118, W%R(9) prev=-0.38 current=-21.49, W%R(28) prev=-0.17 current=-8.78
2026-01-22 11:14:00,891 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-0.38, current=-21.49, threshold=-79, W%R(28) prev=-0.17, current=-8.78, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:15:00,542 - root - INFO - ================================================
2026-01-22 11:15:00,580 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:15:00.580 - Latest candle: 11:14:00, DataFrame length: 119
2026-01-22 11:15:00,585 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:14:00, O: 153.2, H: 155.0, L: 144.8, C: 146.3, ST: Bull (136.38), W%R (9): -51.6, W%R (28): -22.1, K: 36.3, D: 37.5
2026-01-22 11:15:00,809 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:15:00.809 - Latest candle: 11:14:00, DataFrame length: 119
2026-01-22 11:15:00,814 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:14:00, O: 162.2, H: 171.3, L: 161.2, C: 170.2, ST: Bear (176.62), W%R (9): -34.9, W%R (28): -77.8, K: 63.0, D: 59.9
2026-01-22 11:15:00,816 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:14:00] Market Sentiment: BEARISH | OHLC: O=25205.85 H=25216.70 L=25204.35 C=25215.75
2026-01-22 11:15:00,817 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:14:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:15:00.817 for sentiment: BEARISH
2026-01-22 11:15:00,818 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:15:00,819 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=119)
2026-01-22 11:15:00,820 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25200CE during slab change: W%R(9) crossed above threshold comparing prev=10:58:00 -> current=11:14:00, W%R(9) -100.00 -> -34.92, W%R(28) -100.00 -> -77.79
2026-01-22 11:15:00,821 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 11 (trigger detected during slab change)
2026-01-22 11:15:00,844 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE open mismatch at 11:14:00: current=162.25, kite=162.55, diff=0.30
2026-01-22 11:15:00,845 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE high mismatch at 11:14:00: current=171.35, kite=171.40, diff=0.05
2026-01-22 11:15:00,845 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE close mismatch at 11:14:00: current=170.20, kite=170.85, diff=0.65
2026-01-22 11:15:00,845 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25200CE OHLC validation FAILED at 11:14:00: 3 differences found
2026-01-22 11:15:00,845 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25200CE at 11:14:00 - trigger detected but data may be corrupted
2026-01-22 11:15:00,846 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:13:00 -> current=11:14:00, expected_timestamp=11:14:00, df_length=119, W%R(9) prev=-77.93 current=-34.92, W%R(28) prev=-92.91 current=-77.79
2026-01-22 11:15:00,846 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-77.93, current=-34.92, threshold=-79, W%R(28) prev=-92.91, current=-77.79, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:15:00,846 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25200CE (flexible mode) - K=63.05 > D=59.93 and K > 20
2026-01-22 11:15:00,848 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=119)
2026-01-22 11:15:00,849 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:13:00 -> current=11:14:00, expected_timestamp=11:14:00, df_length=119, W%R(9) prev=-21.49 current=-51.65, W%R(28) prev=-8.78 current=-22.07
2026-01-22 11:15:00,849 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-21.49, current=-51.65, threshold=-79, W%R(28) prev=-8.78, current=-22.07, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:16:00,543 - root - INFO - ================================================
2026-01-22 11:16:00,580 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:16:00.580 - Latest candle: 11:15:00, DataFrame length: 120
2026-01-22 11:16:00,584 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:15:00, O: 145.8, H: 145.8, L: 136.8, C: 140.4, ST: Bull (136.38), W%R (9): -76.2, W%R (28): -33.3, K: 15.8, D: 32.2
2026-01-22 11:16:00,870 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:16:00.870 - Latest candle: 11:15:00, DataFrame length: 120
2026-01-22 11:16:00,874 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:15:00, O: 171.1, H: 178.7, L: 171.1, C: 175.4, ST: Bear (176.62), W%R (9): -15.9, W%R (28): -66.5, K: 85.2, D: 66.4
2026-01-22 11:16:00,877 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:15:00] Market Sentiment: BEARISH | OHLC: O=25215.95 H=25232.40 L=25215.95 C=25230.30
2026-01-22 11:16:00,882 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:15:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:16:00.882 for sentiment: BEARISH
2026-01-22 11:16:00,883 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:16:00,884 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=120)
2026-01-22 11:16:00,885 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25200CE during slab change: both W%R(9) and W%R(28) crossed above threshold comparing prev=10:58:00 -> current=11:15:00, W%R(9) -100.00 -> -15.92, W%R(28) -100.00 -> -66.47
2026-01-22 11:16:00,886 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 12 (trigger detected during slab change)
2026-01-22 11:16:00,886 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: W%R(28) confirmation already met for NIFTY26JAN25200CE during slab change trigger
2026-01-22 11:16:00,909 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE close mismatch at 11:15:00: current=175.45, kite=178.00, diff=2.55
2026-01-22 11:16:00,909 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25200CE OHLC validation FAILED at 11:15:00: 1 differences found
2026-01-22 11:16:00,909 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25200CE at 11:15:00 - trigger detected but data may be corrupted
2026-01-22 11:16:00,910 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:14:00 -> current=11:15:00, expected_timestamp=11:15:00, df_length=120, W%R(9) prev=-34.92 current=-15.92, W%R(28) prev=-77.79 current=-66.47
2026-01-22 11:16:00,910 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-34.92, current=-15.92, threshold=-79, W%R(28) prev=-77.79, current=-66.47, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 11:16:00,910 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25200CE (flexible mode) - K=85.17 > D=66.39 and K > 20
2026-01-22 11:16:00,910 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25200CE - All confirmations received! - Current NIFTY=25229.70
2026-01-22 11:16:00,911 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25200CE
2026-01-22 11:16:00,912 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=120)
2026-01-22 11:16:00,913 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:14:00 -> current=11:15:00, expected_timestamp=11:15:00, df_length=120, W%R(9) prev=-51.65 current=-76.24, W%R(28) prev=-22.07 current=-33.33
2026-01-22 11:16:00,913 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-51.65, current=-76.24, threshold=-79, W%R(28) prev=-22.07, current=-33.33, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:16:00,914 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BEARISH sentiment: CE entry condition 2 met. Placing CE trade for NIFTY26JAN25200CE (sentiment filter bypassed).
2026-01-22 11:16:00,914 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25200CE (CE) ===
2026-01-22 11:16:00,915 - trailing_max_drawdown_manager - WARNING - Trailing stop triggered: Capital 17,241.76 < Drawdown Limit 17,500.00 (HWM: 25,000.00)
2026-01-22 11:16:00,915 - strategy_executor - WARNING - Trade entry blocked by trailing max drawdown: Trading stopped: Capital 17,241.76 < Drawdown Limit 17,500.00 (HWM: 25,000.00)
2026-01-22 11:16:00,915 - entry_conditions - WARNING - [X] Trade execution failed for NIFTY26JAN25200CE
2026-01-22 11:17:00,293 - root - INFO - ================================================
2026-01-22 11:17:00,310 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:17:00.310 - Latest candle: 11:16:00, DataFrame length: 121
2026-01-22 11:17:00,315 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:16:00, O: 175.7, H: 176.8, L: 169.4, C: 172.7, ST: Bear (176.62), W%R (9): -29.9, W%R (28): -72.0, K: 96.5, D: 81.6
2026-01-22 11:17:00,559 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:17:00.559 - Latest candle: 11:16:00, DataFrame length: 121
2026-01-22 11:17:00,564 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:16:00, O: 140.1, H: 148.0, L: 138.9, C: 143.5, ST: Bull (136.38), W%R (9): -63.4, W%R (28): -27.7, K: 6.0, D: 19.4
2026-01-22 11:17:00,816 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:16:00] Market Sentiment: BEARISH | OHLC: O=25229.70 H=25230.00 L=25217.65 C=25223.35
2026-01-22 11:17:00,816 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:16:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:17:00.816 for sentiment: BEARISH
2026-01-22 11:17:00,838 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:17:00,840 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=121)
2026-01-22 11:17:00,841 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25200CE during slab change: both W%R(9) and W%R(28) crossed above threshold comparing prev=10:58:00 -> current=11:16:00, W%R(9) -100.00 -> -29.85, W%R(28) -100.00 -> -72.02
2026-01-22 11:17:00,841 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 13 (trigger detected during slab change)
2026-01-22 11:17:00,841 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: W%R(28) confirmation already met for NIFTY26JAN25200CE during slab change trigger
2026-01-22 11:17:00,862 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE open mismatch at 11:16:00: current=175.65, kite=175.50, diff=0.15
2026-01-22 11:17:00,863 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE low mismatch at 11:16:00: current=169.45, kite=169.30, diff=0.15
2026-01-22 11:17:00,863 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE close mismatch at 11:16:00: current=172.65, kite=173.75, diff=1.10
2026-01-22 11:17:00,863 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25200CE OHLC validation FAILED at 11:16:00: 3 differences found
2026-01-22 11:17:00,863 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25200CE at 11:16:00 - trigger detected but data may be corrupted
2026-01-22 11:17:00,863 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:15:00 -> current=11:16:00, expected_timestamp=11:16:00, df_length=121, W%R(9) prev=-15.92 current=-29.85, W%R(28) prev=-66.47 current=-72.02
2026-01-22 11:17:00,864 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-15.92, current=-29.85, threshold=-79, W%R(28) prev=-66.47, current=-72.02, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:17:00,864 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25200CE (flexible mode) - K=96.48 > D=81.57 and K > 20
2026-01-22 11:17:00,864 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25200CE - All confirmations received! - Current NIFTY=25222.00
2026-01-22 11:17:00,864 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25200CE
2026-01-22 11:17:00,866 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=121)
2026-01-22 11:17:00,867 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:15:00 -> current=11:16:00, expected_timestamp=11:16:00, df_length=121, W%R(9) prev=-76.24 current=-63.43, W%R(28) prev=-33.33 current=-27.73
2026-01-22 11:17:00,867 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-76.24, current=-63.43, threshold=-79, W%R(28) prev=-33.33, current=-27.73, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:17:00,867 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BEARISH sentiment: CE entry condition 2 met. Placing CE trade for NIFTY26JAN25200CE (sentiment filter bypassed).
2026-01-22 11:17:00,868 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25200CE (CE) ===
2026-01-22 11:17:00,868 - trailing_max_drawdown_manager - WARNING - Trailing stop triggered: Capital 17,241.76 < Drawdown Limit 17,500.00 (HWM: 25,000.00)
2026-01-22 11:17:00,869 - strategy_executor - WARNING - Trade entry blocked by trailing max drawdown: Trading stopped: Capital 17,241.76 < Drawdown Limit 17,500.00 (HWM: 25,000.00)
2026-01-22 11:17:00,869 - entry_conditions - WARNING - [X] Trade execution failed for NIFTY26JAN25200CE
2026-01-22 11:18:00,542 - root - INFO - ================================================
2026-01-22 11:18:00,559 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:18:00.559 - Latest candle: 11:17:00, DataFrame length: 122
2026-01-22 11:18:00,564 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:17:00, O: 172.8, H: 173.7, L: 168.3, C: 168.4, ST: Bear (176.62), W%R (9): -51.0, W%R (28): -79.2, K: 87.8, D: 89.8
2026-01-22 11:18:00,830 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:18:00.830 - Latest candle: 11:17:00, DataFrame length: 122
2026-01-22 11:18:00,928 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:17:00, O: 144.2, H: 148.9, L: 143.2, C: 148.4, ST: Bull (136.38), W%R (9): -43.0, W%R (28): -19.5, K: 10.7, D: 10.8
2026-01-22 11:18:00,932 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:17:00] Market Sentiment: BEARISH | OHLC: O=25222.00 H=25224.05 L=25216.00 C=25217.55
2026-01-22 11:18:00,933 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:17:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:18:00.933 for sentiment: BEARISH
2026-01-22 11:18:00,955 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:18:00,958 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=122)
2026-01-22 11:18:00,959 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25200CE during slab change: W%R(9) crossed above threshold comparing prev=10:58:00 -> current=11:17:00, W%R(9) -100.00 -> -51.00, W%R(28) -100.00 -> -79.20
2026-01-22 11:18:00,959 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 14 (trigger detected during slab change)
2026-01-22 11:18:00,981 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25200CE close mismatch at 11:17:00: current=168.40, kite=169.25, diff=0.85
2026-01-22 11:18:00,981 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25200CE OHLC validation FAILED at 11:17:00: 1 differences found
2026-01-22 11:18:00,981 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25200CE at 11:17:00 - trigger detected but data may be corrupted
2026-01-22 11:18:00,981 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:16:00 -> current=11:17:00, expected_timestamp=11:17:00, df_length=122, W%R(9) prev=-29.85 current=-51.00, W%R(28) prev=-72.02 current=-79.20
2026-01-22 11:18:00,981 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-29.85, current=-51.00, threshold=-79, W%R(28) prev=-72.02, current=-79.20, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 11:18:00,983 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=122)
2026-01-22 11:18:00,984 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:16:00 -> current=11:17:00, expected_timestamp=11:17:00, df_length=122, W%R(9) prev=-63.43 current=-42.98, W%R(28) prev=-27.73 current=-19.49
2026-01-22 11:18:00,984 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-63.43, current=-42.98, threshold=-79, W%R(28) prev=-27.73, current=-19.49, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:18:46,422 - __main__ - INFO - Received exit signal SIGTERM...
2026-01-22 11:18:46,422 - __main__ - INFO - Stopping bot components...
2026-01-22 11:18:46,422 - __main__ - INFO - [STOP] Stopping Async Trading Bot...
2026-01-22 11:18:46,422 - __main__ - INFO - GTT status check task cancelled
2026-01-22 11:18:46,422 - realtime_position_manager - INFO - [STOP] RealTimePositionManager stopped
2026-01-22 11:18:46,422 - __main__ - INFO - Position manager stopped
2026-01-22 11:18:46,422 - async_live_ticker_handler - INFO - Stopping async WebSocket listener...
2026-01-22 11:18:46,422 - async_live_ticker_handler - INFO - Async WebSocket stopped.
2026-01-22 11:18:46,423 - async_api_server - INFO - Async API server stopped
2026-01-22 11:18:46,423 - __main__ - INFO - [OK] Async Trading Bot stopped
2026-01-22 11:18:46,423 - __main__ - INFO - Bot components stopped successfully
2026-01-22 11:18:46,423 - __main__ - INFO - Cancelling 3 outstanding tasks...
2026-01-22 11:18:46,423 - __main__ - INFO - Main event loop cancelled
2026-01-22 11:18:46,423 - __main__ - INFO - [RISK] Risk watchdog loop cancelled
2026-01-22 11:18:46,423 - __main__ - INFO - [RISK] Drawdown watchdog loop cancelled
2026-01-22 11:18:46,423 - __main__ - INFO - Cleaning up event loop...
2026-01-22 11:18:46,424 - __main__ - INFO - Cancelling 1 remaining tasks during final cleanup...
2026-01-22 11:18:46,424 - __main__ - INFO - Shutting down async generators...
2026-01-22 11:18:46,424 - __main__ - INFO - Closing event loop...
2026-01-22 11:18:46,424 - __main__ - INFO - Event loop closed
2026-01-22 11:18:46,425 - __main__ - INFO - Shutdown complete, exiting process

================================================================================
NEW SESSION STARTED: 2026-01-22 11:18:50
================================================================================

2026-01-22 11:18:50,310 - __main__ - INFO - ================================================================================
2026-01-22 11:18:50,311 - __main__ - INFO - PRODUCTION LOGGING STARTED - Logs will be appended to: output/production_logs.txt
2026-01-22 11:18:50,311 - __main__ - INFO - DAILY TERMINAL LOG STARTED - Logs will be appended to: logs/dynamic_atm_strike_jan22.log (auto-truncated per day)
2026-01-22 11:18:50,311 - __main__ - INFO - Session started at: 2026-01-22 11:18:50
2026-01-22 11:18:50,311 - __main__ - INFO - ================================================================================
2026-01-22 11:18:50,312 - __main__ - INFO - [START] Initializing Async Trading Bot...
2026-01-22 11:18:50,326 - __main__ - INFO - Configuration loaded from config.yaml
2026-01-22 11:18:50,326 - __main__ - INFO - Dynamic ATM enabled: True
2026-01-22 11:18:50,326 - __main__ - INFO - Automated market sentiment enabled: True
2026-01-22 11:18:50,326 - __main__ - INFO - Trading symbols loaded: ['underlying_symbol', 'underlying_token', 'atm_strike', 'ce_symbol', 'ce_token', 'pe_symbol', 'pe_token']
2026-01-22 11:18:50,326 - root - INFO - Attempting to get a valid Kite API session...
2026-01-22 11:18:50,360 - root - INFO - Successfully obtained a valid Kite API session.
2026-01-22 11:18:50,360 - __main__ - INFO - Kite API initialized
2026-01-22 11:18:50,362 - __main__ - INFO - Trade ledger initialized
2026-01-22 11:18:50,362 - trailing_max_drawdown_manager - INFO - Trailing Max Drawdown Manager initialized: Capital=25,000.00, Loss Mark=30.0%
2026-01-22 11:18:50,362 - __main__ - INFO - Trailing max drawdown manager initialized
2026-01-22 11:18:50,362 - trade_state_manager - INFO - Trade state loaded successfully.
2026-01-22 11:18:50,399 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 11:18:50,400 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 11:18:50,400 - __main__ - INFO - State manager initialized
2026-01-22 11:18:50,400 - __main__ - INFO - Indicator manager initialized
2026-01-22 11:18:50,400 - async_api_server - INFO - Initialized config with 18 settings
2026-01-22 11:18:50,400 - async_api_server - INFO - Initialized config with 1 settings
2026-01-22 11:18:50,400 - __main__ - INFO - API server initialized
2026-01-22 11:18:50,401 - async_api_server - INFO - [OK] Async API server started on localhost:5000
2026-01-22 11:18:50,401 - event_system - WARNING - [WARN] Event dispatcher not running! Event system_startup may be lost.
2026-01-22 11:18:50,401 - __main__ - INFO - [API] API server started early - control panel can connect now
2026-01-22 11:18:50,403 - realtime_position_manager - INFO - RealTimePositionManager initialized: check_interval=1.0s, gap_threshold=2.0%
2026-01-22 11:18:50,403 - immediate_exit_executor - INFO - ImmediateExitExecutor initialized: max_retries=3, validation_enabled=True
2026-01-22 11:18:50,404 - async_event_handlers - INFO - [OK] Real-time position management enabled
2026-01-22 11:18:50,404 - __main__ - INFO - Event handlers initialized
2026-01-22 11:18:50,404 - event_system - INFO - [OK] Event dispatcher started and processing events
2026-01-22 11:18:50,404 - __main__ - INFO - [EVENT] Event dispatcher started early - commands can be processed now
2026-01-22 11:18:50,404 - root - INFO - Current time: 11:18:50, Market open time: 09:15:00, Is after market open: True
2026-01-22 11:18:50,404 - __main__ - INFO - [CLOCK] Market is already open. Using historical API to get opening price...
2026-01-22 11:18:50,404 - root - INFO - Attempt 1/3: Fetching NIFTY opening price...
2026-01-22 11:18:50,430 - root - INFO - [OK] Retrieved NIFTY 50 opening price from daily historical data: 25344.15
2026-01-22 11:18:50,430 - __main__ - INFO - [CHART] Processing NIFTY opening price: 25344.15
2026-01-22 11:18:50,430 - root - INFO - NIFTY Price: 25344.15, CE ATM Strike: 25300 (FLOOR), PE ATM Strike: 25350 (CEIL)
2026-01-22 11:18:50,430 - root - INFO - Expiry calculation: Next expiry (2026-01-27) corresponds to the last Tuesday of the month (2026-01-27). Using monthly expiry format.
2026-01-22 11:18:50,430 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 11:18:50,431 - root - INFO - Generated symbols: CE=NIFTY26JAN25300CE, PE=NIFTY26JAN25350PE
2026-01-22 11:18:53,916 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 11:18:53,916 - root - INFO - CE: NIFTY26JAN25300CE (Token: 15025922)
2026-01-22 11:18:53,916 - root - INFO - PE: NIFTY26JAN25350PE (Token: 15028226)
2026-01-22 11:18:53,916 - __main__ - INFO - [OK] Successfully derived and updated PE & CE strikes
2026-01-22 11:18:53,916 - __main__ - INFO - CE: NIFTY26JAN25300CE (Strike: 25300)
2026-01-22 11:18:53,916 - __main__ - INFO - PE: NIFTY26JAN25350PE (Strike: 25350)
2026-01-22 11:18:53,916 - __main__ - INFO - [OK] Keeping NIFTY 50 subscribed for automated sentiment processing
2026-01-22 11:18:53,916 - entry_conditions - INFO - [CONFIG DEBUG] EntryConditionManager initialized. TRADE_SETTINGS keys: ['QUANTITY', 'CAPITAL', 'PRODUCT', 'VALIDATE_ENTRY_RISK', 'REVERSAL_MAX_SWING_LOW_DISTANCE_PERCENT', 'CONTINUATION_MAX_SUPERTREND_DISTANCE_PERCENT', 'STOP_LOSS_PRICE_THRESHOLD', 'STOP_LOSS_PERCENT', 'TAKE_PROFIT_PERCENT', 'DYNAMIC_TRAILING_MA', 'DYNAMIC_TRAILING_MA_THRESH', 'CE_ENTRY_CONDITIONS', 'PE_ENTRY_CONDITIONS', 'WAIT_BARS_RSI', 'ENTRY2_CONFIRMATION_WINDOW', 'FLEXIBLE_STOCHRSI_CONFIRMATION', 'DEBUG_ENTRY2', 'SKIP_FIRST']
2026-01-22 11:18:53,920 - entry_conditions - INFO - Entry2 confirmation window: 4 candles
2026-01-22 11:18:53,920 - entry_conditions - INFO - Entry2 flexible StochRSI confirmation: True
2026-01-22 11:18:53,920 - entry_conditions - INFO - DEBUG_ENTRY2 is disabled - using production Entry2 with full requirements
2026-01-22 11:18:53,920 - entry_conditions - INFO - ✅ MARKET_SENTIMENT_FILTER is DISABLED - Both CE and PE trades can occur simultaneously regardless of sentiment
2026-01-22 11:18:53,920 - entry_conditions - INFO - Price zone filter enabled (DYNAMIC_ATM): Entry price must be between 20 and 250
2026-01-22 11:18:53,921 - entry_conditions - INFO - Time distribution filter ENABLED - Enabled zones: ['09:15-10:00', '10:00-11:00', '11:00-12:00', '13:00-14:00', '14:00-15:30']
2026-01-22 11:18:53,921 - entry_conditions - INFO - Time distribution filter - Disabled zones (no trade zones): ['12:00-13:00']
2026-01-22 11:18:53,921 - entry_conditions - INFO - SKIP_FIRST feature disabled
2026-01-22 11:18:53,921 - __main__ - INFO - Entry condition manager initialized
2026-01-22 11:18:53,921 - __main__ - INFO - [OK] Strikes derived. Subscribing to CE, PE, and NIFTY 50 tokens (Dynamic ATM, Automated Sentiment enabled).
2026-01-22 11:18:53,921 - __main__ - INFO - WebSocket handler initialized
2026-01-22 11:18:53,921 - __main__ - INFO - Strategy executor initialized
2026-01-22 11:18:53,921 - __main__ - INFO - Initializing Dynamic ATM Strike Manager...
2026-01-22 11:18:53,935 - root - INFO - Attempt 1/3: Fetching NIFTY opening price...
2026-01-22 11:18:53,956 - root - INFO - [OK] Retrieved NIFTY 50 opening price from daily historical data: 25344.15
2026-01-22 11:18:53,956 - root - INFO - NIFTY Price: 25344.15, CE ATM Strike: 25300 (FLOOR), PE ATM Strike: 25350 (CEIL)
2026-01-22 11:18:53,956 - __main__ - INFO - [OK] Dynamic ATM Manager initialized: CE=25300, PE=25350 (NIFTY=25344.15)
2026-01-22 11:18:53,956 - __main__ - INFO - Initializing Automated Market Sentiment Manager...
2026-01-22 11:18:53,957 - __main__ - INFO - Using Market Sentiment v2 (improved implementation)
2026-01-22 11:18:53,961 - market_sentiment_v2.realtime_sentiment_manager - INFO - RealTimeMarketSentimentManager (v2) initialized
2026-01-22 11:18:53,961 - __main__ - INFO - [OK] Automated Market Sentiment Manager (v2) initialized. Analyzer will initialize when first candle is processed (matches backtesting behavior). (config: market_sentiment_v2/config.yaml)
2026-01-22 11:18:53,961 - entry_conditions - INFO - [CONFIG DEBUG] EntryConditionManager initialized. TRADE_SETTINGS keys: ['QUANTITY', 'CAPITAL', 'PRODUCT', 'VALIDATE_ENTRY_RISK', 'REVERSAL_MAX_SWING_LOW_DISTANCE_PERCENT', 'CONTINUATION_MAX_SUPERTREND_DISTANCE_PERCENT', 'STOP_LOSS_PRICE_THRESHOLD', 'STOP_LOSS_PERCENT', 'TAKE_PROFIT_PERCENT', 'DYNAMIC_TRAILING_MA', 'DYNAMIC_TRAILING_MA_THRESH', 'CE_ENTRY_CONDITIONS', 'PE_ENTRY_CONDITIONS', 'WAIT_BARS_RSI', 'ENTRY2_CONFIRMATION_WINDOW', 'FLEXIBLE_STOCHRSI_CONFIRMATION', 'DEBUG_ENTRY2', 'SKIP_FIRST']
2026-01-22 11:18:53,964 - entry_conditions - INFO - Entry2 confirmation window: 4 candles
2026-01-22 11:18:53,965 - entry_conditions - INFO - Entry2 flexible StochRSI confirmation: True
2026-01-22 11:18:53,965 - entry_conditions - INFO - DEBUG_ENTRY2 is disabled - using production Entry2 with full requirements
2026-01-22 11:18:53,965 - entry_conditions - INFO - ✅ MARKET_SENTIMENT_FILTER is DISABLED - Both CE and PE trades can occur simultaneously regardless of sentiment
2026-01-22 11:18:53,965 - entry_conditions - INFO - Price zone filter enabled (DYNAMIC_ATM): Entry price must be between 20 and 250
2026-01-22 11:18:53,965 - entry_conditions - INFO - Time distribution filter ENABLED - Enabled zones: ['09:15-10:00', '10:00-11:00', '11:00-12:00', '13:00-14:00', '14:00-15:30']
2026-01-22 11:18:53,965 - entry_conditions - INFO - Time distribution filter - Disabled zones (no trade zones): ['12:00-13:00']
2026-01-22 11:18:53,965 - entry_conditions - INFO - SKIP_FIRST feature disabled
2026-01-22 11:18:53,965 - __main__ - INFO - Entry condition manager initialized
2026-01-22 11:18:53,965 - realtime_position_manager - INFO - [OK] RealTimePositionManager started (CANDLE_FORMED handler registered for MA trailing)
2026-01-22 11:18:53,965 - __main__ - INFO - [OK] Real-time position manager started
2026-01-22 11:18:53,965 - __main__ - INFO - Performing full reconciliation during initialization...
2026-01-22 11:18:54,005 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 11:18:54,005 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 11:18:54,005 - __main__ - INFO - Full reconciliation completed successfully
2026-01-22 11:18:54,005 - __main__ - INFO - Resetting crossover indices during initialization...
2026-01-22 11:18:54,005 - __main__ - INFO - Crossover indices reset successfully
2026-01-22 11:18:54,005 - __main__ - INFO - [RISK] Risk watchdog loop started
2026-01-22 11:18:54,005 - __main__ - INFO - [RISK] Live MARK2MARKET drawdown watchdog loop started
2026-01-22 11:18:54,005 - __main__ - INFO - [OK] Async Trading Bot initialized successfully
2026-01-22 11:18:54,006 - __main__ - INFO - [START] Starting Async Trading Bot...
2026-01-22 11:18:54,006 - __main__ - INFO - [VERIFY] Event dispatcher status. Running: True, Task: True
2026-01-22 11:18:54,006 - __main__ - INFO - Attempting WebSocket connection (attempt 1/3)...
2026-01-22 11:18:54,006 - async_live_ticker_handler - INFO - Starting async WebSocket listener...
2026-01-22 11:18:54,007 - async_live_ticker_handler - INFO - Async WebSocket is running in a background thread.
2026-01-22 11:18:54,007 - event_system - INFO - [START] Event processing loop started - ready to process events
2026-01-22 11:18:54,008 - __main__ - INFO - [RISK] Risk watchdog loop running
2026-01-22 11:18:54,008 - __main__ - INFO - [RISK] Live MARK2MARKET drawdown watchdog loop running
2026-01-22 11:18:54,022 - async_live_ticker_handler - INFO - Async WebSocket connected successfully. Subscribing to instrument tokens.
2026-01-22 11:18:54,022 - async_live_ticker_handler - INFO - Successfully subscribed to tokens: [15025922, 15028226, 256265]
2026-01-22 11:18:54,108 - async_live_ticker_handler - INFO - WebSocket connection established in 0.10 seconds
2026-01-22 11:18:54,109 - __main__ - INFO - WebSocket connection established successfully
2026-01-22 11:18:54,109 - __main__ - INFO - [CHART] Subscribed to CE, PE, and NIFTY 50 tokens (automated sentiment enabled)
2026-01-22 11:18:54,109 - async_live_ticker_handler - INFO - Prefilling historical data with hybrid approach...
2026-01-22 11:18:54,150 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY26JAN25300CE: 124 candles
2026-01-22 11:18:54,151 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY26JAN25300CE with 124 candles
2026-01-22 11:18:54,364 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY26JAN25300CE
2026-01-22 11:18:54,417 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY26JAN25350PE: 124 candles
2026-01-22 11:18:54,418 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY26JAN25350PE with 124 candles
2026-01-22 11:18:54,433 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY26JAN25350PE
2026-01-22 11:18:54,474 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY 50: 124 candles
2026-01-22 11:18:54,474 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY 50 with 124 candles
2026-01-22 11:18:54,489 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY 50
2026-01-22 11:18:54,494 - __main__ - INFO - GTT status check task started
2026-01-22 11:18:54,494 - __main__ - INFO - [OK] Entry conditions will be checked on new candle formation only
2026-01-22 11:18:54,494 - __main__ - INFO - [OK] Async Trading Bot started successfully
2026-01-22 11:18:54,494 - __main__ - INFO - Entering main event loop...
2026-01-22 11:18:54,495 - __main__ - INFO - Starting GTT status check task...
2026-01-22 11:19:00,792 - market_sentiment_v2.realtime_sentiment_manager - INFO - Fetched previous day OHLC from Kite API (date: 2026-01-21): High=25300.95, Low=24919.80, Close=25157.50
2026-01-22 11:19:00,792 - market_sentiment_v2.realtime_sentiment_manager - INFO - CPR Levels calculated for 2026-01-22:
2026-01-22 11:19:00,792 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R4: 25888.38
2026-01-22 11:19:00,792 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R3: 25713.52
2026-01-22 11:19:00,792 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R2: 25507.23
2026-01-22 11:19:00,792 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R1: 25332.37
2026-01-22 11:19:00,792 - market_sentiment_v2.realtime_sentiment_manager - INFO -   PIVOT: 25126.08
2026-01-22 11:19:00,792 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S1: 24951.22
2026-01-22 11:19:00,792 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S2: 24744.93
2026-01-22 11:19:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S3: 24570.07
2026-01-22 11:19:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S4: 24363.78
2026-01-22 11:19:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO - CPR Pivot Width (TC - BC) for 2026-01-22:
2026-01-22 11:19:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO -   TC (Top Central): 25141.79
2026-01-22 11:19:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO -   BC (Bottom Central): 25110.38
2026-01-22 11:19:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO -   CPR_PIVOT_WIDTH: 31.42
2026-01-22 11:19:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO -   Applied dynamic CPR_BAND_WIDTH: 10.00 (based on CPR_PIVOT_WIDTH: 31.42)
2026-01-22 11:19:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO - TradingSentimentAnalyzer (v2) initialized for real-time mode
2026-01-22 11:19:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO - [CATCH-UP] Starting mid-day at 11:18:00. Processing missed candles from 9:15 AM...
2026-01-22 11:19:00,845 - market_sentiment_v2.realtime_sentiment_manager - INFO - [CATCH-UP] Processed 123 missed candles. Current candle history: 123
2026-01-22 11:19:00,845 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:18:00] Market Sentiment: BEARISH | OHLC: O=25217.75 H=25218.05 L=25215.75 C=25218.05
2026-01-22 11:19:00,846 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:18:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:19:00.846 for sentiment: BEARISH
2026-01-22 11:19:00,846 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25217.40
2026-01-22 11:19:00,847 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 11:19:00,847 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 11:19:04,325 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 11:19:04,326 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 11:19:04,326 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 11:19:04,326 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25300CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25350PE -> NIFTY26JAN25250PE
2026-01-22 11:19:04,449 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 11:18:00: old_ce=NIFTY26JAN25300CE(15025922) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25350PE(15028226) -> new_pe=NIFTY26JAN25250PE
2026-01-22 11:19:04,449 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 11:19:04,450 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:19:04,454 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=123)
2026-01-22 11:19:04,456 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:16:00 -> current=11:17:00, expected_timestamp=11:17:00, df_length=123, W%R(9) prev=-29.06 current=-49.64, W%R(28) prev=-69.42 current=-76.44
2026-01-22 11:19:04,457 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping entry condition check - check already in progress for timestamp: 11:19:00
2026-01-22 11:19:04,458 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-29.06, current=-49.64, threshold=-79, W%R(28) prev=-69.42, current=-76.44, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:19:04,460 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=123)
2026-01-22 11:19:04,461 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:16:00 -> current=11:17:00, expected_timestamp=11:17:00, df_length=123, W%R(9) prev=-65.02 current=-45.45, W%R(28) prev=-30.21 current=-23.35
2026-01-22 11:19:04,461 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-65.02, current=-45.45, threshold=-79, W%R(28) prev=-30.21, current=-23.35, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:20:00,523 - root - INFO - ================================================
2026-01-22 11:20:00,773 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:19:00] Market Sentiment: BEARISH | OHLC: O=25217.35 H=25217.40 L=25211.25 C=25214.45
2026-01-22 11:20:00,774 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:19:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:20:00.774 for sentiment: BEARISH
2026-01-22 11:20:00,775 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:20:00,776 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=123)
2026-01-22 11:20:00,776 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:16:00 -> current=11:17:00, expected_timestamp=11:17:00, df_length=123, W%R(9) prev=-29.06 current=-49.64, W%R(28) prev=-69.42 current=-76.44
2026-01-22 11:20:00,777 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-29.06, current=-49.64, threshold=-79, W%R(28) prev=-69.42, current=-76.44, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:20:00,777 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=123)
2026-01-22 11:20:00,778 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:16:00 -> current=11:17:00, expected_timestamp=11:17:00, df_length=123, W%R(9) prev=-65.02 current=-45.45, W%R(28) prev=-30.21 current=-23.35
2026-01-22 11:20:00,778 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-65.02, current=-45.45, threshold=-79, W%R(28) prev=-30.21, current=-23.35, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:21:00,522 - root - INFO - ================================================
2026-01-22 11:21:00,789 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:21:00.788 - Latest candle: 11:20:00, DataFrame length: 125
2026-01-22 11:21:00,793 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:20:00, O: 166.8, H: 174.9, L: 166.3, C: 174.0, ST: Bear (177.01), W%R (9): -22.5, W%R (28): -62.4, K: 77.9, D: 79.3
2026-01-22 11:21:01,039 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:21:01.039 - Latest candle: 11:20:00, DataFrame length: 125
2026-01-22 11:21:01,044 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:20:00, O: 148.2, H: 149.6, L: 140.2, C: 140.2, ST: Bull (135.73), W%R (9): -78.3, W%R (28): -41.0, K: 17.4, D: 16.9
2026-01-22 11:21:01,045 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:20:00] Market Sentiment: BEARISH | OHLC: O=25215.10 H=25224.65 L=25212.40 C=25224.65
2026-01-22 11:21:01,046 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:20:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:21:01.046 for sentiment: BEARISH
2026-01-22 11:21:01,047 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:21:01,047 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=125)
2026-01-22 11:21:01,048 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:19:00 -> current=11:20:00, expected_timestamp=11:20:00, df_length=125, W%R(9) prev=-56.90 current=-22.52, W%R(28) prev=-79.84 current=-62.40
2026-01-22 11:21:01,049 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-56.90, current=-22.52, threshold=-79, W%R(28) prev=-79.84, current=-62.40, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 11:21:01,049 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=125)
2026-01-22 11:21:01,050 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:19:00 -> current=11:20:00, expected_timestamp=11:20:00, df_length=125, W%R(9) prev=-46.44 current=-78.26, W%R(28) prev=-23.93 current=-40.95
2026-01-22 11:21:01,050 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-46.44, current=-78.26, threshold=-79, W%R(28) prev=-23.93, current=-40.95, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:22:00,522 - root - INFO - ================================================
2026-01-22 11:22:00,560 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:22:00.560 - Latest candle: 11:21:00, DataFrame length: 126
2026-01-22 11:22:00,565 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:21:00, O: 140.8, H: 142.5, L: 132.5, C: 134.7, ST: Bear (155.28), W%R (9): -92.2, W%R (28): -53.0, K: 8.5, D: 15.6
2026-01-22 11:22:00,788 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:22:00.788 - Latest candle: 11:21:00, DataFrame length: 126
2026-01-22 11:22:00,793 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:21:00, O: 174.2, H: 183.4, L: 172.9, C: 181.8, ST: Bull (162.52), W%R (9): -6.1, W%R (28): -41.2, K: 87.9, D: 79.9
2026-01-22 11:22:00,815 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:21:00] Market Sentiment: BULLISH | OHLC: O=25224.45 H=25241.05 L=25224.45 C=25239.40
2026-01-22 11:22:00,816 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 11:22:00,816 - async_live_ticker_handler - INFO - [11:21:00] Market sentiment CHANGED: BEARISH -> BULLISH
2026-01-22 11:22:00,816 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:21:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:22:00.816 for sentiment: BULLISH
2026-01-22 11:22:00,817 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:22:00,818 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=126)
2026-01-22 11:22:00,819 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:20:00 -> current=11:21:00, expected_timestamp=11:21:00, df_length=126, W%R(9) prev=-22.52 current=-6.10, W%R(28) prev=-62.40 current=-41.18
2026-01-22 11:22:00,819 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-22.52, current=-6.10, threshold=-79, W%R(28) prev=-62.40, current=-41.18, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:22:00,820 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=126)
2026-01-22 11:22:00,821 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:20:00 -> current=11:21:00, expected_timestamp=11:21:00, df_length=126, W%R(9) prev=-78.26 current=-92.17, W%R(28) prev=-40.95 current=-52.98
2026-01-22 11:22:00,821 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-78.26, current=-92.17, threshold=-79, W%R(28) prev=-40.95, current=-52.98, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:23:00,522 - root - INFO - ================================================
2026-01-22 11:23:00,560 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:23:00.559 - Latest candle: 11:22:00, DataFrame length: 127
2026-01-22 11:23:00,564 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:22:00, O: 134.5, H: 140.9, L: 134.3, C: 139.6, ST: Bear (154.93), W%R (9): -72.2, W%R (28): -42.7, K: 5.7, D: 10.6
2026-01-22 11:23:00,789 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:23:00.789 - Latest candle: 11:22:00, DataFrame length: 127
2026-01-22 11:23:00,794 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:22:00, O: 181.1, H: 182.0, L: 175.5, C: 176.8, ST: Bull (163.36), W%R (9): -26.6, W%R (28): -53.6, K: 93.7, D: 86.5
2026-01-22 11:23:00,817 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:22:00] Market Sentiment: BULLISH | OHLC: O=25238.90 H=25238.90 L=25231.75 C=25232.95
2026-01-22 11:23:00,817 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:22:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:23:00.817 for sentiment: BULLISH
2026-01-22 11:23:00,818 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:23:00,819 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=127)
2026-01-22 11:23:00,820 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:21:00 -> current=11:22:00, expected_timestamp=11:22:00, df_length=127, W%R(9) prev=-6.10 current=-26.56, W%R(28) prev=-41.18 current=-53.64
2026-01-22 11:23:00,820 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-6.10, current=-26.56, threshold=-79, W%R(28) prev=-41.18, current=-53.64, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:23:00,821 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=127)
2026-01-22 11:23:00,822 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:21:00 -> current=11:22:00, expected_timestamp=11:22:00, df_length=127, W%R(9) prev=-92.17 current=-72.19, W%R(28) prev=-52.98 current=-42.72
2026-01-22 11:23:00,822 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-92.17, current=-72.19, threshold=-79, W%R(28) prev=-52.98, current=-42.72, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:24:00,522 - root - INFO - ================================================
2026-01-22 11:24:00,788 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:24:00.788 - Latest candle: 11:23:00, DataFrame length: 128
2026-01-22 11:24:00,793 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:23:00, O: 139.4, H: 141.4, L: 133.8, C: 134.4, ST: Bear (154.76), W%R (9): -91.6, W%R (28): -53.5, K: 5.7, D: 6.7
2026-01-22 11:24:00,795 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:23:00] Market Sentiment: BULLISH | OHLC: O=25233.10 H=25236.00 L=25227.00 C=25236.00
2026-01-22 11:24:01,039 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:24:01.039 - Latest candle: 11:23:00, DataFrame length: 128
2026-01-22 11:24:01,044 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:23:00, O: 177.1, H: 181.7, L: 174.6, C: 181.5, ST: Bull (163.36), W%R (9): -8.6, W%R (28): -42.0, K: 93.1, D: 91.6
2026-01-22 11:24:01,045 - async_event_handlers - INFO - [TIMING] New candle completed at 11:23:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:24:01.045 for sentiment: BULLISH
2026-01-22 11:24:01,045 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:24:01,046 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=128)
2026-01-22 11:24:01,047 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:22:00 -> current=11:23:00, expected_timestamp=11:23:00, df_length=128, W%R(9) prev=-26.56 current=-8.56, W%R(28) prev=-53.64 current=-42.05
2026-01-22 11:24:01,047 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-26.56, current=-8.56, threshold=-79, W%R(28) prev=-53.64, current=-42.05, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:24:01,048 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25250PE: Fast WPR crossed back below -79 at bar 5: -72.19 -> -91.56
2026-01-22 11:24:01,048 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=128)
2026-01-22 11:24:01,049 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:22:00 -> current=11:23:00, expected_timestamp=11:23:00, df_length=128, W%R(9) prev=-72.19 current=-91.56, W%R(28) prev=-42.72 current=-53.51
2026-01-22 11:24:01,049 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-72.19, current=-91.56, threshold=-79, W%R(28) prev=-42.72, current=-53.51, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:25:00,522 - root - INFO - ================================================
2026-01-22 11:25:00,539 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:25:00.539 - Latest candle: 11:24:00, DataFrame length: 129
2026-01-22 11:25:00,544 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:24:00, O: 133.8, H: 133.8, L: 119.7, C: 127.3, ST: Bear (145.12), W%R (9): -75.6, W%R (28): -68.3, K: 5.7, D: 5.7
2026-01-22 11:25:00,793 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:24:00] Market Sentiment: BULLISH | OHLC: O=25236.40 H=25265.25 L=25235.85 C=25253.70
2026-01-22 11:25:01,039 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:25:01.039 - Latest candle: 11:24:00, DataFrame length: 129
2026-01-22 11:25:01,044 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:24:00, O: 181.8, H: 196.9, L: 181.7, C: 189.8, ST: Bull (172.46), W%R (9): -23.2, W%R (28): -21.4, K: 93.1, D: 93.3
2026-01-22 11:25:01,066 - async_event_handlers - INFO - [TIMING] New candle completed at 11:24:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:25:01.066 for sentiment: BULLISH
2026-01-22 11:25:01,068 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:25:01,068 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=129)
2026-01-22 11:25:01,069 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:23:00 -> current=11:24:00, expected_timestamp=11:24:00, df_length=129, W%R(9) prev=-8.56 current=-23.16, W%R(28) prev=-42.05 current=-21.45
2026-01-22 11:25:01,070 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-8.56, current=-23.16, threshold=-79, W%R(28) prev=-42.05, current=-21.45, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:25:01,070 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=129)
2026-01-22 11:25:01,071 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:23:00 -> current=11:24:00, expected_timestamp=11:24:00, df_length=129, W%R(9) prev=-91.56 current=-75.56, W%R(28) prev=-53.51 current=-68.27
2026-01-22 11:25:01,071 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-91.56, current=-75.56, threshold=-79, W%R(28) prev=-53.51, current=-68.27, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:26:00,773 - root - INFO - ================================================
2026-01-22 11:26:00,831 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:26:00.831 - Latest candle: 11:25:00, DataFrame length: 130
2026-01-22 11:26:00,836 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:25:00, O: 126.5, H: 128.5, L: 113.5, C: 113.5, ST: Bear (140.49), W%R (9): -100.0, W%R (28): -97.4, K: 0.0, D: 3.8
2026-01-22 11:26:00,839 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:25:00] Market Sentiment: NEUTRAL | OHLC: O=25253.30 H=25274.25 L=25253.05 C=25274.25
2026-01-22 11:26:00,839 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 11:26:00,840 - async_live_ticker_handler - INFO - [11:25:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 11:26:00,840 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25263.71
2026-01-22 11:26:00,841 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 11:26:00,841 - root - INFO - Generated symbols: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 11:26:04,256 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 11:26:04,256 - root - INFO - CE: NIFTY26JAN25250CE (Token: 15025410)
2026-01-22 11:26:04,257 - root - INFO - PE: NIFTY26JAN25300PE (Token: 15027714)
2026-01-22 11:26:04,257 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25200CE -> NIFTY26JAN25250CE, PE: NIFTY26JAN25250PE -> NIFTY26JAN25300PE
2026-01-22 11:26:04,375 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 11:25:00: old_ce=NIFTY26JAN25200CE(15024386) -> new_ce=NIFTY26JAN25250CE, old_pe=NIFTY26JAN25250PE(15025666) -> new_pe=NIFTY26JAN25300PE
2026-01-22 11:26:04,376 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 11:26:04,382 - async_event_handlers - INFO - [TIMING] New candle completed at 11:26:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:26:04.382 for sentiment: NEUTRAL
2026-01-22 11:26:04,384 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 11:26:04,386 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=11:23:00 -> current=11:24:00, expected_timestamp=11:24:00, df_length=130, W%R(9) prev=-13.03 current=-27.24, W%R(28) prev=-41.88 current=-23.22
2026-01-22 11:26:04,386 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-13.03, current=-27.24, threshold=-79, W%R(28) prev=-41.88, current=-23.22, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:26:04,387 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=11:23:00 -> current=11:24:00, expected_timestamp=11:24:00, df_length=130, W%R(9) prev=-87.65 current=-75.43, W%R(28) prev=-52.80 current=-68.28
2026-01-22 11:26:04,388 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-87.65, current=-75.43, threshold=-79, W%R(28) prev=-52.80, current=-68.28, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:27:00,772 - root - INFO - ================================================
2026-01-22 11:27:01,023 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:26:00] Market Sentiment: BULLISH | OHLC: O=25273.75 H=25280.55 L=25266.70 C=25268.20
2026-01-22 11:27:01,023 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 11:27:01,023 - async_live_ticker_handler - INFO - [11:26:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 11:28:00,772 - root - INFO - ================================================
2026-01-22 11:28:00,796 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:27:00] Market Sentiment: NEUTRAL | OHLC: O=25269.70 H=25273.65 L=25252.60 C=25257.15
2026-01-22 11:28:00,796 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 11:28:00,797 - async_live_ticker_handler - INFO - [11:27:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 11:28:01,039 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 11:28:01.039 - Latest candle: 11:27:00, DataFrame length: 132
2026-01-22 11:28:01,044 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 11:27:00, O: 169.1, H: 171.2, L: 159.1, C: 159.8, ST: Bull (154.55), W%R (9): -43.1, W%R (28): -36.1, K: 90.8, D: 95.0
2026-01-22 11:28:01,101 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 11:28:01.101 - Latest candle: 11:27:00, DataFrame length: 132
2026-01-22 11:28:01,105 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 11:27:00, O: 142.6, H: 151.9, L: 139.1, C: 150.3, ST: Bear (161.53), W%R (9): -62.3, W%R (28): -69.3, K: 6.4, D: 4.1
2026-01-22 11:28:01,131 - async_event_handlers - INFO - [TIMING] New candle completed at 11:27:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:28:01.131 for sentiment: NEUTRAL
2026-01-22 11:28:01,133 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 11:28:01,135 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=11:26:00 -> current=11:27:00, expected_timestamp=11:27:00, df_length=132, W%R(9) prev=-19.97 current=-43.09, W%R(28) prev=-16.74 current=-36.12
2026-01-22 11:28:01,135 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-19.97, current=-43.09, threshold=-79, W%R(28) prev=-16.74, current=-36.12, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:28:01,136 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=11:26:00 -> current=11:27:00, expected_timestamp=11:27:00, df_length=132, W%R(9) prev=-77.31 current=-62.34, W%R(28) prev=-81.51 current=-69.30
2026-01-22 11:28:01,136 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-77.31, current=-62.34, threshold=-79, W%R(28) prev=-81.51, current=-69.30, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 11:29:00,772 - root - INFO - ================================================
2026-01-22 11:29:00,851 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 11:29:00.851 - Latest candle: 11:28:00, DataFrame length: 133
2026-01-22 11:29:00,856 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 11:28:00, O: 149.9, H: 154.5, L: 147.7, C: 150.9, ST: Bear (161.53), W%R (9): -61.0, W%R (28): -68.3, K: 15.3, D: 7.2
2026-01-22 11:29:01,023 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:28:00] Market Sentiment: BEARISH | OHLC: O=25256.90 H=25258.70 L=25251.15 C=25253.15
2026-01-22 11:29:01,023 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 11:29:01,023 - async_live_ticker_handler - INFO - [11:28:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 11:29:01,041 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 11:29:01.041 - Latest candle: 11:28:00, DataFrame length: 133
2026-01-22 11:29:01,046 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 11:28:00, O: 160.4, H: 161.8, L: 156.1, C: 158.1, ST: Bull (154.55), W%R (9): -47.7, W%R (28): -40.0, K: 77.4, D: 89.4
2026-01-22 11:29:01,048 - async_event_handlers - INFO - [TIMING] New candle completed at 11:28:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:29:01.048 for sentiment: BEARISH
2026-01-22 11:29:01,049 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 11:29:01,050 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=133)
2026-01-22 11:29:01,051 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=11:27:00 -> current=11:28:00, expected_timestamp=11:28:00, df_length=133, W%R(9) prev=-43.09 current=-47.74, W%R(28) prev=-36.12 current=-40.02
2026-01-22 11:29:01,051 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-43.09, current=-47.74, threshold=-79, W%R(28) prev=-36.12, current=-40.02, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:29:01,053 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=133)
2026-01-22 11:29:01,054 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=11:27:00 -> current=11:28:00, expected_timestamp=11:28:00, df_length=133, W%R(9) prev=-62.34 current=-61.05, W%R(28) prev=-69.30 current=-68.26
2026-01-22 11:29:01,054 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-62.34, current=-61.05, threshold=-79, W%R(28) prev=-69.30, current=-68.26, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:30:00,772 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:29:00] Market Sentiment: BEARISH | OHLC: O=25253.90 H=25253.90 L=25245.60 C=25247.25
2026-01-22 11:30:00,773 - root - INFO - ================================================
2026-01-22 11:30:00,791 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 11:30:00.791 - Latest candle: 11:29:00, DataFrame length: 134
2026-01-22 11:30:00,796 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 11:29:00, O: 158.2, H: 158.8, L: 154.2, C: 156.2, ST: Bull (154.55), W%R (9): -53.1, W%R (28): -44.5, K: 61.5, D: 76.6
2026-01-22 11:30:01,081 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 11:30:01.080 - Latest candle: 11:29:00, DataFrame length: 134
2026-01-22 11:30:01,085 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 11:29:00, O: 151.9, H: 156.2, L: 150.6, C: 153.6, ST: Bear (161.53), W%R (9): -53.3, W%R (28): -63.1, K: 27.7, D: 16.4
2026-01-22 11:30:01,110 - async_event_handlers - INFO - [TIMING] New candle completed at 11:29:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:30:01.110 for sentiment: BEARISH
2026-01-22 11:30:01,110 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 11:30:01,112 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=134)
2026-01-22 11:30:01,114 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=11:28:00 -> current=11:29:00, expected_timestamp=11:29:00, df_length=134, W%R(9) prev=-47.74 current=-53.08, W%R(28) prev=-40.02 current=-44.50
2026-01-22 11:30:01,115 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-47.74, current=-53.08, threshold=-79, W%R(28) prev=-40.02, current=-44.50, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:30:01,116 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=134)
2026-01-22 11:30:01,117 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=11:28:00 -> current=11:29:00, expected_timestamp=11:29:00, df_length=134, W%R(9) prev=-61.05 current=-53.26, W%R(28) prev=-68.26 current=-63.11
2026-01-22 11:30:01,117 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-61.05, current=-53.26, threshold=-79, W%R(28) prev=-68.26, current=-63.11, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:31:00,772 - root - INFO - ================================================
2026-01-22 11:31:00,790 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 11:31:00.790 - Latest candle: 11:30:00, DataFrame length: 135
2026-01-22 11:31:00,795 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 11:30:00, O: 156.2, H: 156.4, L: 148.3, C: 149.4, ST: Bear (168.46), W%R (9): -85.2, W%R (28): -59.9, K: 46.8, D: 61.9
2026-01-22 11:31:00,833 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 11:31:00.833 - Latest candle: 11:30:00, DataFrame length: 135
2026-01-22 11:31:00,838 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 11:30:00, O: 154.9, H: 162.9, L: 154.1, C: 162.2, ST: Bull (138.45), W%R (9): -15.9, W%R (28): -46.6, K: 44.3, D: 29.1
2026-01-22 11:31:00,860 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:30:00] Market Sentiment: BEARISH | OHLC: O=25246.85 H=25247.95 L=25237.50 C=25237.65
2026-01-22 11:31:00,867 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:30:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:31:00.867 for sentiment: BEARISH
2026-01-22 11:31:00,867 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25242.49
2026-01-22 11:31:00,868 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 11:31:00,868 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 11:31:04,281 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 11:31:04,281 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 11:31:04,282 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 11:31:04,282 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25250CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25300PE -> NIFTY26JAN25250PE
2026-01-22 11:31:04,405 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 11:30:00: old_ce=NIFTY26JAN25250CE(15025410) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25300PE(15027714) -> new_pe=NIFTY26JAN25250PE
2026-01-22 11:31:04,406 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 11:31:04,406 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:31:04,411 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=136)
2026-01-22 11:31:04,422 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:29:00 -> current=11:30:00, expected_timestamp=11:30:00, df_length=136, W%R(9) prev=-64.34 current=-92.07, W%R(28) prev=-45.10 current=-61.50
2026-01-22 11:31:04,426 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-64.34, current=-92.07, threshold=-79, W%R(28) prev=-45.10, current=-61.50, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:31:04,427 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=136)
2026-01-22 11:31:04,460 - async_event_handlers - INFO - [TIMING] New candle completed at 11:31:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:31:04.460 for sentiment: BEARISH
2026-01-22 11:31:04,464 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:31:04,465 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=136)
2026-01-22 11:31:04,466 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:29:00 -> current=11:30:00, expected_timestamp=11:30:00, df_length=136, W%R(9) prev=-64.34 current=-92.07, W%R(28) prev=-45.10 current=-61.50
2026-01-22 11:31:04,466 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-64.34, current=-92.07, threshold=-79, W%R(28) prev=-45.10, current=-61.50, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:31:04,467 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=136)
2026-01-22 11:32:00,522 - root - INFO - ================================================
2026-01-22 11:32:01,067 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:31:00] Market Sentiment: BEARISH | OHLC: O=25237.50 H=25254.75 L=25232.20 C=25254.75
2026-01-22 11:33:00,522 - root - INFO - ================================================
2026-01-22 11:33:00,540 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:33:00.540 - Latest candle: 11:32:00, DataFrame length: 138
2026-01-22 11:33:00,545 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:32:00, O: 188.8, H: 189.9, L: 181.2, C: 184.7, ST: Bear (199.51), W%R (9): -70.4, W%R (28): -46.7, K: 35.2, D: 35.5
2026-01-22 11:33:00,810 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:33:00.810 - Latest candle: 11:32:00, DataFrame length: 138
2026-01-22 11:33:00,815 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:32:00, O: 127.3, H: 133.7, L: 125.7, C: 131.7, ST: Bull (116.29), W%R (9): -31.1, W%R (28): -60.3, K: 60.9, D: 59.6
2026-01-22 11:33:00,818 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:32:00] Market Sentiment: BEARISH | OHLC: O=25253.65 H=25254.65 L=25242.10 C=25247.90
2026-01-22 11:33:00,818 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:32:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:33:00.818 for sentiment: BEARISH
2026-01-22 11:33:00,840 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:33:00,841 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=138)
2026-01-22 11:33:00,842 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:31:00 -> current=11:32:00, expected_timestamp=11:32:00, df_length=138, W%R(9) prev=-58.23 current=-70.44, W%R(28) prev=-38.90 current=-46.70
2026-01-22 11:33:00,842 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-58.23, current=-70.44, threshold=-79, W%R(28) prev=-38.90, current=-46.70, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:33:00,843 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=138)
2026-01-22 11:33:00,844 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:31:00 -> current=11:32:00, expected_timestamp=11:32:00, df_length=138, W%R(9) prev=-52.20 current=-31.11, W%R(28) prev=-71.08 current=-60.30
2026-01-22 11:33:00,844 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-52.20, current=-31.11, threshold=-79, W%R(28) prev=-71.08, current=-60.30, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:34:00,772 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:33:00] Market Sentiment: BEARISH | OHLC: O=25247.40 H=25254.75 L=25245.85 C=25253.55
2026-01-22 11:34:00,773 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25250.39
2026-01-22 11:34:00,774 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 11:34:00,774 - root - INFO - Generated symbols: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 11:34:04,151 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 11:34:04,151 - root - INFO - CE: NIFTY26JAN25250CE (Token: 15025410)
2026-01-22 11:34:04,151 - root - INFO - PE: NIFTY26JAN25300PE (Token: 15027714)
2026-01-22 11:34:04,151 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25200CE -> NIFTY26JAN25250CE, PE: NIFTY26JAN25250PE -> NIFTY26JAN25300PE
2026-01-22 11:34:04,274 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 11:33:00: old_ce=NIFTY26JAN25200CE(15024386) -> new_ce=NIFTY26JAN25250CE, old_pe=NIFTY26JAN25250PE(15025666) -> new_pe=NIFTY26JAN25300PE
2026-01-22 11:34:04,275 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 11:34:04,276 - root - INFO - ================================================
2026-01-22 11:34:04,324 - async_event_handlers - INFO - [TIMING] New candle completed at 11:34:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:34:04.324 for sentiment: BEARISH
2026-01-22 11:34:04,331 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 11:34:04,333 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=138)
2026-01-22 11:34:04,333 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=11:31:00 -> current=11:32:00, expected_timestamp=11:32:00, df_length=138, W%R(9) prev=-56.21 current=-71.40, W%R(28) prev=-37.39 current=-47.25
2026-01-22 11:34:04,334 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-56.21, current=-71.40, threshold=-79, W%R(28) prev=-37.39, current=-47.25, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:34:04,335 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=138)
2026-01-22 11:34:04,336 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=11:31:00 -> current=11:32:00, expected_timestamp=11:32:00, df_length=138, W%R(9) prev=-51.70 current=-31.49, W%R(28) prev=-70.16 current=-59.77
2026-01-22 11:34:04,336 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-51.70, current=-31.49, threshold=-79, W%R(28) prev=-70.16, current=-59.77, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:35:00,772 - root - INFO - ================================================
2026-01-22 11:35:00,818 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:34:00] Market Sentiment: BEARISH | OHLC: O=25253.35 H=25255.35 L=25246.65 C=25248.75
2026-01-22 11:36:00,772 - root - INFO - ================================================
2026-01-22 11:36:00,834 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 11:36:00.834 - Latest candle: 11:35:00, DataFrame length: 140
2026-01-22 11:36:00,839 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 11:35:00, O: 157.2, H: 157.5, L: 150.1, C: 154.1, ST: Bull (138.38), W%R (9): -35.7, W%R (28): -62.2, K: 72.9, D: 66.3
2026-01-22 11:36:00,864 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:35:00] Market Sentiment: BEARISH | OHLC: O=25248.35 H=25257.05 L=25246.80 C=25252.75
2026-01-22 11:36:00,892 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 11:36:00.892 - Latest candle: 11:35:00, DataFrame length: 140
2026-01-22 11:36:00,897 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 11:35:00, O: 154.8, H: 160.7, L: 154.0, C: 157.0, ST: Bear (168.52), W%R (9): -64.3, W%R (28): -42.5, K: 26.7, D: 32.1
2026-01-22 11:36:00,921 - async_event_handlers - INFO - [TIMING] New candle completed at 11:35:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:36:00.921 for sentiment: BEARISH
2026-01-22 11:36:00,924 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 11:36:00,926 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=140)
2026-01-22 11:36:00,927 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=11:34:00 -> current=11:35:00, expected_timestamp=11:35:00, df_length=140, W%R(9) prev=-71.92 current=-64.30, W%R(28) prev=-47.59 current=-42.55
2026-01-22 11:36:00,927 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-71.92, current=-64.30, threshold=-79, W%R(28) prev=-47.59, current=-42.55, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:36:00,929 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=140)
2026-01-22 11:36:00,930 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=11:34:00 -> current=11:35:00, expected_timestamp=11:35:00, df_length=140, W%R(9) prev=-25.49 current=-35.71, W%R(28) prev=-56.24 current=-62.25
2026-01-22 11:36:00,930 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-25.49, current=-35.71, threshold=-79, W%R(28) prev=-56.24, current=-62.25, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:37:00,772 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:36:00] Market Sentiment: BEARISH | OHLC: O=25252.70 H=25259.15 L=25246.15 C=25248.70
2026-01-22 11:37:00,773 - root - INFO - ================================================
2026-01-22 11:37:00,791 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 11:37:00.791 - Latest candle: 11:36:00, DataFrame length: 141
2026-01-22 11:37:00,796 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 11:36:00, O: 157.0, H: 161.7, L: 153.1, C: 156.1, ST: Bear (168.52), W%R (9): -61.7, W%R (28): -44.6, K: 22.0, D: 27.6
2026-01-22 11:37:00,878 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 11:37:00.878 - Latest candle: 11:36:00, DataFrame length: 141
2026-01-22 11:37:00,883 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 11:36:00, O: 154.1, H: 157.8, L: 148.9, C: 154.3, ST: Bull (138.38), W%R (9): -41.2, W%R (28): -61.7, K: 77.1, D: 71.4
2026-01-22 11:37:00,913 - async_event_handlers - INFO - [TIMING] New candle completed at 11:36:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:37:00.913 for sentiment: BEARISH
2026-01-22 11:37:00,916 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 11:37:00,918 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=141)
2026-01-22 11:37:00,919 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=11:35:00 -> current=11:36:00, expected_timestamp=11:36:00, df_length=141, W%R(9) prev=-64.30 current=-61.71, W%R(28) prev=-42.55 current=-44.61
2026-01-22 11:37:00,919 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-64.30, current=-61.71, threshold=-79, W%R(28) prev=-42.55, current=-44.61, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:37:00,921 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=141)
2026-01-22 11:37:00,922 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=11:35:00 -> current=11:36:00, expected_timestamp=11:36:00, df_length=141, W%R(9) prev=-35.71 current=-41.23, W%R(28) prev=-62.25 current=-61.68
2026-01-22 11:37:00,922 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-35.71, current=-41.23, threshold=-79, W%R(28) prev=-62.25, current=-61.68, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:38:00,522 - root - INFO - ================================================
2026-01-22 11:38:00,540 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 11:38:00.540 - Latest candle: 11:37:00, DataFrame length: 142
2026-01-22 11:38:00,545 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 11:37:00, O: 156.1, H: 157.1, L: 150.6, C: 150.6, ST: Bear (168.52), W%R (9): -74.2, W%R (28): -57.2, K: 16.1, D: 21.6
2026-01-22 11:38:00,831 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 11:38:00.831 - Latest candle: 11:37:00, DataFrame length: 142
2026-01-22 11:38:00,836 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 11:37:00, O: 154.3, H: 159.8, L: 153.8, C: 159.8, ST: Bull (138.38), W%R (9): -30.6, W%R (28): -51.4, K: 80.7, D: 76.9
2026-01-22 11:38:00,839 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:37:00] Market Sentiment: BEARISH | OHLC: O=25247.70 H=25249.00 L=25238.15 C=25239.65
2026-01-22 11:38:00,845 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:37:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:38:00.845 for sentiment: BEARISH
2026-01-22 11:38:00,845 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25243.62
2026-01-22 11:38:00,846 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 11:38:00,846 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 11:38:04,243 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 11:38:04,243 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 11:38:04,243 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 11:38:04,243 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25250CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25300PE -> NIFTY26JAN25250PE
2026-01-22 11:38:04,364 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 11:37:00: old_ce=NIFTY26JAN25250CE(15025410) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25300PE(15027714) -> new_pe=NIFTY26JAN25250PE
2026-01-22 11:38:04,365 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 11:38:04,365 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:38:04,370 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=143)
2026-01-22 11:38:04,382 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=179.45, close=179.45
2026-01-22 11:38:04,384 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=143)
2026-01-22 11:38:04,385 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:36:00 -> current=11:37:00, expected_timestamp=11:37:00, df_length=143, W%R(9) prev=-61.79 current=-31.19, W%R(28) prev=-62.22 current=-52.19
2026-01-22 11:38:04,387 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-61.79, current=-31.19, threshold=-79, W%R(28) prev=-62.22, current=-52.19, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:38:04,398 - async_event_handlers - INFO - [TIMING] New candle completed at 11:38:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:38:04.398 for sentiment: BEARISH
2026-01-22 11:38:04,402 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:38:04,403 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=143)
2026-01-22 11:38:04,403 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=179.45, close=179.45
2026-01-22 11:38:04,404 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=143)
2026-01-22 11:38:04,405 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:36:00 -> current=11:37:00, expected_timestamp=11:37:00, df_length=143, W%R(9) prev=-61.79 current=-31.19, W%R(28) prev=-62.22 current=-52.19
2026-01-22 11:38:04,405 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-61.79, current=-31.19, threshold=-79, W%R(28) prev=-62.22, current=-52.19, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:39:00,272 - root - INFO - ================================================
2026-01-22 11:39:00,773 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:38:00] Market Sentiment: BEARISH | OHLC: O=25238.60 H=25249.05 L=25238.10 C=25241.95
2026-01-22 11:40:00,272 - root - INFO - ================================================
2026-01-22 11:40:00,602 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:40:00.602 - Latest candle: 11:39:00, DataFrame length: 145
2026-01-22 11:40:00,607 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:39:00, O: 131.7, H: 136.4, L: 130.9, C: 136.2, ST: Bull (117.76), W%R (9): -26.1, W%R (28): -50.6, K: 91.0, D: 85.3
2026-01-22 11:40:00,773 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:39:00] Market Sentiment: BEARISH | OHLC: O=25242.60 H=25243.35 L=25234.00 C=25236.60
2026-01-22 11:40:01,039 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:40:01.039 - Latest candle: 11:39:00, DataFrame length: 145
2026-01-22 11:40:01,044 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:39:00, O: 182.4, H: 183.5, L: 178.2, C: 178.2, ST: Bear (197.91), W%R (9): -79.3, W%R (28): -59.5, K: 4.6, D: 11.1
2026-01-22 11:40:01,045 - async_event_handlers - INFO - [TIMING] New candle completed at 11:39:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:40:01.045 for sentiment: BEARISH
2026-01-22 11:40:01,046 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:40:01,047 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=145)
2026-01-22 11:40:01,047 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=178.25, close=178.25
2026-01-22 11:40:01,048 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=145)
2026-01-22 11:40:01,049 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:38:00 -> current=11:39:00, expected_timestamp=11:39:00, df_length=145, W%R(9) prev=-52.20 current=-26.10, W%R(28) prev=-58.80 current=-50.59
2026-01-22 11:40:01,049 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-52.20, current=-26.10, threshold=-79, W%R(28) prev=-58.80, current=-50.59, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:41:00,272 - root - INFO - ================================================
2026-01-22 11:41:00,561 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:41:00.561 - Latest candle: 11:40:00, DataFrame length: 146
2026-01-22 11:41:00,566 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:40:00, O: 136.4, H: 138.9, L: 132.3, C: 137.9, ST: Bull (120.00), W%R (9): -7.3, W%R (28): -44.5, K: 92.7, D: 89.2
2026-01-22 11:41:00,773 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:40:00] Market Sentiment: BEARISH | OHLC: O=25236.65 H=25239.45 L=25230.60 C=25230.60
2026-01-22 11:41:01,290 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:41:01.289 - Latest candle: 11:40:00, DataFrame length: 146
2026-01-22 11:41:01,295 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:40:00, O: 178.2, H: 181.4, L: 174.9, C: 174.9, ST: Bear (194.79), W%R (9): -100.0, W%R (28): -66.8, K: 3.6, D: 6.7
2026-01-22 11:41:01,296 - async_event_handlers - INFO - [TIMING] New candle completed at 11:40:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:41:01.296 for sentiment: BEARISH
2026-01-22 11:41:01,296 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:41:01,297 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=146)
2026-01-22 11:41:01,297 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=174.95, close=174.95
2026-01-22 11:41:01,298 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=146)
2026-01-22 11:41:01,299 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:39:00 -> current=11:40:00, expected_timestamp=11:40:00, df_length=146, W%R(9) prev=-26.10 current=-7.35, W%R(28) prev=-50.59 current=-44.47
2026-01-22 11:41:01,299 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-26.10, current=-7.35, threshold=-79, W%R(28) prev=-50.59, current=-44.47, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:42:00,522 - root - INFO - ================================================
2026-01-22 11:42:00,605 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:42:00.605 - Latest candle: 11:41:00, DataFrame length: 147
2026-01-22 11:42:00,610 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:41:00, O: 138.5, H: 148.9, L: 137.3, C: 147.6, ST: Bull (126.71), W%R (9): -5.7, W%R (28): -17.8, K: 98.9, D: 94.2
2026-01-22 11:42:00,773 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:41:00] Market Sentiment: BEARISH | OHLC: O=25231.95 H=25231.95 L=25218.05 C=25218.65
2026-01-22 11:42:00,792 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:42:00.792 - Latest candle: 11:41:00, DataFrame length: 147
2026-01-22 11:42:00,797 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:41:00, O: 174.2, H: 175.4, L: 166.0, C: 167.6, ST: Bear (187.54), W%R (9): -93.7, W%R (28): -86.3, K: 0.0, D: 2.8
2026-01-22 11:42:00,798 - async_event_handlers - INFO - [TIMING] New candle completed at 11:41:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:42:00.798 for sentiment: BEARISH
2026-01-22 11:42:00,798 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:42:00,799 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=147)
2026-01-22 11:42:00,800 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:40:00 -> current=11:41:00, expected_timestamp=11:41:00, df_length=147, W%R(9) prev=-100.00 current=-93.68, W%R(28) prev=-66.84 current=-86.32
2026-01-22 11:42:00,801 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-100.00, current=-93.68, threshold=-79, W%R(28) prev=-66.84, current=-86.32, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 11:42:00,802 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=147)
2026-01-22 11:43:00,522 - root - INFO - ================================================
2026-01-22 11:43:00,583 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:43:00.583 - Latest candle: 11:42:00, DataFrame length: 148
2026-01-22 11:43:00,588 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:42:00, O: 147.2, H: 154.8, L: 145.0, C: 153.7, ST: Bull (133.19), W%R (9): -3.8, W%R (28): -2.6, K: 100.0, D: 97.2
2026-01-22 11:43:00,790 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:43:00.790 - Latest candle: 11:42:00, DataFrame length: 148
2026-01-22 11:43:00,795 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:42:00, O: 167.4, H: 169.4, L: 160.1, C: 161.2, ST: Bear (181.78), W%R (9): -96.2, W%R (28): -97.5, K: 0.0, D: 1.2
2026-01-22 11:43:00,820 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:42:00] Market Sentiment: BEARISH | OHLC: O=25218.25 H=25218.90 L=25203.30 C=25209.50
2026-01-22 11:43:00,820 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:42:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:43:00.820 for sentiment: BEARISH
2026-01-22 11:43:00,821 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:43:00,822 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=148)
2026-01-22 11:43:00,823 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:41:00 -> current=11:42:00, expected_timestamp=11:42:00, df_length=148, W%R(9) prev=-93.68 current=-96.15, W%R(28) prev=-86.32 current=-97.50
2026-01-22 11:43:00,823 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-93.68, current=-96.15, threshold=-79, W%R(28) prev=-86.32, current=-97.50, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:43:00,824 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=148)
2026-01-22 11:44:00,522 - root - INFO - ================================================
2026-01-22 11:44:00,832 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:44:00.832 - Latest candle: 11:43:00, DataFrame length: 149
2026-01-22 11:44:00,837 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:43:00, O: 153.8, H: 159.3, L: 152.0, C: 158.0, ST: Bull (139.17), W%R (9): -4.0, W%R (28): -2.9, K: 100.0, D: 99.6
2026-01-22 11:44:00,840 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:43:00] Market Sentiment: NEUTRAL | OHLC: O=25209.35 H=25210.60 L=25201.10 C=25203.65
2026-01-22 11:44:00,841 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 11:44:00,841 - async_live_ticker_handler - INFO - [11:43:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 11:44:01,040 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:44:01.040 - Latest candle: 11:43:00, DataFrame length: 149
2026-01-22 11:44:01,045 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:43:00, O: 161.2, H: 163.6, L: 158.2, C: 159.1, ST: Bear (177.26), W%R (9): -97.3, W%R (28): -98.2, K: 0.0, D: 0.0
2026-01-22 11:44:01,047 - async_event_handlers - INFO - [TIMING] New candle completed at 11:43:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:44:01.047 for sentiment: NEUTRAL
2026-01-22 11:44:01,048 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:44:01,049 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:42:00 -> current=11:43:00, expected_timestamp=11:43:00, df_length=149, W%R(9) prev=-96.15 current=-97.28, W%R(28) prev=-97.50 current=-98.19
2026-01-22 11:44:01,049 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-96.15, current=-97.28, threshold=-79, W%R(28) prev=-97.50, current=-98.19, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:45:00,522 - root - INFO - ================================================
2026-01-22 11:45:00,561 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:45:00.561 - Latest candle: 11:44:00, DataFrame length: 150
2026-01-22 11:45:00,566 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:44:00, O: 158.6, H: 162.0, L: 156.6, C: 159.6, ST: Bear (175.13), W%R (9): -91.3, W%R (28): -94.2, K: 0.9, D: 0.3
2026-01-22 11:45:00,627 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:45:00.627 - Latest candle: 11:44:00, DataFrame length: 150
2026-01-22 11:45:00,633 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:44:00, O: 158.4, H: 162.7, L: 154.6, C: 156.9, ST: Bull (142.12), W%R (9): -15.6, W%R (28): -11.6, K: 98.2, D: 99.4
2026-01-22 11:45:00,773 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:44:00] Market Sentiment: NEUTRAL | OHLC: O=25202.90 H=25210.00 L=25198.70 C=25206.85
2026-01-22 11:45:00,773 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:44:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:45:00.773 for sentiment: NEUTRAL
2026-01-22 11:45:00,797 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:45:00,799 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:43:00 -> current=11:44:00, expected_timestamp=11:44:00, df_length=150, W%R(9) prev=-97.28 current=-91.34, W%R(28) prev=-98.19 current=-94.17
2026-01-22 11:45:00,799 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-97.28, current=-91.34, threshold=-79, W%R(28) prev=-98.19, current=-94.17, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:46:00,522 - root - INFO - ================================================
2026-01-22 11:46:00,562 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:46:00.562 - Latest candle: 11:45:00, DataFrame length: 151
2026-01-22 11:46:00,568 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:45:00, O: 159.7, H: 160.7, L: 157.6, C: 160.7, ST: Bear (173.99), W%R (9): -86.7, W%R (28): -92.0, K: 4.0, D: 1.6
2026-01-22 11:46:00,607 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:46:00.607 - Latest candle: 11:45:00, DataFrame length: 151
2026-01-22 11:46:00,612 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:45:00, O: 156.8, H: 160.4, L: 155.8, C: 156.9, ST: Bull (142.39), W%R (9): -16.2, W%R (28): -11.5, K: 96.3, D: 98.2
2026-01-22 11:46:00,773 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:45:00] Market Sentiment: BEARISH | OHLC: O=25205.90 H=25207.25 L=25197.55 C=25200.80
2026-01-22 11:46:00,773 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 11:46:00,774 - async_live_ticker_handler - INFO - [11:45:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 11:46:00,774 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:45:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:46:00.774 for sentiment: BEARISH
2026-01-22 11:46:00,822 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:46:00,823 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=151)
2026-01-22 11:46:00,824 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:44:00 -> current=11:45:00, expected_timestamp=11:45:00, df_length=151, W%R(9) prev=-91.34 current=-86.73, W%R(28) prev=-94.17 current=-92.03
2026-01-22 11:46:00,824 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-91.34, current=-86.73, threshold=-79, W%R(28) prev=-94.17, current=-92.03, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:46:00,825 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=151)
2026-01-22 11:46:00,825 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:44:00 -> current=11:45:00, expected_timestamp=11:45:00, df_length=151, W%R(9) prev=-15.58 current=-16.17, W%R(28) prev=-11.60 current=-11.50
2026-01-22 11:46:00,826 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-15.58, current=-16.17, threshold=-79, W%R(28) prev=-11.60, current=-11.50, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:46:16,194 - __main__ - INFO - Received exit signal SIGTERM...
2026-01-22 11:46:16,194 - __main__ - INFO - Stopping bot components...
2026-01-22 11:46:16,194 - __main__ - INFO - [STOP] Stopping Async Trading Bot...
2026-01-22 11:46:16,195 - __main__ - INFO - GTT status check task cancelled
2026-01-22 11:46:16,195 - realtime_position_manager - INFO - [STOP] RealTimePositionManager stopped
2026-01-22 11:46:16,195 - __main__ - INFO - Position manager stopped
2026-01-22 11:46:16,195 - async_live_ticker_handler - INFO - Stopping async WebSocket listener...
2026-01-22 11:46:16,195 - async_live_ticker_handler - INFO - Async WebSocket stopped.
2026-01-22 11:46:16,195 - async_api_server - INFO - Async API server stopped
2026-01-22 11:46:16,195 - __main__ - INFO - [OK] Async Trading Bot stopped
2026-01-22 11:46:16,196 - __main__ - INFO - Bot components stopped successfully
2026-01-22 11:46:16,196 - __main__ - INFO - Cancelling 3 outstanding tasks...
2026-01-22 11:46:16,196 - __main__ - INFO - [RISK] Drawdown watchdog loop cancelled
2026-01-22 11:46:16,196 - __main__ - INFO - [RISK] Risk watchdog loop cancelled
2026-01-22 11:46:16,196 - __main__ - INFO - Main event loop cancelled
2026-01-22 11:46:16,196 - __main__ - INFO - Cleaning up event loop...
2026-01-22 11:46:16,196 - __main__ - INFO - Cancelling 1 remaining tasks during final cleanup...
2026-01-22 11:46:16,196 - __main__ - INFO - Shutting down async generators...
2026-01-22 11:46:16,196 - __main__ - INFO - Closing event loop...
2026-01-22 11:46:16,197 - __main__ - INFO - Event loop closed
2026-01-22 11:46:16,197 - __main__ - INFO - Shutdown complete, exiting process

================================================================================
NEW SESSION STARTED: 2026-01-22 11:46:21
================================================================================

2026-01-22 11:46:21,556 - __main__ - INFO - ================================================================================
2026-01-22 11:46:21,556 - __main__ - INFO - PRODUCTION LOGGING STARTED - Logs will be appended to: output/production_logs.txt
2026-01-22 11:46:21,556 - __main__ - INFO - DAILY TERMINAL LOG STARTED - Logs will be appended to: logs/dynamic_atm_strike_jan22.log (auto-truncated per day)
2026-01-22 11:46:21,556 - __main__ - INFO - Session started at: 2026-01-22 11:46:21
2026-01-22 11:46:21,556 - __main__ - INFO - ================================================================================
2026-01-22 11:46:21,557 - __main__ - INFO - [START] Initializing Async Trading Bot...
2026-01-22 11:46:21,572 - __main__ - INFO - Configuration loaded from config.yaml
2026-01-22 11:46:21,572 - __main__ - INFO - Dynamic ATM enabled: True
2026-01-22 11:46:21,572 - __main__ - INFO - Automated market sentiment enabled: True
2026-01-22 11:46:21,573 - __main__ - INFO - Trading symbols loaded: ['underlying_symbol', 'underlying_token', 'atm_strike', 'ce_symbol', 'ce_token', 'pe_symbol', 'pe_token']
2026-01-22 11:46:21,573 - root - INFO - Attempting to get a valid Kite API session...
2026-01-22 11:46:21,573 - root - INFO - Successfully obtained a valid Kite API session.
2026-01-22 11:46:21,574 - __main__ - INFO - Kite API initialized
2026-01-22 11:46:21,575 - __main__ - INFO - Trade ledger initialized
2026-01-22 11:46:21,575 - trailing_max_drawdown_manager - INFO - Trailing Max Drawdown Manager initialized: Capital=15,000.00, Loss Mark=70.0%
2026-01-22 11:46:21,575 - __main__ - INFO - Trailing max drawdown manager initialized
2026-01-22 11:46:21,575 - trade_state_manager - INFO - Trade state loaded successfully.
2026-01-22 11:46:21,645 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 11:46:21,645 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 11:46:21,645 - __main__ - INFO - State manager initialized
2026-01-22 11:46:21,645 - __main__ - INFO - Indicator manager initialized
2026-01-22 11:46:21,645 - async_api_server - INFO - Initialized config with 18 settings
2026-01-22 11:46:21,645 - async_api_server - INFO - Initialized config with 1 settings
2026-01-22 11:46:21,645 - __main__ - INFO - API server initialized
2026-01-22 11:46:21,646 - async_api_server - INFO - [OK] Async API server started on localhost:5000
2026-01-22 11:46:21,647 - event_system - WARNING - [WARN] Event dispatcher not running! Event system_startup may be lost.
2026-01-22 11:46:21,647 - __main__ - INFO - [API] API server started early - control panel can connect now
2026-01-22 11:46:21,649 - realtime_position_manager - INFO - RealTimePositionManager initialized: check_interval=1.0s, gap_threshold=2.0%
2026-01-22 11:46:21,649 - immediate_exit_executor - INFO - ImmediateExitExecutor initialized: max_retries=3, validation_enabled=True
2026-01-22 11:46:21,649 - async_event_handlers - INFO - [OK] Real-time position management enabled
2026-01-22 11:46:21,649 - __main__ - INFO - Event handlers initialized
2026-01-22 11:46:21,649 - event_system - INFO - [OK] Event dispatcher started and processing events
2026-01-22 11:46:21,649 - __main__ - INFO - [EVENT] Event dispatcher started early - commands can be processed now
2026-01-22 11:46:21,649 - root - INFO - Current time: 11:46:21, Market open time: 09:15:00, Is after market open: True
2026-01-22 11:46:21,650 - __main__ - INFO - [CLOCK] Market is already open. Using historical API to get opening price...
2026-01-22 11:46:21,650 - root - INFO - Attempt 1/3: Fetching NIFTY opening price...
2026-01-22 11:46:21,670 - root - INFO - [OK] Retrieved NIFTY 50 opening price from daily historical data: 25344.15
2026-01-22 11:46:21,671 - __main__ - INFO - [CHART] Processing NIFTY opening price: 25344.15
2026-01-22 11:46:21,671 - root - INFO - NIFTY Price: 25344.15, CE ATM Strike: 25300 (FLOOR), PE ATM Strike: 25350 (CEIL)
2026-01-22 11:46:21,671 - root - INFO - Expiry calculation: Next expiry (2026-01-27) corresponds to the last Tuesday of the month (2026-01-27). Using monthly expiry format.
2026-01-22 11:46:21,671 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 11:46:21,671 - root - INFO - Generated symbols: CE=NIFTY26JAN25300CE, PE=NIFTY26JAN25350PE
2026-01-22 11:46:25,174 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 11:46:25,174 - root - INFO - CE: NIFTY26JAN25300CE (Token: 15025922)
2026-01-22 11:46:25,174 - root - INFO - PE: NIFTY26JAN25350PE (Token: 15028226)
2026-01-22 11:46:25,174 - __main__ - INFO - [OK] Successfully derived and updated PE & CE strikes
2026-01-22 11:46:25,174 - __main__ - INFO - CE: NIFTY26JAN25300CE (Strike: 25300)
2026-01-22 11:46:25,174 - __main__ - INFO - PE: NIFTY26JAN25350PE (Strike: 25350)
2026-01-22 11:46:25,175 - __main__ - INFO - [OK] Keeping NIFTY 50 subscribed for automated sentiment processing
2026-01-22 11:46:25,175 - entry_conditions - INFO - [CONFIG DEBUG] EntryConditionManager initialized. TRADE_SETTINGS keys: ['QUANTITY', 'CAPITAL', 'PRODUCT', 'VALIDATE_ENTRY_RISK', 'REVERSAL_MAX_SWING_LOW_DISTANCE_PERCENT', 'CONTINUATION_MAX_SUPERTREND_DISTANCE_PERCENT', 'STOP_LOSS_PRICE_THRESHOLD', 'STOP_LOSS_PERCENT', 'TAKE_PROFIT_PERCENT', 'DYNAMIC_TRAILING_MA', 'DYNAMIC_TRAILING_MA_THRESH', 'CE_ENTRY_CONDITIONS', 'PE_ENTRY_CONDITIONS', 'WAIT_BARS_RSI', 'ENTRY2_CONFIRMATION_WINDOW', 'FLEXIBLE_STOCHRSI_CONFIRMATION', 'DEBUG_ENTRY2', 'SKIP_FIRST']
2026-01-22 11:46:25,179 - entry_conditions - INFO - Entry2 confirmation window: 4 candles
2026-01-22 11:46:25,179 - entry_conditions - INFO - Entry2 flexible StochRSI confirmation: True
2026-01-22 11:46:25,179 - entry_conditions - INFO - DEBUG_ENTRY2 is disabled - using production Entry2 with full requirements
2026-01-22 11:46:25,179 - entry_conditions - INFO - ✅ MARKET_SENTIMENT_FILTER is DISABLED - Both CE and PE trades can occur simultaneously regardless of sentiment
2026-01-22 11:46:25,179 - entry_conditions - INFO - Price zone filter enabled (DYNAMIC_ATM): Entry price must be between 20 and 250
2026-01-22 11:46:25,179 - entry_conditions - INFO - Time distribution filter ENABLED - Enabled zones: ['09:15-10:00', '10:00-11:00', '11:00-12:00', '13:00-14:00', '14:00-15:30']
2026-01-22 11:46:25,179 - entry_conditions - INFO - Time distribution filter - Disabled zones (no trade zones): ['12:00-13:00']
2026-01-22 11:46:25,179 - entry_conditions - INFO - SKIP_FIRST feature disabled
2026-01-22 11:46:25,179 - __main__ - INFO - Entry condition manager initialized
2026-01-22 11:46:25,179 - __main__ - INFO - [OK] Strikes derived. Subscribing to CE, PE, and NIFTY 50 tokens (Dynamic ATM, Automated Sentiment enabled).
2026-01-22 11:46:25,179 - __main__ - INFO - WebSocket handler initialized
2026-01-22 11:46:25,179 - __main__ - INFO - Strategy executor initialized
2026-01-22 11:46:25,179 - __main__ - INFO - Initializing Dynamic ATM Strike Manager...
2026-01-22 11:46:25,194 - root - INFO - Attempt 1/3: Fetching NIFTY opening price...
2026-01-22 11:46:25,222 - root - INFO - [OK] Retrieved NIFTY 50 opening price from daily historical data: 25344.15
2026-01-22 11:46:25,222 - root - INFO - NIFTY Price: 25344.15, CE ATM Strike: 25300 (FLOOR), PE ATM Strike: 25350 (CEIL)
2026-01-22 11:46:25,222 - __main__ - INFO - [OK] Dynamic ATM Manager initialized: CE=25300, PE=25350 (NIFTY=25344.15)
2026-01-22 11:46:25,222 - __main__ - INFO - Initializing Automated Market Sentiment Manager...
2026-01-22 11:46:25,223 - __main__ - INFO - Using Market Sentiment v2 (improved implementation)
2026-01-22 11:46:25,227 - market_sentiment_v2.realtime_sentiment_manager - INFO - RealTimeMarketSentimentManager (v2) initialized
2026-01-22 11:46:25,227 - __main__ - INFO - [OK] Automated Market Sentiment Manager (v2) initialized. Analyzer will initialize when first candle is processed (matches backtesting behavior). (config: market_sentiment_v2/config.yaml)
2026-01-22 11:46:25,227 - entry_conditions - INFO - [CONFIG DEBUG] EntryConditionManager initialized. TRADE_SETTINGS keys: ['QUANTITY', 'CAPITAL', 'PRODUCT', 'VALIDATE_ENTRY_RISK', 'REVERSAL_MAX_SWING_LOW_DISTANCE_PERCENT', 'CONTINUATION_MAX_SUPERTREND_DISTANCE_PERCENT', 'STOP_LOSS_PRICE_THRESHOLD', 'STOP_LOSS_PERCENT', 'TAKE_PROFIT_PERCENT', 'DYNAMIC_TRAILING_MA', 'DYNAMIC_TRAILING_MA_THRESH', 'CE_ENTRY_CONDITIONS', 'PE_ENTRY_CONDITIONS', 'WAIT_BARS_RSI', 'ENTRY2_CONFIRMATION_WINDOW', 'FLEXIBLE_STOCHRSI_CONFIRMATION', 'DEBUG_ENTRY2', 'SKIP_FIRST']
2026-01-22 11:46:25,231 - entry_conditions - INFO - Entry2 confirmation window: 4 candles
2026-01-22 11:46:25,231 - entry_conditions - INFO - Entry2 flexible StochRSI confirmation: True
2026-01-22 11:46:25,231 - entry_conditions - INFO - DEBUG_ENTRY2 is disabled - using production Entry2 with full requirements
2026-01-22 11:46:25,231 - entry_conditions - INFO - ✅ MARKET_SENTIMENT_FILTER is DISABLED - Both CE and PE trades can occur simultaneously regardless of sentiment
2026-01-22 11:46:25,231 - entry_conditions - INFO - Price zone filter enabled (DYNAMIC_ATM): Entry price must be between 20 and 250
2026-01-22 11:46:25,231 - entry_conditions - INFO - Time distribution filter ENABLED - Enabled zones: ['09:15-10:00', '10:00-11:00', '11:00-12:00', '13:00-14:00', '14:00-15:30']
2026-01-22 11:46:25,231 - entry_conditions - INFO - Time distribution filter - Disabled zones (no trade zones): ['12:00-13:00']
2026-01-22 11:46:25,231 - entry_conditions - INFO - SKIP_FIRST feature disabled
2026-01-22 11:46:25,231 - __main__ - INFO - Entry condition manager initialized
2026-01-22 11:46:25,231 - realtime_position_manager - INFO - [OK] RealTimePositionManager started (CANDLE_FORMED handler registered for MA trailing)
2026-01-22 11:46:25,231 - __main__ - INFO - [OK] Real-time position manager started
2026-01-22 11:46:25,231 - __main__ - INFO - Performing full reconciliation during initialization...
2026-01-22 11:46:25,267 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 11:46:25,267 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 11:46:25,267 - __main__ - INFO - Full reconciliation completed successfully
2026-01-22 11:46:25,267 - __main__ - INFO - Resetting crossover indices during initialization...
2026-01-22 11:46:25,267 - __main__ - INFO - Crossover indices reset successfully
2026-01-22 11:46:25,267 - __main__ - INFO - [RISK] Risk watchdog loop started
2026-01-22 11:46:25,267 - __main__ - INFO - [RISK] Live MARK2MARKET drawdown watchdog loop started
2026-01-22 11:46:25,267 - __main__ - INFO - [OK] Async Trading Bot initialized successfully
2026-01-22 11:46:25,267 - __main__ - INFO - [START] Starting Async Trading Bot...
2026-01-22 11:46:25,267 - __main__ - INFO - [VERIFY] Event dispatcher status. Running: True, Task: True
2026-01-22 11:46:25,267 - __main__ - INFO - Attempting WebSocket connection (attempt 1/3)...
2026-01-22 11:46:25,268 - async_live_ticker_handler - INFO - Starting async WebSocket listener...
2026-01-22 11:46:25,269 - async_live_ticker_handler - INFO - Async WebSocket is running in a background thread.
2026-01-22 11:46:25,269 - event_system - INFO - [START] Event processing loop started - ready to process events
2026-01-22 11:46:25,269 - __main__ - INFO - [RISK] Risk watchdog loop running
2026-01-22 11:46:25,269 - __main__ - INFO - [RISK] Live MARK2MARKET drawdown watchdog loop running
2026-01-22 11:46:25,283 - async_live_ticker_handler - INFO - Async WebSocket connected successfully. Subscribing to instrument tokens.
2026-01-22 11:46:25,283 - async_live_ticker_handler - INFO - Successfully subscribed to tokens: [15025922, 15028226, 256265]
2026-01-22 11:46:25,370 - async_live_ticker_handler - INFO - WebSocket connection established in 0.10 seconds
2026-01-22 11:46:25,370 - __main__ - INFO - WebSocket connection established successfully
2026-01-22 11:46:25,370 - __main__ - INFO - [CHART] Subscribed to CE, PE, and NIFTY 50 tokens (automated sentiment enabled)
2026-01-22 11:46:25,371 - async_live_ticker_handler - INFO - Prefilling historical data with hybrid approach...
2026-01-22 11:46:25,417 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY26JAN25300CE: 152 candles
2026-01-22 11:46:25,417 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY26JAN25300CE with 152 candles
2026-01-22 11:46:25,629 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY26JAN25300CE
2026-01-22 11:46:25,679 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY26JAN25350PE: 152 candles
2026-01-22 11:46:25,679 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY26JAN25350PE with 152 candles
2026-01-22 11:46:25,697 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY26JAN25350PE
2026-01-22 11:46:25,745 - async_live_ticker_handler - INFO - [CHART] Final candle count for NIFTY 50: 152 candles
2026-01-22 11:46:25,746 - async_live_ticker_handler - INFO - Calculating indicators for NIFTY 50 with 152 candles
2026-01-22 11:46:25,761 - async_live_ticker_handler - INFO - Successfully prefilled historical data and indicators for NIFTY 50
2026-01-22 11:46:25,770 - __main__ - INFO - GTT status check task started
2026-01-22 11:46:25,770 - __main__ - INFO - [OK] Entry conditions will be checked on new candle formation only
2026-01-22 11:46:25,770 - __main__ - INFO - [OK] Async Trading Bot started successfully
2026-01-22 11:46:25,770 - __main__ - INFO - Entering main event loop...
2026-01-22 11:46:25,771 - __main__ - INFO - Starting GTT status check task...
2026-01-22 11:47:00,810 - market_sentiment_v2.realtime_sentiment_manager - INFO - Fetched previous day OHLC from Kite API (date: 2026-01-21): High=25300.95, Low=24919.80, Close=25157.50
2026-01-22 11:47:00,810 - market_sentiment_v2.realtime_sentiment_manager - INFO - CPR Levels calculated for 2026-01-22:
2026-01-22 11:47:00,810 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R4: 25888.38
2026-01-22 11:47:00,810 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R3: 25713.52
2026-01-22 11:47:00,810 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R2: 25507.23
2026-01-22 11:47:00,810 - market_sentiment_v2.realtime_sentiment_manager - INFO -   R1: 25332.37
2026-01-22 11:47:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO -   PIVOT: 25126.08
2026-01-22 11:47:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S1: 24951.22
2026-01-22 11:47:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S2: 24744.93
2026-01-22 11:47:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S3: 24570.07
2026-01-22 11:47:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO -   S4: 24363.78
2026-01-22 11:47:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO - CPR Pivot Width (TC - BC) for 2026-01-22:
2026-01-22 11:47:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO -   TC (Top Central): 25141.79
2026-01-22 11:47:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO -   BC (Bottom Central): 25110.38
2026-01-22 11:47:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO -   CPR_PIVOT_WIDTH: 31.42
2026-01-22 11:47:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO -   Applied dynamic CPR_BAND_WIDTH: 10.00 (based on CPR_PIVOT_WIDTH: 31.42)
2026-01-22 11:47:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO - TradingSentimentAnalyzer (v2) initialized for real-time mode
2026-01-22 11:47:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO - [CATCH-UP] Starting mid-day at 11:46:00. Processing missed candles from 9:15 AM...
2026-01-22 11:47:00,848 - market_sentiment_v2.realtime_sentiment_manager - INFO - [CATCH-UP] Processed 151 missed candles. Current candle history: 151
2026-01-22 11:47:00,848 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:46:00] Market Sentiment: NEUTRAL | OHLC: O=25209.35 H=25209.35 L=25199.70 C=25200.50
2026-01-22 11:47:00,848 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 11:47:00,849 - async_live_ticker_handler - INFO - [11:46:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 11:47:00,849 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:46:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:47:00.849 for sentiment: NEUTRAL
2026-01-22 11:47:00,849 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25204.72
2026-01-22 11:47:00,850 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 11:47:00,850 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 11:47:04,300 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 11:47:04,300 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 11:47:04,300 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 11:47:04,300 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25300CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25350PE -> NIFTY26JAN25250PE
2026-01-22 11:47:04,456 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 11:46:00: old_ce=NIFTY26JAN25300CE(15025922) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25350PE(15028226) -> new_pe=NIFTY26JAN25250PE
2026-01-22 11:47:04,456 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 11:47:04,458 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:47:04,460 - entry_conditions - INFO - [SLAB HANDOFF] Entry2 trigger handed off for NIFTY26JAN25200CE from old_token=15025922 at 11:46:00: W%R9 -85.29->-75.84 crossed -79, W%R28 prev=-91.23 (was_below=True), wpr28_confirmed=False
2026-01-22 11:47:04,462 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:44:00 -> current=11:45:00, expected_timestamp=11:45:00, df_length=151, W%R(9) prev=-89.38 current=-85.08, W%R(28) prev=-92.80 current=-90.97
2026-01-22 11:47:04,463 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping entry condition check - check already in progress for timestamp: 11:47:00
2026-01-22 11:47:04,464 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-89.38, current=-85.08, threshold=-79, W%R(28) prev=-92.80, current=-90.97, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:47:04,466 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:44:00 -> current=11:45:00, expected_timestamp=11:45:00, df_length=151, W%R(9) prev=-17.70 current=-18.37, W%R(28) prev=-13.18 current=-13.08
2026-01-22 11:47:04,467 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-17.70, current=-18.37, threshold=-79, W%R(28) prev=-13.18, current=-13.08, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:48:00,283 - root - INFO - ================================================
2026-01-22 11:48:00,551 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:48:00.551 - Latest candle: 11:47:00, DataFrame length: 152
2026-01-22 11:48:00,556 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:47:00, O: 158.7, H: 169.3, L: 154.3, C: 167.8, ST: Bull (144.37), W%R (9): -3.7, W%R (28): -2.7, K: 96.3, D: 97.0
2026-01-22 11:48:00,557 - async_event_handlers - INFO - [TIMING] New candle completed at 11:47:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:48:00.557 for sentiment: NEUTRAL
2026-01-22 11:48:00,558 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:48:00,559 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:44:00 -> current=11:45:00, expected_timestamp=11:45:00, df_length=151, W%R(9) prev=-89.38 current=-85.08, W%R(28) prev=-92.80 current=-90.97
2026-01-22 11:48:00,560 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-89.38, current=-85.08, threshold=-79, W%R(28) prev=-92.80, current=-90.97, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:48:00,783 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:47:00] Market Sentiment: BEARISH | OHLC: O=25198.35 H=25206.05 L=25180.90 C=25183.65
2026-01-22 11:48:00,784 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 11:48:00,784 - async_live_ticker_handler - INFO - [11:47:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 11:48:00,785 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25200CE'] [ALERT][ALERT][ALERT]
2026-01-22 11:48:00,785 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25192.24, close=25183.65 | Would change: CE 25200->25150, PE 25250->25200
2026-01-22 11:48:00,785 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 11:48:00,803 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:48:00.803 - Latest candle: 11:47:00, DataFrame length: 152
2026-01-22 11:48:00,808 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:47:00, O: 158.8, H: 161.9, L: 150.3, C: 152.3, ST: Bear (172.22), W%R (9): -94.5, W%R (28): -96.5, K: 4.2, D: 3.2
2026-01-22 11:48:00,809 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 11:47:00 (last_check=11:47:00)
2026-01-22 11:49:00,533 - root - INFO - ================================================
2026-01-22 11:49:00,572 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:49:00.572 - Latest candle: 11:48:00, DataFrame length: 153
2026-01-22 11:49:00,577 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:48:00, O: 152.8, H: 158.4, L: 147.7, C: 158.4, ST: Bear (169.69), W%R (9): -69.9, W%R (28): -82.1, K: 13.5, D: 7.3
2026-01-22 11:49:00,594 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:49:00.594 - Latest candle: 11:48:00, DataFrame length: 153
2026-01-22 11:49:00,599 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:48:00, O: 166.4, H: 172.2, L: 158.7, C: 159.2, ST: Bull (147.04), W%R (9): -31.6, W%R (28): -21.9, K: 85.3, D: 92.7
2026-01-22 11:49:00,784 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:48:00] Market Sentiment: BEARISH | OHLC: O=25184.50 H=25195.55 L=25177.85 C=25193.90
2026-01-22 11:49:00,784 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:48:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:49:00.784 for sentiment: BEARISH
2026-01-22 11:49:00,785 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25200CE'] [ALERT][ALERT][ALERT]
2026-01-22 11:49:00,785 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25187.95, close=25193.90 | Would change: CE 25200->25150, PE 25250->25200
2026-01-22 11:49:00,785 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 11:49:00,786 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:49:00,787 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=153)
2026-01-22 11:49:00,788 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:47:00 -> current=11:48:00, expected_timestamp=11:48:00, df_length=153, W%R(9) prev=-94.48 current=-69.87, W%R(28) prev=-96.45 current=-82.10
2026-01-22 11:49:00,788 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-94.48, current=-69.87, threshold=-79, W%R(28) prev=-96.45, current=-82.10, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 11:49:00,788 - entry_conditions - INFO - Entry2: NEW TRIGGER DETECTED for NIFTY26JAN25200CE at bar 3 - replacing old trigger at 0 (W%R(9) crossed and W%R(28) was below threshold, WPR9_INVALIDATION=false, allowing trigger replacement)
2026-01-22 11:49:00,788 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 3 (T, T+1, ..., T+3), window expires at bar 7
2026-01-22 11:49:00,789 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=153)
2026-01-22 11:49:00,790 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:47:00 -> current=11:48:00, expected_timestamp=11:48:00, df_length=153, W%R(9) prev=-3.69 current=-31.60, W%R(28) prev=-2.74 current=-21.95
2026-01-22 11:49:00,790 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-3.69, current=-31.60, threshold=-79, W%R(28) prev=-2.74, current=-21.95, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:50:00,533 - root - INFO - ================================================
2026-01-22 11:50:00,572 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:50:00.571 - Latest candle: 11:49:00, DataFrame length: 154
2026-01-22 11:50:00,577 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:49:00, O: 158.2, H: 167.6, L: 158.2, C: 167.2, ST: Bear (169.69), W%R (9): -42.8, W%R (28): -67.6, K: 33.6, D: 17.1
2026-01-22 11:50:00,784 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:49:00] Market Sentiment: BEARISH | OHLC: O=25193.80 H=25211.80 L=25193.80 C=25211.80
2026-01-22 11:50:00,802 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:50:00.802 - Latest candle: 11:49:00, DataFrame length: 154
2026-01-22 11:50:00,807 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:49:00, O: 158.9, H: 158.9, L: 148.5, C: 148.8, ST: Bull (147.04), W%R (9): -58.8, W%R (28): -39.4, K: 61.7, D: 81.1
2026-01-22 11:50:00,808 - async_event_handlers - INFO - [TIMING] New candle completed at 11:49:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:50:00.808 for sentiment: BEARISH
2026-01-22 11:50:00,809 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:50:00,809 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=154)
2026-01-22 11:50:00,810 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=11:48:00 -> current=11:49:00, expected_timestamp=11:49:00, df_length=154, W%R(9) prev=-69.87 current=-42.84, W%R(28) prev=-82.10 current=-67.61
2026-01-22 11:50:00,811 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-69.87, current=-42.84, threshold=-79, W%R(28) prev=-82.10, current=-67.61, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 11:50:00,811 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25200CE - Slow WPR crossed above -77 (-82.10 -> -67.61), SuperTrend1 bearish
2026-01-22 11:50:00,811 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25200CE (flexible mode) - K=33.61 > D=17.10 and K > 20
2026-01-22 11:50:00,811 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25200CE - All confirmations received! - Current NIFTY=25210.60
2026-01-22 11:50:00,811 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25200CE
2026-01-22 11:50:00,812 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=154)
2026-01-22 11:50:00,813 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:48:00 -> current=11:49:00, expected_timestamp=11:49:00, df_length=154, W%R(9) prev=-31.60 current=-58.77, W%R(28) prev=-21.95 current=-39.44
2026-01-22 11:50:00,813 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-31.60, current=-58.77, threshold=-79, W%R(28) prev=-21.95, current=-39.44, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:50:00,813 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BEARISH sentiment: CE entry condition 2 met. Placing CE trade for NIFTY26JAN25200CE (sentiment filter bypassed).
2026-01-22 11:50:00,814 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25200CE (CE) ===
2026-01-22 11:50:01,318 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25200CE has status: OPEN PENDING. Order ID: 2014221491994288128. Proceeding with caution.
2026-01-22 11:50:01,318 - strategy_executor - INFO - [OK] Entry2 TRADE TAKEN for NIFTY26JAN25200CE - Order ID: 2014221491994288128, Quantity: 65, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 11:50:01,318 - trade_state_manager - INFO - New trade added for NIFTY26JAN25200CE. Manual trade: True. Metadata: {'entry_type': 'Entry2'}
2026-01-22 11:50:01,376 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25200CE: 167.45
2026-01-22 11:50:01,377 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25200CE @ 11:50:01 price=167.45
2026-01-22 11:50:01,377 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25200CE - Checking POSITION_MANAGEMENT config...
2026-01-22 11:50:01,377 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25200CE
2026-01-22 11:50:01,377 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25200CE [OK][OK][OK]
2026-01-22 11:50:01,377 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25200CE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 11:50:01,377 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'calculated_sl_price': 157.4, 'last_sl_price': 157.4}
2026-01-22 11:50:01,378 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25200CE: 3 symbols mapped
2026-01-22 11:50:01,378 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25200CE -> 15024386
2026-01-22 11:50:01,378 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25200CE (Entry=167.45, SL=157.40, TP=None, SuperTrendSL=False) [NOTE][NOTE][NOTE]
2026-01-22 11:50:01,378 - realtime_position_manager - INFO - [NOTE] Active positions count: 1
2026-01-22 11:50:01,379 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25200CE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 11:50:01,379 - entry_conditions - INFO - [OK] Entry2 trade successfully executed for NIFTY26JAN25200CE
2026-01-22 11:51:00,533 - root - INFO - ================================================
2026-01-22 11:51:00,550 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:51:00.550 - Latest candle: 11:50:00, DataFrame length: 155
2026-01-22 11:51:00,556 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:50:00, O: 167.4, H: 176.0, L: 167.4, C: 169.8, ST: Bull (154.81), W%R (9): -21.7, W%R (28): -63.2, K: 61.7, D: 36.2
2026-01-22 11:51:00,669 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'supertrend_sl_active': True}
2026-01-22 11:51:00,670 - realtime_position_manager - INFO - [SYNC] SuperTrend SL ACTIVATED for NIFTY26JAN25200CE: SuperTrend turned bullish, using 154.81 as trailing SL
2026-01-22 11:51:00,670 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'last_sl_price': 154.81, 'calculated_sl_price': 154.81}
2026-01-22 11:51:00,671 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25200CE: 157.40 -> 154.81
2026-01-22 11:51:01,034 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:50:00] Market Sentiment: BULLISH | OHLC: O=25210.60 H=25226.40 L=25210.60 C=25218.40
2026-01-22 11:51:01,034 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 11:51:01,034 - async_live_ticker_handler - INFO - [11:50:00] Market sentiment CHANGED: BEARISH -> BULLISH
2026-01-22 11:51:01,072 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:51:01.072 - Latest candle: 11:50:00, DataFrame length: 155
2026-01-22 11:51:01,077 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:50:00, O: 148.2, H: 148.6, L: 139.1, C: 145.5, ST: Bear (162.60), W%R (9): -76.5, W%R (28): -44.9, K: 32.1, D: 59.7
2026-01-22 11:51:01,079 - async_event_handlers - INFO - [TIMING] New candle completed at 11:50:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:51:01.079 for sentiment: BULLISH
2026-01-22 11:51:01,079 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:51:01,080 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=155)
2026-01-22 11:51:01,119 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 11:51:01,120 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=155)
2026-01-22 11:51:01,121 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:49:00 -> current=11:50:00, expected_timestamp=11:50:00, df_length=155, W%R(9) prev=-58.77 current=-76.50, W%R(28) prev=-39.44 current=-44.91
2026-01-22 11:51:01,121 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-58.77, current=-76.50, threshold=-79, W%R(28) prev=-39.44, current=-44.91, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:52:00,783 - root - INFO - ================================================
2026-01-22 11:52:00,822 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:52:00.822 - Latest candle: 11:51:00, DataFrame length: 156
2026-01-22 11:52:00,827 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:51:00, O: 169.4, H: 170.4, L: 165.2, C: 167.4, ST: Bull (154.81), W%R (9): -30.3, W%R (28): -67.3, K: 79.4, D: 58.2
2026-01-22 11:52:00,851 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'last_sl_price': 154.81, 'calculated_sl_price': 154.81}
2026-01-22 11:52:00,851 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25200CE: 154.81 -> 154.81
2026-01-22 11:52:01,051 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:52:01.051 - Latest candle: 11:51:00, DataFrame length: 156
2026-01-22 11:52:01,056 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:51:00, O: 146.3, H: 151.2, L: 144.8, C: 147.1, ST: Bear (162.60), W%R (9): -75.9, W%R (28): -42.3, K: 15.6, D: 36.5
2026-01-22 11:52:01,058 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:51:00] Market Sentiment: BULLISH | OHLC: O=25219.05 H=25221.50 L=25213.20 C=25219.55
2026-01-22 11:52:01,058 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:51:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:52:01.058 for sentiment: BULLISH
2026-01-22 11:52:01,059 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:52:01,060 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=156)
2026-01-22 11:52:01,189 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 11:52:01,190 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=156)
2026-01-22 11:52:01,191 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:50:00 -> current=11:51:00, expected_timestamp=11:51:00, df_length=156, W%R(9) prev=-76.50 current=-75.87, W%R(28) prev=-44.91 current=-42.30
2026-01-22 11:52:01,191 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-76.50, current=-75.87, threshold=-79, W%R(28) prev=-44.91, current=-42.30, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:53:00,533 - root - INFO - ================================================
2026-01-22 11:53:00,574 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:53:00.574 - Latest candle: 11:52:00, DataFrame length: 157
2026-01-22 11:53:00,579 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:52:00, O: 167.1, H: 169.2, L: 160.3, C: 160.9, ST: Bull (154.81), W%R (9): -53.1, W%R (28): -78.0, K: 75.6, D: 72.2
2026-01-22 11:53:00,583 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'last_sl_price': 154.81, 'calculated_sl_price': 154.81}
2026-01-22 11:53:00,584 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25200CE: 154.81 -> 154.81
2026-01-22 11:53:00,801 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:53:00.801 - Latest candle: 11:52:00, DataFrame length: 157
2026-01-22 11:53:00,806 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:52:00, O: 148.3, H: 158.1, L: 146.4, C: 157.5, ST: Bear (162.60), W%R (9): -44.3, W%R (28): -24.7, K: 22.3, D: 23.3
2026-01-22 11:53:00,808 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:52:00] Market Sentiment: BULLISH | OHLC: O=25219.00 H=25219.70 L=25199.00 C=25199.70
2026-01-22 11:53:00,809 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:52:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:53:00.809 for sentiment: BULLISH
2026-01-22 11:53:00,832 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:53:00,833 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=157)
2026-01-22 11:53:00,890 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 11:53:00,891 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=157)
2026-01-22 11:53:00,892 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:51:00 -> current=11:52:00, expected_timestamp=11:52:00, df_length=157, W%R(9) prev=-75.87 current=-44.34, W%R(28) prev=-42.30 current=-24.73
2026-01-22 11:53:00,892 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-75.87, current=-44.34, threshold=-79, W%R(28) prev=-42.30, current=-24.73, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:54:00,283 - root - INFO - ================================================
2026-01-22 11:54:00,801 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:54:00.801 - Latest candle: 11:53:00, DataFrame length: 158
2026-01-22 11:54:00,807 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:53:00, O: 160.8, H: 164.3, L: 160.3, C: 163.8, ST: Bull (154.81), W%R (9): -43.0, W%R (28): -73.2, K: 73.2, D: 76.0
2026-01-22 11:54:00,824 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:54:00.824 - Latest candle: 11:53:00, DataFrame length: 158
2026-01-22 11:54:00,829 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:53:00, O: 156.9, H: 157.3, L: 152.5, C: 153.5, ST: Bear (162.60), W%R (9): -56.4, W%R (28): -31.5, K: 26.3, D: 21.4
2026-01-22 11:54:00,830 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'last_sl_price': 154.81, 'calculated_sl_price': 154.81}
2026-01-22 11:54:00,830 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:53:00] Market Sentiment: BEARISH | OHLC: O=25199.60 H=25206.30 L=25198.60 C=25205.05
2026-01-22 11:54:00,831 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25200CE: 154.81 -> 154.81
2026-01-22 11:54:00,832 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 11:54:00,832 - async_live_ticker_handler - INFO - [11:53:00] Market sentiment CHANGED: BULLISH -> BEARISH
2026-01-22 11:54:00,856 - async_event_handlers - INFO - [TIMING] New candle completed at 11:53:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:54:00.856 for sentiment: BEARISH
2026-01-22 11:54:00,857 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:54:00,858 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=158)
2026-01-22 11:54:00,895 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 11:54:00,896 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=158)
2026-01-22 11:54:00,897 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:52:00 -> current=11:53:00, expected_timestamp=11:53:00, df_length=158, W%R(9) prev=-44.34 current=-56.41, W%R(28) prev=-24.73 current=-31.46
2026-01-22 11:54:00,897 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-44.34, current=-56.41, threshold=-79, W%R(28) prev=-24.73, current=-31.46, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:55:00,533 - root - INFO - ================================================
2026-01-22 11:55:00,784 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:54:00] Market Sentiment: NEUTRAL | OHLC: O=25205.15 H=25207.40 L=25200.60 C=25202.45
2026-01-22 11:55:00,784 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 11:55:00,785 - async_live_ticker_handler - INFO - [11:54:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 11:55:00,803 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:55:00.803 - Latest candle: 11:54:00, DataFrame length: 159
2026-01-22 11:55:00,809 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:54:00, O: 163.4, H: 164.2, L: 160.1, C: 162.5, ST: Bull (154.81), W%R (9): -47.6, W%R (28): -75.4, K: 68.8, D: 72.5
2026-01-22 11:55:00,827 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:55:00.826 - Latest candle: 11:54:00, DataFrame length: 159
2026-01-22 11:55:00,832 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:54:00, O: 153.4, H: 157.8, L: 152.4, C: 154.6, ST: Bear (162.60), W%R (9): -53.2, W%R (28): -29.7, K: 31.2, D: 26.6
2026-01-22 11:55:00,833 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'last_sl_price': 154.81, 'calculated_sl_price': 154.81}
2026-01-22 11:55:00,833 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25200CE: 154.81 -> 154.81
2026-01-22 11:55:00,835 - async_event_handlers - INFO - [TIMING] New candle completed at 11:54:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:55:00.835 for sentiment: NEUTRAL
2026-01-22 11:55:00,835 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:55:00,875 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 11:55:00,876 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:53:00 -> current=11:54:00, expected_timestamp=11:54:00, df_length=159, W%R(9) prev=-56.41 current=-53.24, W%R(28) prev=-31.46 current=-29.69
2026-01-22 11:55:00,876 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-56.41, current=-53.24, threshold=-79, W%R(28) prev=-31.46, current=-29.69, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:56:00,783 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:55:00] Market Sentiment: NEUTRAL | OHLC: O=25202.25 H=25211.35 L=25201.20 C=25201.60
2026-01-22 11:56:00,784 - root - INFO - ================================================
2026-01-22 11:56:00,802 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:56:00.802 - Latest candle: 11:55:00, DataFrame length: 160
2026-01-22 11:56:00,808 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:55:00, O: 162.8, H: 167.8, L: 159.8, C: 160.0, ST: Bull (154.81), W%R (9): -56.4, W%R (28): -77.4, K: 69.4, D: 70.5
2026-01-22 11:56:00,825 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:56:00.825 - Latest candle: 11:55:00, DataFrame length: 160
2026-01-22 11:56:00,830 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:55:00, O: 153.9, H: 158.5, L: 148.6, C: 157.7, ST: Bear (162.60), W%R (9): -43.9, W%R (28): -26.5, K: 28.9, D: 28.8
2026-01-22 11:56:00,853 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'last_sl_price': 154.81, 'calculated_sl_price': 154.81}
2026-01-22 11:56:00,854 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25200CE: 154.81 -> 154.81
2026-01-22 11:56:00,855 - async_event_handlers - INFO - [TIMING] New candle completed at 11:55:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:56:00.855 for sentiment: NEUTRAL
2026-01-22 11:56:00,856 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:56:00,896 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 11:56:00,897 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:54:00 -> current=11:55:00, expected_timestamp=11:55:00, df_length=160, W%R(9) prev=-53.24 current=-43.89, W%R(28) prev=-29.69 current=-26.50
2026-01-22 11:56:00,898 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-53.24, current=-43.89, threshold=-79, W%R(28) prev=-29.69, current=-26.50, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:57:00,533 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:56:00] Market Sentiment: BEARISH | OHLC: O=25200.15 H=25204.35 L=25198.30 C=25201.60
2026-01-22 11:57:00,534 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 11:57:00,534 - async_live_ticker_handler - INFO - [11:56:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 11:57:00,784 - root - INFO - ================================================
2026-01-22 11:57:00,802 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:57:00.802 - Latest candle: 11:56:00, DataFrame length: 161
2026-01-22 11:57:00,808 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:56:00, O: 157.8, H: 160.4, L: 154.3, C: 155.4, ST: Bear (162.60), W%R (9): -50.7, W%R (28): -35.3, K: 30.0, D: 30.0
2026-01-22 11:57:01,072 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:57:01.072 - Latest candle: 11:56:00, DataFrame length: 161
2026-01-22 11:57:01,078 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:56:00, O: 159.7, H: 163.0, L: 158.6, C: 162.8, ST: Bull (154.81), W%R (9): -46.6, W%R (28): -66.0, K: 69.5, D: 69.2
2026-01-22 11:57:01,101 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'last_sl_price': 154.81, 'calculated_sl_price': 154.81}
2026-01-22 11:57:01,101 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25200CE: 154.81 -> 154.81
2026-01-22 11:57:01,102 - async_event_handlers - INFO - [TIMING] New candle completed at 11:56:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:57:01.101 for sentiment: BEARISH
2026-01-22 11:57:01,103 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:57:01,104 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=161)
2026-01-22 11:57:01,145 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 11:57:01,145 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=161)
2026-01-22 11:57:01,146 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:55:00 -> current=11:56:00, expected_timestamp=11:56:00, df_length=161, W%R(9) prev=-43.89 current=-50.68, W%R(28) prev=-26.50 current=-35.26
2026-01-22 11:57:01,147 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-43.89, current=-50.68, threshold=-79, W%R(28) prev=-26.50, current=-35.26, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:58:00,533 - root - INFO - ================================================
2026-01-22 11:58:00,823 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:58:00.823 - Latest candle: 11:57:00, DataFrame length: 162
2026-01-22 11:58:00,828 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:57:00, O: 162.3, H: 163.2, L: 159.3, C: 160.2, ST: Bull (154.81), W%R (9): -88.7, W%R (28): -71.1, K: 67.4, D: 68.8
2026-01-22 11:58:00,845 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:58:00.845 - Latest candle: 11:57:00, DataFrame length: 162
2026-01-22 11:58:00,850 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:57:00, O: 155.1, H: 159.6, L: 154.5, C: 158.7, ST: Bear (162.60), W%R (9): -8.2, W%R (28): -28.8, K: 33.9, D: 30.9
2026-01-22 11:58:00,852 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'last_sl_price': 154.81, 'calculated_sl_price': 154.81}
2026-01-22 11:58:00,853 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25200CE: 154.81 -> 154.81
2026-01-22 11:58:01,034 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:57:00] Market Sentiment: BEARISH | OHLC: O=25202.15 H=25204.60 L=25198.45 C=25200.15
2026-01-22 11:58:01,034 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 11:57:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:58:01.034 for sentiment: BEARISH
2026-01-22 11:58:01,035 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:58:01,036 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=162)
2026-01-22 11:58:01,075 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 11:58:01,076 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=162)
2026-01-22 11:58:01,076 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:56:00 -> current=11:57:00, expected_timestamp=11:57:00, df_length=162, W%R(9) prev=-50.68 current=-8.18, W%R(28) prev=-35.26 current=-28.75
2026-01-22 11:58:01,077 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-50.68, current=-8.18, threshold=-79, W%R(28) prev=-35.26, current=-28.75, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:59:00,783 - root - INFO - ================================================
2026-01-22 11:59:00,801 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 11:59:00.801 - Latest candle: 11:58:00, DataFrame length: 163
2026-01-22 11:59:00,807 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 11:58:00, O: 158.6, H: 162.1, L: 156.9, C: 161.7, ST: Bear (162.60), W%R (9): -1.7, W%R (28): -22.4, K: 37.8, D: 33.9
2026-01-22 11:59:00,831 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:58:00] Market Sentiment: BEARISH | OHLC: O=25198.40 H=25200.80 L=25191.30 C=25194.20
2026-01-22 11:59:00,832 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Active trades detected: ['NIFTY26JAN25200CE'] [ALERT][ALERT][ALERT]
2026-01-22 11:59:00,832 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25196.17, close=25194.20 | Would change: CE 25200->25150, PE 25250->25200
2026-01-22 11:59:00,833 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect active positions. Will retry after all trades exit.
2026-01-22 11:59:00,872 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 11:59:00.872 - Latest candle: 11:58:00, DataFrame length: 163
2026-01-22 11:59:00,878 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:58:00, O: 160.4, H: 161.4, L: 156.4, C: 157.2, ST: Bull (154.81), W%R (9): -96.4, W%R (28): -78.2, K: 64.2, D: 67.1
2026-01-22 11:59:00,879 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'last_sl_price': 154.81, 'calculated_sl_price': 154.81}
2026-01-22 11:59:00,880 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25200CE: 154.81 -> 154.81
2026-01-22 11:59:00,880 - async_event_handlers - INFO - [TIMING] New candle completed at 11:58:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 11:59:00.880 for sentiment: BEARISH
2026-01-22 11:59:00,881 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 11:59:00,882 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=163)
2026-01-22 11:59:00,918 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 11:59:00,918 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=163)
2026-01-22 11:59:00,919 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=11:57:00 -> current=11:58:00, expected_timestamp=11:58:00, df_length=163, W%R(9) prev=-8.18 current=-1.74, W%R(28) prev=-28.75 current=-22.36
2026-01-22 11:59:00,920 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-8.18, current=-1.74, threshold=-79, W%R(28) prev=-28.75, current=-22.36, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 11:59:21,034 - realtime_position_manager - WARNING - [STOP] SL TRIGGERED: NIFTY26JAN25200CE - LTP=154.15 <= SL=154.81 (gap=0.66, 0.43%)
2026-01-22 11:59:21,034 - immediate_exit_executor - INFO - [START] Executing exit: NIFTY26JAN25200CE - SL @ 154.15 (qty=65)
2026-01-22 11:59:21,074 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25200CE @ 11:59:21 price=154.15 pnl=-7.94% reason=SL
2026-01-22 11:59:21,074 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25200CE: SL @ 154.15
2026-01-22 11:59:21,170 - immediate_exit_executor - WARNING - [UNKNOWN EXIT ORDER STATUS] Exit order for NIFTY26JAN25200CE has status: OPEN PENDING. Order ID: 2014223841400119296. Proceeding with caution.
2026-01-22 11:59:21,170 - immediate_exit_executor - INFO - [OK] Market exit order placed: NIFTY26JAN25200CE - Order ID: 2014223841400119296 (Status: OPEN PENDING, attempt 1/3)
2026-01-22 11:59:21,246 - realtime_position_manager - WARNING - [WARN] Exit signal already dispatched for NIFTY26JAN25200CE, skipping duplicate SL trigger on this tick
2026-01-22 11:59:21,247 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25200CE
2026-01-22 11:59:21,708 - immediate_exit_executor - INFO - [OK] Position validated closed: NIFTY26JAN25200CE (Order ID: 2014223841400119296)
2026-01-22 11:59:21,708 - immediate_exit_executor - CRITICAL - [OK][OK][OK] Exit executed successfully: NIFTY26JAN25200CE - SL @ 154.15 (Order ID: 2014223841400119296) [OK][OK][OK]
2026-01-22 12:00:00,533 - root - INFO - ================================================
2026-01-22 12:00:00,551 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:00:00.551 - Latest candle: 11:59:00, DataFrame length: 164
2026-01-22 12:00:00,557 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 11:59:00, O: 157.2, H: 158.9, L: 154.1, C: 155.0, ST: Bull (154.81), W%R (9): -94.2, W%R (28): -83.2, K: 51.9, D: 61.2
2026-01-22 12:00:00,784 - market_sentiment_v2.realtime_sentiment_manager - INFO - [11:59:00] Market Sentiment: BEARISH | OHLC: O=25192.95 H=25194.25 L=25185.90 C=25188.20
2026-01-22 12:00:00,785 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25190.33
2026-01-22 12:00:00,786 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 12:00:00,786 - root - INFO - Generated symbols: CE=NIFTY26JAN25150CE, PE=NIFTY26JAN25200PE
2026-01-22 12:00:04,193 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 12:00:04,193 - root - INFO - CE: NIFTY26JAN25150CE (Token: 15018754)
2026-01-22 12:00:04,193 - root - INFO - PE: NIFTY26JAN25200PE (Token: 15024642)
2026-01-22 12:00:04,193 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25200CE -> NIFTY26JAN25150CE, PE: NIFTY26JAN25250PE -> NIFTY26JAN25200PE
2026-01-22 12:00:04,328 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 11:59:00: old_ce=NIFTY26JAN25200CE(15024386) -> new_ce=NIFTY26JAN25150CE, old_pe=NIFTY26JAN25250PE(15025666) -> new_pe=NIFTY26JAN25200PE
2026-01-22 12:00:04,328 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25150CE, PE=NIFTY26JAN25200PE
2026-01-22 12:00:04,376 - async_event_handlers - INFO - [TIMING] New candle completed at 12:00:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:00:04.376 for sentiment: BEARISH
2026-01-22 12:00:04,377 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:00:04 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:00:04,377 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 12:00:04,378 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=164)
2026-01-22 12:00:04,384 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=11:57:00 -> current=11:58:00, expected_timestamp=11:58:00, df_length=164, W%R(9) prev=-86.68 current=-97.70, W%R(28) prev=-70.70 current=-78.89
2026-01-22 12:00:04,384 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-86.68, current=-97.70, threshold=-79, W%R(28) prev=-70.70, current=-78.89, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 12:00:04,385 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=164)
2026-01-22 12:00:04,386 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=11:57:00 -> current=11:58:00, expected_timestamp=11:58:00, df_length=164, W%R(9) prev=-7.65 current=-1.42, W%R(28) prev=-28.28 current=-21.60
2026-01-22 12:00:04,386 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-7.65, current=-1.42, threshold=-79, W%R(28) prev=-28.28, current=-21.60, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:01:00,783 - root - INFO - ================================================
2026-01-22 12:01:00,824 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 12:01:00.824 - Latest candle: 12:00:00, DataFrame length: 165
2026-01-22 12:01:00,829 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 12:00:00, O: 184.0, H: 186.8, L: 181.1, C: 183.3, ST: Bull (182.81), W%R (9): -88.2, W%R (28): -82.9, K: 51.6, D: 60.5
2026-01-22 12:01:00,847 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 12:01:00.847 - Latest candle: 12:00:00, DataFrame length: 165
2026-01-22 12:01:00,852 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 12:00:00, O: 138.6, H: 143.0, L: 135.8, C: 140.8, ST: Bull (125.28), W%R (9): -10.5, W%R (28): -14.0, K: 49.3, D: 40.6
2026-01-22 12:01:00,855 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:00:00 (last_check=12:00:00)
2026-01-22 12:01:00,855 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:00:00] Market Sentiment: BEARISH | OHLC: O=25188.80 H=25193.75 L=25183.30 C=25184.35
2026-01-22 12:01:00,856 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:00:00 (last_check=12:00:00)
2026-01-22 12:02:00,533 - root - INFO - ================================================
2026-01-22 12:02:00,574 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 12:02:00.573 - Latest candle: 12:01:00, DataFrame length: 166
2026-01-22 12:02:00,580 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 12:01:00, O: 183.4, H: 192.7, L: 182.1, C: 189.2, ST: Bull (182.81), W%R (9): -55.2, W%R (28): -70.9, K: 55.2, D: 56.6
2026-01-22 12:02:00,598 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 12:02:00.598 - Latest candle: 12:01:00, DataFrame length: 166
2026-01-22 12:02:00,604 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 12:01:00, O: 140.2, H: 141.9, L: 132.4, C: 135.3, ST: Bull (125.28), W%R (9): -39.7, W%R (28): -27.4, K: 46.2, D: 44.6
2026-01-22 12:02:00,784 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:01:00] Market Sentiment: BEARISH | OHLC: O=25184.45 H=25195.95 L=25183.80 C=25195.60
2026-01-22 12:02:00,784 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 12:01:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:02:00.784 for sentiment: BEARISH
2026-01-22 12:02:00,809 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:02:00 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:02:00,810 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 12:02:00,812 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=166)
2026-01-22 12:02:00,813 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=12:00:00 -> current=12:01:00, expected_timestamp=12:01:00, df_length=166, W%R(9) prev=-88.21 current=-55.22, W%R(28) prev=-82.89 current=-70.90
2026-01-22 12:02:00,813 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-88.21, current=-55.22, threshold=-79, W%R(28) prev=-82.89, current=-70.90, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 12:02:00,815 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=166)
2026-01-22 12:02:00,816 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=12:00:00 -> current=12:01:00, expected_timestamp=12:01:00, df_length=166, W%R(9) prev=-10.46 current=-39.69, W%R(28) prev=-13.96 current=-27.43
2026-01-22 12:02:00,816 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-10.46, current=-39.69, threshold=-79, W%R(28) prev=-13.96, current=-27.43, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:03:00,533 - root - INFO - ================================================
2026-01-22 12:03:00,552 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 12:03:00.552 - Latest candle: 12:02:00, DataFrame length: 167
2026-01-22 12:03:00,558 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 12:02:00, O: 134.3, H: 141.4, L: 133.8, C: 139.3, ST: Bull (125.28), W%R (9): -21.2, W%R (28): -17.7, K: 54.5, D: 50.0
2026-01-22 12:03:00,784 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:02:00] Market Sentiment: BEARISH | OHLC: O=25195.90 H=25198.30 L=25187.95 C=25188.65
2026-01-22 12:03:01,051 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 12:03:01.051 - Latest candle: 12:02:00, DataFrame length: 167
2026-01-22 12:03:01,057 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 12:02:00, O: 190.3, H: 190.9, L: 182.4, C: 184.5, ST: Bull (182.81), W%R (9): -78.4, W%R (28): -80.3, K: 47.4, D: 51.4
2026-01-22 12:03:01,081 - async_event_handlers - INFO - [TIMING] New candle completed at 12:02:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:03:01.081 for sentiment: BEARISH
2026-01-22 12:03:01,083 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:03:01 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:03:01,084 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 12:03:01,085 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=167)
2026-01-22 12:03:01,086 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=12:01:00 -> current=12:02:00, expected_timestamp=12:02:00, df_length=167, W%R(9) prev=-55.22 current=-78.44, W%R(28) prev=-70.90 current=-80.31
2026-01-22 12:03:01,086 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-55.22, current=-78.44, threshold=-79, W%R(28) prev=-70.90, current=-80.31, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 12:03:01,088 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=167)
2026-01-22 12:03:01,089 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=12:01:00 -> current=12:02:00, expected_timestamp=12:02:00, df_length=167, W%R(9) prev=-39.69 current=-21.16, W%R(28) prev=-27.43 current=-17.66
2026-01-22 12:03:01,089 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-39.69, current=-21.16, threshold=-79, W%R(28) prev=-27.43, current=-17.66, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:04:00,784 - root - INFO - ================================================
2026-01-22 12:04:00,802 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 12:04:00.802 - Latest candle: 12:03:00, DataFrame length: 168
2026-01-22 12:04:00,808 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 12:03:00, O: 183.8, H: 193.8, L: 183.8, C: 193.8, ST: Bull (182.81), W%R (9): -20.6, W%R (28): -61.1, K: 67.1, D: 56.5
2026-01-22 12:04:00,850 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 12:04:00.849 - Latest candle: 12:03:00, DataFrame length: 168
2026-01-22 12:04:00,855 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 12:03:00, O: 139.7, H: 139.9, L: 129.7, C: 129.7, ST: Bull (125.28), W%R (9): -77.4, W%R (28): -41.3, K: 34.3, D: 45.0
2026-01-22 12:04:00,857 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:03:00] Market Sentiment: BEARISH | OHLC: O=25189.25 H=25203.55 L=25186.85 C=25203.55
2026-01-22 12:04:00,930 - async_event_handlers - INFO - [TIMING] New candle completed at 12:03:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:04:00.930 for sentiment: BEARISH
2026-01-22 12:04:00,936 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 12:04:00,937 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=168)
2026-01-22 12:04:00,939 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=12:02:00 -> current=12:03:00, expected_timestamp=12:03:00, df_length=168, W%R(9) prev=-78.44 current=-20.63, W%R(28) prev=-80.31 current=-61.14
2026-01-22 12:04:00,939 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-78.44, current=-20.63, threshold=-79, W%R(28) prev=-80.31, current=-61.14, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 12:04:00,940 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=168)
2026-01-22 12:04:00,941 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200PE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=129.65, close=129.65
2026-01-22 12:05:00,533 - root - INFO - ================================================
2026-01-22 12:05:00,621 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 12:05:00.621 - Latest candle: 12:04:00, DataFrame length: 169
2026-01-22 12:05:00,627 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 12:04:00, O: 193.4, H: 196.6, L: 188.9, C: 196.6, ST: Bull (182.81), W%R (9): -3.1, W%R (28): -55.3, K: 75.1, D: 63.2
2026-01-22 12:05:00,645 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 12:05:00.645 - Latest candle: 12:04:00, DataFrame length: 169
2026-01-22 12:05:00,651 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 12:04:00, O: 129.9, H: 134.1, L: 126.5, C: 127.3, ST: Bull (125.28), W%R (9): -90.7, W%R (28): -46.9, K: 24.7, D: 37.8
2026-01-22 12:05:00,784 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:04:00] Market Sentiment: NEUTRAL | OHLC: O=25203.00 H=25207.05 L=25197.80 C=25207.05
2026-01-22 12:05:00,785 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 12:05:00,785 - async_live_ticker_handler - INFO - [12:04:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 12:05:00,785 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 12:04:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:05:00.785 for sentiment: NEUTRAL
2026-01-22 12:05:00,786 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25203.72
2026-01-22 12:05:00,787 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 12:05:00,787 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 12:05:04,277 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 12:05:04,277 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 12:05:04,277 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 12:05:04,277 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25150CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25200PE -> NIFTY26JAN25250PE
2026-01-22 12:05:04,414 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 12:04:00: old_ce=NIFTY26JAN25150CE(15018754) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25200PE(15024642) -> new_pe=NIFTY26JAN25250PE
2026-01-22 12:05:04,414 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 12:05:04,439 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:05:04 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:05:04,444 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping entry condition check - check already in progress for timestamp: 12:05:00
2026-01-22 12:05:04,445 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:05:04,451 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:03:00 -> current=12:04:00, expected_timestamp=12:04:00, df_length=170, W%R(9) prev=-24.07 current=-6.45, W%R(28) prev=-62.04 current=-53.77
2026-01-22 12:05:04,451 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-24.07, current=-6.45, threshold=-79, W%R(28) prev=-62.04, current=-53.77, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:05:04,452 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250PE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=151.0, close=151.0
2026-01-22 12:06:00,533 - root - INFO - ================================================
2026-01-22 12:06:00,856 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:05:00] Market Sentiment: BULLISH | OHLC: O=25207.70 H=25218.75 L=25207.35 C=25218.75
2026-01-22 12:06:00,857 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 12:06:00,857 - async_live_ticker_handler - INFO - [12:05:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 12:06:00,857 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 12:05:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:06:00.857 for sentiment: BULLISH
2026-01-22 12:06:00,876 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:06:00.876 - Latest candle: 12:05:00, DataFrame length: 171
2026-01-22 12:06:00,882 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:05:00, O: 166.0, H: 172.2, L: 165.8, C: 172.2, ST: Bull (155.20), W%R (9): 0.0, W%R (28): -38.3, K: 100.0, D: 80.3
2026-01-22 12:06:00,900 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:06:00.900 - Latest candle: 12:05:00, DataFrame length: 171
2026-01-22 12:06:00,905 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:05:00, O: 150.3, H: 151.1, L: 144.3, C: 144.5, ST: Bear (163.84), W%R (9): -99.2, W%R (28): -61.8, K: 0.0, D: 20.8
2026-01-22 12:06:00,906 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:05:00 (last_check=12:05:00)
2026-01-22 12:06:00,907 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:06:00,908 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:05:00 (last_check=12:05:00)
2026-01-22 12:06:00,909 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=171)
2026-01-22 12:06:00,910 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:04:00 -> current=12:05:00, expected_timestamp=12:05:00, df_length=171, W%R(9) prev=-6.45 current=0.00, W%R(28) prev=-53.77 current=-38.32
2026-01-22 12:06:00,910 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-6.45, current=0.00, threshold=-79, W%R(28) prev=-53.77, current=-38.32, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:06:00,911 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=171)
2026-01-22 12:06:00,912 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:04:00 -> current=12:05:00, expected_timestamp=12:05:00, df_length=171, W%R(9) prev=-100.00 current=-99.15, W%R(28) prev=-47.32 current=-61.83
2026-01-22 12:06:00,912 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-100.00, current=-99.15, threshold=-79, W%R(28) prev=-47.32, current=-61.83, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:07:00,533 - root - INFO - ================================================
2026-01-22 12:07:00,552 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:07:00.552 - Latest candle: 12:06:00, DataFrame length: 172
2026-01-22 12:07:00,558 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:06:00, O: 143.6, H: 148.0, L: 140.7, C: 147.8, ST: Bear (160.33), W%R (9): -73.9, W%R (28): -59.2, K: 4.9, D: 9.9
2026-01-22 12:07:00,825 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:07:00.825 - Latest candle: 12:06:00, DataFrame length: 172
2026-01-22 12:07:00,831 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:06:00, O: 172.2, H: 176.1, L: 168.7, C: 169.6, ST: Bull (158.47), W%R (9): -28.0, W%R (28): -38.8, K: 95.2, D: 90.2
2026-01-22 12:07:00,901 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:06:00] Market Sentiment: BULLISH | OHLC: O=25219.45 H=25227.10 L=25213.80 C=25213.95
2026-01-22 12:07:00,905 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 12:06:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:07:00.905 for sentiment: BULLISH
2026-01-22 12:07:00,907 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:07:00 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:07:00,907 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:07:00,908 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=172)
2026-01-22 12:07:00,908 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:05:00 -> current=12:06:00, expected_timestamp=12:06:00, df_length=172, W%R(9) prev=0.00 current=-27.98, W%R(28) prev=-38.32 current=-38.77
2026-01-22 12:07:00,909 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=0.00, current=-27.98, threshold=-79, W%R(28) prev=-38.32, current=-38.77, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:07:00,910 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=172)
2026-01-22 12:07:00,910 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:05:00 -> current=12:06:00, expected_timestamp=12:06:00, df_length=172, W%R(9) prev=-99.15 current=-73.89, W%R(28) prev=-61.83 current=-59.20
2026-01-22 12:07:00,911 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-99.15, current=-73.89, threshold=-79, W%R(28) prev=-61.83, current=-59.20, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:07:46,020 - async_api_server - INFO - Received async command: BUY_CE
2026-01-22 12:07:46,020 - event_system - INFO - [DISPATCH] USER_COMMAND event 'BUY_CE' added to queue. Queue size: 0, Dispatcher running: True
2026-01-22 12:07:46,021 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:12:07:46 +0530] "POST /command HTTP/1.1" 200 243 "-" "python-requests/2.32.4"
2026-01-22 12:07:46,021 - event_system - INFO - [QUEUE] Retrieved USER_COMMAND event from queue: BUY_CE
2026-01-22 12:07:46,021 - event_system - INFO - [EVENT] Processing user_command with 1 handlers
2026-01-22 12:07:46,021 - async_event_handlers - INFO - Processing user command: BUY_CE
2026-01-22 12:07:46,021 - async_event_handlers - INFO - === MANUAL TRADE COMMAND RECEIVED: BUY_CE for NIFTY26JAN25200CE ===
2026-01-22 12:07:46,021 - trade_state_manager - INFO - Symbol NIFTY26JAN25200CE not found in active trades, nothing to clear
2026-01-22 12:07:46,022 - async_event_handlers - INFO - Performing non-blocking reconciliation with broker positions after force clear...
2026-01-22 12:07:46,058 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 12:07:46,058 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 12:07:46,058 - async_event_handlers - INFO - Reconciliation completed.
2026-01-22 12:07:46,058 - async_event_handlers - INFO - Executing trade entry for NIFTY26JAN25200CE via strategy executor...
2026-01-22 12:07:46,058 - async_event_handlers - INFO - Executing manual trade entry for NIFTY26JAN25200CE with command BUY_CE
2026-01-22 12:07:46,059 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25200CE (BUY_CE) ===
2026-01-22 12:07:46,523 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:12:07:46 +0530] "GET /get_config?key=MANUAL_MARKET_SENTIMENT HTTP/1.1" 200 231 "-" "python-requests/2.32.4"
2026-01-22 12:07:46,562 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25200CE has status: OPEN PENDING. Order ID: 2014225959901126656. Proceeding with caution.
2026-01-22 12:07:46,562 - strategy_executor - INFO - Successfully placed entry order for NIFTY26JAN25200CE. Order ID: 2014225959901126656, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 12:07:46,562 - trade_state_manager - INFO - New trade added for NIFTY26JAN25200CE. Manual trade: True. Metadata: {'entry_type': 'Manual'}
2026-01-22 12:07:46,599 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25200CE: 176.7
2026-01-22 12:07:46,600 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25200CE @ 12:07:46 price=176.70
2026-01-22 12:07:46,600 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25200CE - Checking POSITION_MANAGEMENT config...
2026-01-22 12:07:46,600 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25200CE
2026-01-22 12:07:46,600 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25200CE [OK][OK][OK]
2026-01-22 12:07:46,600 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25200CE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 12:07:46,601 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'supertrend_sl_active': True}
2026-01-22 12:07:46,601 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'calculated_sl_price': 158.45, 'last_sl_price': 158.45, 'supertrend_sl_active': True}
2026-01-22 12:07:46,603 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25200CE: 3 symbols mapped
2026-01-22 12:07:46,603 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25200CE -> 15024386
2026-01-22 12:07:46,603 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25200CE (Entry=176.70, SL=158.45, TP=None, SuperTrendSL=True) [NOTE][NOTE][NOTE]
2026-01-22 12:07:46,603 - realtime_position_manager - INFO - [NOTE] Active positions count: 1
2026-01-22 12:07:46,603 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25200CE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 12:08:00,533 - root - INFO - ================================================
2026-01-22 12:08:00,599 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:08:00.599 - Latest candle: 12:07:00, DataFrame length: 173
2026-01-22 12:08:00,605 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:07:00, O: 147.1, H: 149.9, L: 139.4, C: 141.0, ST: Bear (160.33), W%R (9): -94.3, W%R (28): -78.2, K: 4.9, D: 3.2
2026-01-22 12:08:00,784 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:07:00] Market Sentiment: BULLISH | OHLC: O=25214.50 H=25226.90 L=25211.25 C=25225.20
2026-01-22 12:08:00,804 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:08:00.803 - Latest candle: 12:07:00, DataFrame length: 173
2026-01-22 12:08:00,809 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:07:00, O: 169.6, H: 177.5, L: 167.6, C: 175.8, ST: Bull (158.47), W%R (9): -6.9, W%R (28): -17.7, K: 95.2, D: 96.8
2026-01-22 12:08:00,833 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'last_sl_price': 158.47, 'calculated_sl_price': 158.47}
2026-01-22 12:08:00,834 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25200CE: 158.45 -> 158.47
2026-01-22 12:08:00,834 - async_event_handlers - INFO - [TIMING] New candle completed at 12:07:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:08:00.834 for sentiment: BULLISH
2026-01-22 12:08:00,835 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:08:00,835 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=173)
2026-01-22 12:08:00,882 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 12:08:00,883 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=173)
2026-01-22 12:08:00,884 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:06:00 -> current=12:07:00, expected_timestamp=12:07:00, df_length=173, W%R(9) prev=-73.89 current=-94.35, W%R(28) prev=-59.20 current=-78.20
2026-01-22 12:08:00,884 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-73.89, current=-94.35, threshold=-79, W%R(28) prev=-59.20, current=-78.20, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 12:08:16,884 - async_api_server - INFO - Received async command: FORCE_EXIT
2026-01-22 12:08:16,884 - event_system - INFO - [DISPATCH] USER_COMMAND event 'FORCE_EXIT' added to queue. Queue size: 0, Dispatcher running: True
2026-01-22 12:08:16,885 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:12:08:16 +0530] "POST /command HTTP/1.1" 200 247 "-" "python-requests/2.32.4"
2026-01-22 12:08:16,885 - event_system - INFO - [QUEUE] Retrieved USER_COMMAND event from queue: FORCE_EXIT
2026-01-22 12:08:16,885 - event_system - INFO - [EVENT] Processing user_command with 1 handlers
2026-01-22 12:08:16,885 - async_event_handlers - INFO - Processing user command: FORCE_EXIT
2026-01-22 12:08:16,885 - async_event_handlers - INFO - === FORCE EXIT COMMAND RECEIVED ===
2026-01-22 12:08:16,885 - async_event_handlers - INFO - Performing reconciliation with broker positions before force exit...
2026-01-22 12:08:16,942 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 12:08:16,942 - trade_state_manager - INFO - Found 1 active positions in broker: ['NIFTY26JAN25200CE']
2026-01-22 12:08:16,942 - trade_state_manager - INFO - Found 1 active trades in state: ['NIFTY26JAN25200CE']
2026-01-22 12:08:16,942 - trade_state_manager - INFO - Reconciliation: No stale trades found.
2026-01-22 12:08:16,942 - trade_state_manager - INFO - Reconciliation: No untracked positions found.
2026-01-22 12:08:16,943 - async_event_handlers - INFO - Reconciliation completed before force exit.
2026-01-22 12:08:16,943 - async_event_handlers - INFO - --- FORCE EXIT ALL POSITIONS INITIATED ---
2026-01-22 12:08:16,943 - async_event_handlers - INFO - Force Exit: Found 1 active trade(s) to close: ['NIFTY26JAN25200CE']
2026-01-22 12:08:16,943 - async_event_handlers - INFO - --- Attempting to force exit for symbol: NIFTY26JAN25200CE ---
2026-01-22 12:08:16,944 - strategy_executor - INFO - No GTT ID found for NIFTY26JAN25200CE. Proceeding with market exit order.
2026-01-22 12:08:16,944 - strategy_executor - INFO - Got current LTP for NIFTY26JAN25200CE from ticker handler: 179.2
2026-01-22 12:08:16,944 - strategy_executor - INFO - Updating ledger for NIFTY26JAN25200CE with exit price 179.2 (entry: 176.7)
2026-01-22 12:08:16,945 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25200CE @ 12:08:16 price=179.20 pnl=1.41% reason=FORCE_EXIT
2026-01-22 12:08:16,945 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25200CE: FORCE_EXIT @ 179.20
2026-01-22 12:08:16,946 - strategy_executor - INFO - Successfully updated ledger and removed NIFTY26JAN25200CE from active trades
2026-01-22 12:08:16,946 - strategy_executor - INFO - Placing force exit MARKET order with params: {'tradingsymbol': 'NIFTY26JAN25200CE', 'exchange': 'NFO', 'transaction_type': 'SELL', 'quantity': 65, 'product': 'NRML', 'order_type': 'MARKET', 'variety': 'regular'}
2026-01-22 12:08:16,994 - strategy_executor - INFO - Successfully placed force exit MARKET order for NIFTY26JAN25200CE. Order ID: 2014226088993415168
2026-01-22 12:08:17,034 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 12:08:17,034 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 12:08:17,035 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25200CE
2026-01-22 12:08:17,035 - trade_state_manager - INFO - Symbol NIFTY26JAN25200CE not found in active trades, nothing to clear
2026-01-22 12:08:17,035 - async_event_handlers - INFO - --- FORCE EXIT ALL POSITIONS COMPLETED ---
2026-01-22 12:08:17,035 - async_event_handlers - INFO - Explicitly resetting crossover indices after force exit of all positions
2026-01-22 12:08:17,035 - async_event_handlers - INFO - Successfully reset crossover indices after force exit of all positions
2026-01-22 12:08:17,036 - async_event_handlers - INFO - Forcing reconciliation with broker positions after force exit...
2026-01-22 12:08:17,079 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 12:08:17,079 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 12:08:17,079 - async_event_handlers - INFO - Successfully reconciled with broker positions after force exit
2026-01-22 12:08:17,387 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:12:08:17 +0530] "GET /get_config?key=MANUAL_MARKET_SENTIMENT HTTP/1.1" 200 231 "-" "python-requests/2.32.4"
2026-01-22 12:09:00,534 - root - INFO - ================================================
2026-01-22 12:09:00,830 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:08:00] Market Sentiment: NEUTRAL | OHLC: O=25225.15 H=25238.60 L=25224.20 C=25235.75
2026-01-22 12:09:00,833 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 12:09:00,834 - async_live_ticker_handler - INFO - [12:08:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 12:09:00,852 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:09:00.852 - Latest candle: 12:08:00, DataFrame length: 174
2026-01-22 12:09:00,858 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:08:00, O: 175.8, H: 182.9, L: 175.2, C: 180.9, ST: Bull (164.45), W%R (9): -6.7, W%R (28): -5.7, K: 95.2, D: 95.2
2026-01-22 12:09:00,876 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:09:00.876 - Latest candle: 12:08:00, DataFrame length: 174
2026-01-22 12:09:00,882 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:08:00, O: 140.9, H: 141.8, L: 134.8, C: 136.7, ST: Bear (154.57), W%R (9): -94.1, W%R (28): -94.8, K: 4.9, D: 4.9
2026-01-22 12:09:00,883 - async_event_handlers - INFO - [TIMING] New candle completed at 12:08:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:09:00.883 for sentiment: NEUTRAL
2026-01-22 12:09:00,884 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:09:00 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:09:00,884 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:09:00,886 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:07:00 -> current=12:08:00, expected_timestamp=12:08:00, df_length=174, W%R(9) prev=-6.94 current=-6.69, W%R(28) prev=-17.69 current=-5.67
2026-01-22 12:09:00,886 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-6.94, current=-6.69, threshold=-79, W%R(28) prev=-17.69, current=-5.67, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:09:00,888 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:07:00 -> current=12:08:00, expected_timestamp=12:08:00, df_length=174, W%R(9) prev=-94.35 current=-94.08, W%R(28) prev=-78.20 current=-94.79
2026-01-22 12:09:00,888 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-94.35, current=-94.08, threshold=-79, W%R(28) prev=-78.20, current=-94.79, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 12:10:00,533 - root - INFO - ================================================
2026-01-22 12:10:01,059 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:09:00] Market Sentiment: BULLISH | OHLC: O=25236.85 H=25241.50 L=25228.35 C=25230.50
2026-01-22 12:10:01,059 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 12:10:01,060 - async_live_ticker_handler - INFO - [12:09:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 12:10:01,078 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:10:01.078 - Latest candle: 12:09:00, DataFrame length: 175
2026-01-22 12:10:01,084 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:09:00, O: 181.6, H: 183.2, L: 176.1, C: 176.2, ST: Bull (165.06), W%R (9): -23.6, W%R (28): -19.4, K: 93.3, D: 94.6
2026-01-22 12:10:01,103 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:10:01.102 - Latest candle: 12:09:00, DataFrame length: 175
2026-01-22 12:10:01,108 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:09:00, O: 135.6, H: 139.8, L: 132.1, C: 138.4, ST: Bear (152.09), W%R (9): -81.6, W%R (28): -84.2, K: 2.3, D: 4.0
2026-01-22 12:10:01,134 - async_event_handlers - INFO - [TIMING] New candle completed at 12:09:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:10:01.134 for sentiment: BULLISH
2026-01-22 12:10:01,136 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:10:01 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:10:01,136 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:10:01,137 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=175)
2026-01-22 12:10:01,138 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:08:00 -> current=12:09:00, expected_timestamp=12:09:00, df_length=175, W%R(9) prev=-6.69 current=-23.59, W%R(28) prev=-5.67 current=-19.44
2026-01-22 12:10:01,138 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-6.69, current=-23.59, threshold=-79, W%R(28) prev=-5.67, current=-19.44, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:10:01,138 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=175)
2026-01-22 12:10:01,139 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:08:00 -> current=12:09:00, expected_timestamp=12:09:00, df_length=175, W%R(9) prev=-94.08 current=-81.57, W%R(28) prev=-94.79 current=-84.16
2026-01-22 12:10:01,139 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-94.08, current=-81.57, threshold=-79, W%R(28) prev=-94.79, current=-84.16, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 12:11:00,534 - root - INFO - ================================================
2026-01-22 12:11:00,784 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:10:00] Market Sentiment: BEARISH | OHLC: O=25229.45 H=25229.45 L=25220.80 C=25226.35
2026-01-22 12:11:00,784 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 12:11:00,785 - async_live_ticker_handler - INFO - [12:10:00] Market sentiment CHANGED: BULLISH -> BEARISH
2026-01-22 12:11:00,827 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:11:00.827 - Latest candle: 12:10:00, DataFrame length: 176
2026-01-22 12:11:00,833 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:10:00, O: 138.8, H: 144.9, L: 138.4, C: 139.2, ST: Bear (152.09), W%R (9): -78.9, W%R (28): -82.2, K: 5.8, D: 4.3
2026-01-22 12:11:01,098 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:11:01.098 - Latest candle: 12:10:00, DataFrame length: 176
2026-01-22 12:11:01,104 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:10:00, O: 176.2, H: 176.2, L: 169.7, C: 175.6, ST: Bull (165.06), W%R (9): -26.4, W%R (28): -21.4, K: 85.5, D: 91.3
2026-01-22 12:11:01,107 - async_event_handlers - INFO - [TIMING] New candle completed at 12:10:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:11:01.107 for sentiment: BEARISH
2026-01-22 12:11:01,108 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:11:01,109 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=176)
2026-01-22 12:11:01,110 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:09:00 -> current=12:10:00, expected_timestamp=12:10:00, df_length=176, W%R(9) prev=-23.59 current=-26.43, W%R(28) prev=-19.44 current=-21.41
2026-01-22 12:11:01,110 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-23.59, current=-26.43, threshold=-79, W%R(28) prev=-19.44, current=-21.41, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:11:01,111 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=176)
2026-01-22 12:11:01,111 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:09:00 -> current=12:10:00, expected_timestamp=12:10:00, df_length=176, W%R(9) prev=-81.57 current=-78.91, W%R(28) prev=-84.16 current=-82.17
2026-01-22 12:11:01,112 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-81.57, current=-78.91, threshold=-79, W%R(28) prev=-84.16, current=-82.17, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 12:11:01,112 - entry_conditions - INFO - Entry2: Trigger detected for NIFTY26JAN25250PE - W%R(9) crossed above threshold: W%R(9) -81.57 -> -78.91, W%R(28) -84.16 -> -82.17, SuperTrend bearish
2026-01-22 12:11:01,112 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25250PE at bar 3 (T, T+1, ..., T+3), window expires at bar 7
2026-01-22 12:12:00,784 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:11:00] Market Sentiment: BEARISH | OHLC: O=25226.50 H=25230.25 L=25215.55 C=25219.30
2026-01-22 12:12:00,784 - root - INFO - ================================================
2026-01-22 12:12:01,120 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:12:01.120 - Latest candle: 12:11:00, DataFrame length: 177
2026-01-22 12:12:01,126 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:11:00, O: 175.3, H: 177.9, L: 168.4, C: 169.7, ST: Bull (165.06), W%R (9): -48.3, W%R (28): -37.9, K: 69.8, D: 82.9
2026-01-22 12:12:01,144 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:12:01.144 - Latest candle: 12:11:00, DataFrame length: 177
2026-01-22 12:12:01,150 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:11:00, O: 139.2, H: 145.6, L: 136.3, C: 143.9, ST: Bear (152.09), W%R (9): -63.4, W%R (28): -70.5, K: 15.6, D: 7.9
2026-01-22 12:12:01,154 - async_event_handlers - INFO - [TIMING] New candle completed at 12:11:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:12:01.154 for sentiment: BEARISH
2026-01-22 12:12:01,154 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:12:01 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:12:01,155 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:12:01,155 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=177)
2026-01-22 12:12:01,156 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:10:00 -> current=12:11:00, expected_timestamp=12:11:00, df_length=177, W%R(9) prev=-26.43 current=-48.29, W%R(28) prev=-21.41 current=-37.89
2026-01-22 12:12:01,157 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-26.43, current=-48.29, threshold=-79, W%R(28) prev=-21.41, current=-37.89, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:12:01,157 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=177)
2026-01-22 12:12:01,158 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:10:00 -> current=12:11:00, expected_timestamp=12:11:00, df_length=177, W%R(9) prev=-78.91 current=-63.43, W%R(28) prev=-82.17 current=-70.45
2026-01-22 12:12:01,158 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-78.91, current=-63.43, threshold=-79, W%R(28) prev=-82.17, current=-70.45, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 12:12:01,159 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25250PE - Slow WPR crossed above -77 (-82.17 -> -70.45), SuperTrend1 bearish
2026-01-22 12:13:00,284 - root - INFO - ================================================
2026-01-22 12:13:00,552 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:13:00.552 - Latest candle: 12:12:00, DataFrame length: 178
2026-01-22 12:13:00,558 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:12:00, O: 169.7, H: 178.6, L: 168.2, C: 177.8, ST: Bull (165.06), W%R (9): -23.2, W%R (28): -15.2, K: 69.7, D: 75.0
2026-01-22 12:13:00,785 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:12:00] Market Sentiment: BEARISH | OHLC: O=25219.25 H=25235.80 L=25217.05 C=25234.65
2026-01-22 12:13:01,053 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:13:01.053 - Latest candle: 12:12:00, DataFrame length: 178
2026-01-22 12:13:01,059 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:12:00, O: 144.1, H: 145.0, L: 134.1, C: 136.1, ST: Bear (152.09), W%R (9): -84.6, W%R (28): -90.0, K: 15.2, D: 12.2
2026-01-22 12:13:01,085 - async_event_handlers - INFO - [TIMING] New candle completed at 12:12:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:13:01.085 for sentiment: BEARISH
2026-01-22 12:13:01,087 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:13:01,088 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=178)
2026-01-22 12:13:01,089 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:11:00 -> current=12:12:00, expected_timestamp=12:12:00, df_length=178, W%R(9) prev=-48.29 current=-23.23, W%R(28) prev=-37.89 current=-15.21
2026-01-22 12:13:01,090 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-48.29, current=-23.23, threshold=-79, W%R(28) prev=-37.89, current=-15.21, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:13:01,090 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25250PE: Fast WPR crossed back below -79 at bar 5: -63.43 -> -84.56
2026-01-22 12:13:01,090 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=178)
2026-01-22 12:13:01,091 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:11:00 -> current=12:12:00, expected_timestamp=12:12:00, df_length=178, W%R(9) prev=-63.43 current=-84.56, W%R(28) prev=-70.45 current=-90.02
2026-01-22 12:13:01,092 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-63.43, current=-84.56, threshold=-79, W%R(28) prev=-70.45, current=-90.02, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 12:14:00,284 - root - INFO - ================================================
2026-01-22 12:14:00,303 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:14:00.303 - Latest candle: 12:13:00, DataFrame length: 179
2026-01-22 12:14:00,401 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:13:00, O: 177.4, H: 178.2, L: 169.6, C: 172.1, ST: Bull (165.06), W%R (9): -63.5, W%R (28): -31.1, K: 63.4, D: 67.7
2026-01-22 12:14:00,826 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:14:00.826 - Latest candle: 12:13:00, DataFrame length: 179
2026-01-22 12:14:00,832 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:13:00, O: 135.7, H: 143.0, L: 134.8, C: 140.8, ST: Bear (152.09), W%R (9): -54.2, W%R (28): -78.3, K: 19.7, D: 16.8
2026-01-22 12:14:01,034 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:13:00] Market Sentiment: NEUTRAL | OHLC: O=25233.85 H=25234.05 L=25223.00 C=25227.65
2026-01-22 12:14:01,035 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 12:14:01,035 - async_live_ticker_handler - INFO - [12:13:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 12:14:01,035 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 12:13:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:14:01.035 for sentiment: NEUTRAL
2026-01-22 12:14:01,036 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:14:01 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:14:01,037 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:14:01,038 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:12:00 -> current=12:13:00, expected_timestamp=12:13:00, df_length=179, W%R(9) prev=-23.23 current=-63.51, W%R(28) prev=-15.21 current=-31.13
2026-01-22 12:14:01,038 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-23.23, current=-63.51, threshold=-79, W%R(28) prev=-15.21, current=-31.13, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:14:01,040 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:12:00 -> current=12:13:00, expected_timestamp=12:13:00, df_length=179, W%R(9) prev=-84.56 current=-54.21, W%R(28) prev=-90.02 current=-78.30
2026-01-22 12:14:01,040 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-84.56, current=-54.21, threshold=-79, W%R(28) prev=-90.02, current=-78.30, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 12:14:01,040 - entry_conditions - INFO - Entry2: NEW TRIGGER DETECTED for NIFTY26JAN25250PE at bar 6 - replacing old trigger at 3 (W%R(9) crossed and W%R(28) was below threshold, WPR9_INVALIDATION=false, allowing trigger replacement)
2026-01-22 12:14:01,040 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25250PE at bar 6 (T, T+1, ..., T+3), window expires at bar 10
2026-01-22 12:15:00,534 - root - INFO - ================================================
2026-01-22 12:15:00,553 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:15:00.553 - Latest candle: 12:14:00, DataFrame length: 180
2026-01-22 12:15:00,559 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:14:00, O: 172.1, H: 178.8, L: 171.7, C: 178.1, ST: Bull (165.06), W%R (9): -32.5, W%R (28): -14.2, K: 70.2, D: 67.8
2026-01-22 12:15:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:14:00] Market Sentiment: BULLISH | OHLC: O=25227.10 H=25239.00 L=25225.60 C=25237.10
2026-01-22 12:15:00,787 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 12:15:00,787 - async_live_ticker_handler - INFO - [12:14:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 12:15:00,807 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:15:00.807 - Latest candle: 12:14:00, DataFrame length: 180
2026-01-22 12:15:00,813 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:14:00, O: 140.3, H: 140.8, L: 134.3, C: 135.5, ST: Bear (152.09), W%R (9): -81.0, W%R (28): -91.5, K: 13.2, D: 16.0
2026-01-22 12:15:00,837 - async_event_handlers - INFO - [TIMING] New candle completed at 12:14:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:15:00.837 for sentiment: BULLISH
2026-01-22 12:15:00,840 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:15:00,840 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=180)
2026-01-22 12:15:00,841 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:13:00 -> current=12:14:00, expected_timestamp=12:14:00, df_length=180, W%R(9) prev=-63.51 current=-32.48, W%R(28) prev=-31.13 current=-14.23
2026-01-22 12:15:00,842 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-63.51, current=-32.48, threshold=-79, W%R(28) prev=-31.13, current=-14.23, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:15:00,842 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25250PE: Fast WPR crossed back below -79 at bar 7: -54.21 -> -80.95
2026-01-22 12:15:00,843 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=180)
2026-01-22 12:15:00,844 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:13:00 -> current=12:14:00, expected_timestamp=12:14:00, df_length=180, W%R(9) prev=-54.21 current=-80.95, W%R(28) prev=-78.30 current=-91.52
2026-01-22 12:15:00,844 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-54.21, current=-80.95, threshold=-79, W%R(28) prev=-78.30, current=-91.52, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 12:16:00,533 - root - INFO - ================================================
2026-01-22 12:16:00,784 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:15:00] Market Sentiment: NEUTRAL | OHLC: O=25237.15 H=25237.25 L=25217.95 C=25221.55
2026-01-22 12:16:00,785 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 12:16:00,785 - async_live_ticker_handler - INFO - [12:15:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 12:16:00,804 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:16:00.804 - Latest candle: 12:15:00, DataFrame length: 181
2026-01-22 12:16:00,810 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:15:00, O: 177.7, H: 178.7, L: 170.7, C: 170.7, ST: Bull (165.06), W%R (9): -80.4, W%R (28): -35.2, K: 58.4, D: 64.0
2026-01-22 12:16:00,829 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:16:00.828 - Latest candle: 12:15:00, DataFrame length: 181
2026-01-22 12:16:00,835 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:15:00, O: 134.7, H: 142.9, L: 134.4, C: 142.8, ST: Bear (152.09), W%R (9): -40.3, W%R (28): -73.4, K: 24.9, D: 19.3
2026-01-22 12:16:00,884 - async_event_handlers - INFO - [TIMING] New candle completed at 12:15:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:16:00.884 for sentiment: NEUTRAL
2026-01-22 12:16:00,886 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:16:00 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:16:00,886 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:16:00,888 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:14:00 -> current=12:15:00, expected_timestamp=12:15:00, df_length=181, W%R(9) prev=-32.48 current=-80.39, W%R(28) prev=-14.23 current=-35.21
2026-01-22 12:16:00,888 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-32.48, current=-80.39, threshold=-79, W%R(28) prev=-14.23, current=-35.21, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:16:00,890 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:14:00 -> current=12:15:00, expected_timestamp=12:15:00, df_length=181, W%R(9) prev=-80.95 current=-40.34, W%R(28) prev=-91.52 current=-73.44
2026-01-22 12:16:00,890 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-80.95, current=-40.34, threshold=-79, W%R(28) prev=-91.52, current=-73.44, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 12:16:00,890 - entry_conditions - INFO - Entry2: NEW TRIGGER DETECTED for NIFTY26JAN25250PE at bar 8 - replacing old trigger at 6 (both W%R(9) and W%R(28) crossed on same candle, WPR9_INVALIDATION=false, allowing trigger replacement)
2026-01-22 12:16:00,890 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25250PE at bar 8 (T, T+1, ..., T+3), window expires at bar 12
2026-01-22 12:16:00,890 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25250PE (same candle as new trigger) - Slow WPR crossed above -77 (-91.52 -> -73.44), SuperTrend1 bearish
2026-01-22 12:16:00,891 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25250PE (same candle as new trigger, flexible mode) - K=24.86 > D=19.26 and K > 20
2026-01-22 12:16:00,891 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25250PE (new trigger replaced old one, all conditions met on same candle) - Current NIFTY=25220.10
2026-01-22 12:16:00,891 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25250PE
2026-01-22 12:16:00,891 - entry_conditions - INFO - NEUTRAL mode: Only PE entry condition True met. Placing PE trade for NIFTY26JAN25250PE.
2026-01-22 12:16:00,893 - entry_conditions - INFO - [TIME] Time distribution filter: Trade blocked for NIFTY26JAN25250PE at 12:16:00 (disabled zone: 12:00-13:00)
2026-01-22 12:17:00,534 - root - INFO - ================================================
2026-01-22 12:17:00,553 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:17:00.553 - Latest candle: 12:16:00, DataFrame length: 182
2026-01-22 12:17:00,559 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:16:00, O: 142.9, H: 143.8, L: 137.5, C: 138.1, ST: Bear (152.09), W%R (9): -55.9, W%R (28): -83.3, K: 32.5, D: 23.5
2026-01-22 12:17:00,784 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:16:00] Market Sentiment: BEARISH | OHLC: O=25220.10 H=25228.95 L=25216.05 C=25227.00
2026-01-22 12:17:00,785 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 12:17:00,785 - async_live_ticker_handler - INFO - [12:16:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 12:17:01,052 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:17:01.052 - Latest candle: 12:16:00, DataFrame length: 182
2026-01-22 12:17:01,058 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:16:00, O: 171.1, H: 175.6, L: 169.0, C: 174.7, ST: Bull (165.06), W%R (9): -56.7, W%R (28): -28.2, K: 48.7, D: 59.1
2026-01-22 12:17:01,059 - async_event_handlers - INFO - [TIMING] New candle completed at 12:16:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:17:01.059 for sentiment: BEARISH
2026-01-22 12:17:01,061 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:17:01 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:17:01,061 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:17:01,062 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=182)
2026-01-22 12:17:01,063 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:15:00 -> current=12:16:00, expected_timestamp=12:16:00, df_length=182, W%R(9) prev=-80.39 current=-56.67, W%R(28) prev=-35.21 current=-28.19
2026-01-22 12:17:01,063 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-80.39, current=-56.67, threshold=-79, W%R(28) prev=-35.21, current=-28.19, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:17:01,063 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=182)
2026-01-22 12:17:01,064 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:15:00 -> current=12:16:00, expected_timestamp=12:16:00, df_length=182, W%R(9) prev=-40.34 current=-55.93, W%R(28) prev=-73.44 current=-83.29
2026-01-22 12:17:01,064 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-40.34, current=-55.93, threshold=-79, W%R(28) prev=-73.44, current=-83.29, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 12:18:00,284 - root - INFO - ================================================
2026-01-22 12:18:00,303 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:18:00.303 - Latest candle: 12:17:00, DataFrame length: 183
2026-01-22 12:18:00,309 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:17:00, O: 138.2, H: 138.2, L: 129.4, C: 133.3, ST: Bear (149.98), W%R (9): -75.8, W%R (28): -89.8, K: 36.3, D: 31.2
2026-01-22 12:18:01,034 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:17:00] Market Sentiment: BULLISH | OHLC: O=25227.00 H=25244.35 L=25227.00 C=25241.60
2026-01-22 12:18:01,035 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 12:18:01,035 - async_live_ticker_handler - INFO - [12:17:00] Market sentiment CHANGED: BEARISH -> BULLISH
2026-01-22 12:18:01,055 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:18:01.055 - Latest candle: 12:17:00, DataFrame length: 183
2026-01-22 12:18:01,061 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:17:00, O: 174.3, H: 183.7, L: 174.3, C: 178.8, ST: Bull (165.06), W%R (9): -31.6, W%R (28): -16.0, K: 40.5, D: 49.2
2026-01-22 12:18:01,062 - async_event_handlers - INFO - [TIMING] New candle completed at 12:17:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:18:01.062 for sentiment: BULLISH
2026-01-22 12:18:01,063 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:18:01 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:18:01,063 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:18:01,064 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=183)
2026-01-22 12:18:01,065 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:16:00 -> current=12:17:00, expected_timestamp=12:17:00, df_length=183, W%R(9) prev=-56.67 current=-31.61, W%R(28) prev=-28.19 current=-15.99
2026-01-22 12:18:01,065 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-56.67, current=-31.61, threshold=-79, W%R(28) prev=-28.19, current=-15.99, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:18:01,066 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=183)
2026-01-22 12:18:01,067 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:16:00 -> current=12:17:00, expected_timestamp=12:17:00, df_length=183, W%R(9) prev=-55.93 current=-75.85, W%R(28) prev=-83.29 current=-89.80
2026-01-22 12:18:01,067 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-55.93, current=-75.85, threshold=-79, W%R(28) prev=-83.29, current=-89.80, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 12:19:00,534 - root - INFO - ================================================
2026-01-22 12:19:00,576 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:19:00.576 - Latest candle: 12:18:00, DataFrame length: 184
2026-01-22 12:19:00,582 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:18:00, O: 134.0, H: 136.3, L: 130.2, C: 133.5, ST: Bear (149.03), W%R (9): -74.9, W%R (28): -89.4, K: 31.2, D: 33.3
2026-01-22 12:19:00,835 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:18:00] Market Sentiment: BULLISH | OHLC: O=25239.85 H=25242.40 L=25233.05 C=25238.30
2026-01-22 12:19:00,855 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:19:00.855 - Latest candle: 12:18:00, DataFrame length: 184
2026-01-22 12:19:00,861 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:18:00, O: 179.3, H: 182.4, L: 176.7, C: 179.3, ST: Bull (165.06), W%R (9): -28.1, W%R (28): -14.2, K: 43.3, D: 44.2
2026-01-22 12:19:00,862 - async_event_handlers - INFO - [TIMING] New candle completed at 12:18:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:19:00.861 for sentiment: BULLISH
2026-01-22 12:19:00,863 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:19:00,863 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=184)
2026-01-22 12:19:00,864 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:17:00 -> current=12:18:00, expected_timestamp=12:18:00, df_length=184, W%R(9) prev=-31.61 current=-28.06, W%R(28) prev=-15.99 current=-14.19
2026-01-22 12:19:00,865 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-31.61, current=-28.06, threshold=-79, W%R(28) prev=-15.99, current=-14.19, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:19:00,865 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=184)
2026-01-22 12:19:00,866 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:17:00 -> current=12:18:00, expected_timestamp=12:18:00, df_length=184, W%R(9) prev=-75.85 current=-74.92, W%R(28) prev=-89.80 current=-89.41
2026-01-22 12:19:00,866 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-75.85, current=-74.92, threshold=-79, W%R(28) prev=-89.80, current=-89.41, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 12:20:00,534 - root - INFO - ================================================
2026-01-22 12:20:00,601 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:20:00.601 - Latest candle: 12:19:00, DataFrame length: 185
2026-01-22 12:20:00,607 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:19:00, O: 133.1, H: 133.1, L: 127.8, C: 132.8, ST: Bear (145.78), W%R (9): -72.1, W%R (28): -87.6, K: 22.0, D: 29.8
2026-01-22 12:20:00,785 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:19:00] Market Sentiment: BULLISH | OHLC: O=25238.40 H=25247.20 L=25237.55 C=25239.65
2026-01-22 12:20:00,805 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:20:00.804 - Latest candle: 12:19:00, DataFrame length: 185
2026-01-22 12:20:00,811 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:19:00, O: 179.2, H: 184.2, L: 178.3, C: 178.6, ST: Bull (166.35), W%R (9): -35.2, W%R (28): -18.1, K: 49.1, D: 44.3
2026-01-22 12:20:00,860 - async_event_handlers - INFO - [TIMING] New candle completed at 12:19:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:20:00.860 for sentiment: BULLISH
2026-01-22 12:20:00,863 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:20:00 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:20:00,863 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:20:00,864 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=185)
2026-01-22 12:20:00,865 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:18:00 -> current=12:19:00, expected_timestamp=12:19:00, df_length=185, W%R(9) prev=-28.06 current=-35.20, W%R(28) prev=-14.19 current=-18.11
2026-01-22 12:20:00,865 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-28.06, current=-35.20, threshold=-79, W%R(28) prev=-14.19, current=-18.11, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:20:00,866 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=185)
2026-01-22 12:20:00,867 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:18:00 -> current=12:19:00, expected_timestamp=12:19:00, df_length=185, W%R(9) prev=-74.92 current=-72.11, W%R(28) prev=-89.41 current=-87.58
2026-01-22 12:20:00,867 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-74.92, current=-72.11, threshold=-79, W%R(28) prev=-89.41, current=-87.58, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 12:21:00,534 - root - INFO - ================================================
2026-01-22 12:21:00,577 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:21:00.577 - Latest candle: 12:20:00, DataFrame length: 186
2026-01-22 12:21:00,584 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:20:00, O: 179.2, H: 205.1, L: 178.9, C: 199.2, ST: Bull (173.27), W%R (9): -16.0, W%R (28): -11.3, K: 66.1, D: 52.9
2026-01-22 12:21:00,785 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:20:00] Market Sentiment: BULLISH | OHLC: O=25238.85 H=25277.50 L=25238.10 C=25272.90
2026-01-22 12:21:00,786 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25256.84
2026-01-22 12:21:00,786 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 12:21:00,787 - root - INFO - Generated symbols: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 12:21:04,254 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 12:21:04,254 - root - INFO - CE: NIFTY26JAN25250CE (Token: 15025410)
2026-01-22 12:21:04,255 - root - INFO - PE: NIFTY26JAN25300PE (Token: 15027714)
2026-01-22 12:21:04,255 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25200CE -> NIFTY26JAN25250CE, PE: NIFTY26JAN25250PE -> NIFTY26JAN25300PE
2026-01-22 12:21:04,400 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 12:20:00: old_ce=NIFTY26JAN25200CE(15024386) -> new_ce=NIFTY26JAN25250CE, old_pe=NIFTY26JAN25250PE(15025666) -> new_pe=NIFTY26JAN25300PE
2026-01-22 12:21:04,400 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 12:21:04,475 - async_event_handlers - INFO - [TIMING] New candle completed at 12:21:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:21:04.475 for sentiment: BULLISH
2026-01-22 12:21:04,483 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:21:04 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:21:04,483 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:21:04,485 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=185)
2026-01-22 12:21:04,486 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:18:00 -> current=12:19:00, expected_timestamp=12:19:00, df_length=185, W%R(9) prev=-29.85 current=-36.59, W%R(28) prev=-16.67 current=-19.13
2026-01-22 12:21:04,486 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-29.85, current=-36.59, threshold=-79, W%R(28) prev=-16.67, current=-19.13, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:21:04,487 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=185)
2026-01-22 12:21:04,488 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:18:00 -> current=12:19:00, expected_timestamp=12:19:00, df_length=185, W%R(9) prev=-73.02 current=-68.81, W%R(28) prev=-88.30 current=-85.73
2026-01-22 12:21:04,488 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-73.02, current=-68.81, threshold=-79, W%R(28) prev=-88.30, current=-85.73, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 12:22:00,784 - root - INFO - ================================================
2026-01-22 12:22:00,834 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:21:00] Market Sentiment: BULLISH | OHLC: O=25271.45 H=25277.30 L=25258.20 C=25270.05
2026-01-22 12:22:01,103 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:22:01.103 - Latest candle: 12:21:00, DataFrame length: 186
2026-01-22 12:22:01,108 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:21:00, O: 139.2, H: 144.8, L: 136.2, C: 141.4, ST: Bear (160.39), W%R (9): -84.7, W%R (28): -91.1, K: 18.6, D: 25.3
2026-01-22 12:22:01,127 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:22:01.126 - Latest candle: 12:21:00, DataFrame length: 186
2026-01-22 12:22:01,132 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:21:00, O: 168.9, H: 170.8, L: 162.4, C: 165.1, ST: Bull (150.68), W%R (9): -19.5, W%R (28): -13.5, K: 66.2, D: 54.8
2026-01-22 12:22:01,138 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:21:00 (last_check=12:21:00)
2026-01-22 12:22:01,140 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:21:00 (last_check=12:21:00)
2026-01-22 12:23:00,534 - root - INFO - ================================================
2026-01-22 12:23:00,560 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:22:00] Market Sentiment: NEUTRAL | OHLC: O=25267.40 H=25267.40 L=25255.60 C=25255.60
2026-01-22 12:23:00,562 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 12:23:00,563 - async_live_ticker_handler - INFO - [12:22:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 12:23:00,852 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:23:00.852 - Latest candle: 12:22:00, DataFrame length: 187
2026-01-22 12:23:00,858 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:22:00, O: 143.9, H: 148.8, L: 143.6, C: 146.8, ST: Bear (160.39), W%R (9): -68.2, W%R (28): -82.1, K: 19.1, D: 20.9
2026-01-22 12:23:00,901 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:23:00.901 - Latest candle: 12:22:00, DataFrame length: 187
2026-01-22 12:23:00,909 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:22:00, O: 163.8, H: 164.2, L: 159.0, C: 161.8, ST: Bull (150.68), W%R (9): -31.0, W%R (28): -21.1, K: 75.1, D: 64.2
2026-01-22 12:23:00,917 - async_event_handlers - INFO - [TIMING] New candle completed at 12:22:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:23:00.917 for sentiment: NEUTRAL
2026-01-22 12:23:00,918 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:23:00 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:23:00,918 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:23:00,919 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:21:00 -> current=12:22:00, expected_timestamp=12:22:00, df_length=187, W%R(9) prev=-19.50 current=-30.99, W%R(28) prev=-13.54 current=-21.12
2026-01-22 12:23:00,920 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-19.50, current=-30.99, threshold=-79, W%R(28) prev=-13.54, current=-21.12, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:23:00,921 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:21:00 -> current=12:22:00, expected_timestamp=12:22:00, df_length=187, W%R(9) prev=-84.66 current=-68.21, W%R(28) prev=-91.07 current=-82.06
2026-01-22 12:23:00,922 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-84.66, current=-68.21, threshold=-79, W%R(28) prev=-91.07, current=-82.06, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 12:23:00,922 - entry_conditions - INFO - Entry2: Trigger detected for NIFTY26JAN25300PE - W%R(9) crossed above threshold: W%R(9) -84.66 -> -68.21, W%R(28) -91.07 -> -82.06, SuperTrend bearish
2026-01-22 12:23:00,922 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25300PE at bar 13 (T, T+1, ..., T+3), window expires at bar 17
2026-01-22 12:24:00,534 - root - INFO - ================================================
2026-01-22 12:24:00,863 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:23:00] Market Sentiment: BEARISH | OHLC: O=25256.05 H=25262.80 L=25241.95 C=25245.95
2026-01-22 12:24:00,863 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 12:24:00,864 - async_live_ticker_handler - INFO - [12:23:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 12:24:00,884 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:24:00.884 - Latest candle: 12:23:00, DataFrame length: 188
2026-01-22 12:24:00,890 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:23:00, O: 146.9, H: 157.3, L: 143.7, C: 155.9, ST: Bear (160.39), W%R (9): -40.9, W%R (28): -66.6, K: 36.7, D: 24.8
2026-01-22 12:24:00,933 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:24:00.933 - Latest candle: 12:23:00, DataFrame length: 188
2026-01-22 12:24:00,938 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:23:00, O: 161.7, H: 164.9, L: 152.1, C: 154.0, ST: Bull (150.68), W%R (9): -57.7, W%R (28): -39.3, K: 68.9, D: 70.0
2026-01-22 12:24:00,941 - async_event_handlers - INFO - [TIMING] New candle completed at 12:23:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:24:00.941 for sentiment: BEARISH
2026-01-22 12:24:00,942 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:24:00 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:24:00,942 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:24:00,943 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=188)
2026-01-22 12:24:00,944 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:22:00 -> current=12:23:00, expected_timestamp=12:23:00, df_length=188, W%R(9) prev=-30.99 current=-57.71, W%R(28) prev=-21.12 current=-39.32
2026-01-22 12:24:00,944 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-30.99, current=-57.71, threshold=-79, W%R(28) prev=-21.12, current=-39.32, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:24:00,945 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=188)
2026-01-22 12:24:00,946 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:22:00 -> current=12:23:00, expected_timestamp=12:23:00, df_length=188, W%R(9) prev=-68.21 current=-40.90, W%R(28) prev=-82.06 current=-66.64
2026-01-22 12:24:00,946 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-68.21, current=-40.90, threshold=-79, W%R(28) prev=-82.06, current=-66.64, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 12:24:00,946 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25300PE - Slow WPR crossed above -77 (-82.06 -> -66.64), SuperTrend1 bearish
2026-01-22 12:24:00,946 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25300PE (flexible mode) - K=36.70 > D=24.80 and K > 20
2026-01-22 12:24:00,946 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25300PE - All confirmations received! - Current NIFTY=25245.20
2026-01-22 12:24:00,947 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25300PE
2026-01-22 12:24:00,947 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BEARISH sentiment: PE entry condition 2 met. Placing PE trade for NIFTY26JAN25300PE (sentiment filter bypassed).
2026-01-22 12:24:00,948 - entry_conditions - INFO - [TIME] Time distribution filter: Trade blocked for NIFTY26JAN25300PE at 12:24:00 (disabled zone: 12:00-13:00)
2026-01-22 12:25:00,784 - root - INFO - ================================================
2026-01-22 12:25:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:24:00] Market Sentiment: BEARISH | OHLC: O=25245.20 H=25246.50 L=25238.90 C=25242.40
2026-01-22 12:25:00,812 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25243.25
2026-01-22 12:25:00,813 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 12:25:00,813 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 12:25:04,379 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 12:25:04,380 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 12:25:04,380 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 12:25:04,380 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25250CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25300PE -> NIFTY26JAN25250PE
2026-01-22 12:25:04,520 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 12:24:00: old_ce=NIFTY26JAN25250CE(15025410) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25300PE(15027714) -> new_pe=NIFTY26JAN25250PE
2026-01-22 12:25:04,520 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 12:25:04,601 - async_event_handlers - INFO - [TIMING] New candle completed at 12:25:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:25:04.601 for sentiment: BEARISH
2026-01-22 12:25:04,604 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:25:04 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:25:04,611 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:25:04,613 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=189)
2026-01-22 12:25:04,614 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:22:00 -> current=12:23:00, expected_timestamp=12:23:00, df_length=189, W%R(9) prev=-37.17 current=-62.69, W%R(28) prev=-25.74 current=-43.42
2026-01-22 12:25:04,614 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-37.17, current=-62.69, threshold=-79, W%R(28) prev=-25.74, current=-43.42, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:25:04,615 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=189)
2026-01-22 12:26:00,784 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:25:00] Market Sentiment: BEARISH | OHLC: O=25242.55 H=25249.15 L=25237.40 C=25240.05
2026-01-22 12:26:00,785 - root - INFO - ================================================
2026-01-22 12:26:00,828 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:26:00.828 - Latest candle: 12:25:00, DataFrame length: 190
2026-01-22 12:26:00,835 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:25:00, O: 132.7, H: 138.4, L: 128.9, C: 135.7, ST: Bear (135.80), W%R (9): -25.2, W%R (28): -56.9, K: 77.8, D: 51.8
2026-01-22 12:26:00,887 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:25:00 (last_check=12:25:00)
2026-01-22 12:26:01,128 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:26:01.128 - Latest candle: 12:25:00, DataFrame length: 190
2026-01-22 12:26:01,134 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:25:00, O: 182.3, H: 185.8, L: 175.9, C: 177.7, ST: Bear (200.02), W%R (9): -75.9, W%R (28): -52.5, K: 26.7, D: 52.8
2026-01-22 12:26:01,142 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:25:00 (last_check=12:25:00)
2026-01-22 12:27:00,534 - root - INFO - ================================================
2026-01-22 12:27:00,827 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:27:00.827 - Latest candle: 12:26:00, DataFrame length: 191
2026-01-22 12:27:00,834 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:26:00, O: 135.6, H: 137.4, L: 130.8, C: 135.2, ST: Bear (135.80), W%R (9): -11.8, W%R (28): -57.7, K: 95.4, D: 75.5
2026-01-22 12:27:00,884 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:26:00] Market Sentiment: BEARISH | OHLC: O=25239.00 H=25244.15 L=25236.55 C=25237.55
2026-01-22 12:27:01,104 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:27:01.104 - Latest candle: 12:26:00, DataFrame length: 191
2026-01-22 12:27:01,110 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:26:00, O: 178.0, H: 183.7, L: 175.5, C: 177.8, ST: Bear (198.47), W%R (9): -88.6, W%R (28): -52.4, K: 6.5, D: 28.5
2026-01-22 12:27:01,116 - async_event_handlers - INFO - [TIMING] New candle completed at 12:26:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:27:01.116 for sentiment: BEARISH
2026-01-22 12:27:01,117 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:27:01 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:27:01,117 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:27:01,119 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=191)
2026-01-22 12:27:01,120 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:25:00 -> current=12:26:00, expected_timestamp=12:26:00, df_length=191, W%R(9) prev=-75.87 current=-88.62, W%R(28) prev=-52.55 current=-52.35
2026-01-22 12:27:01,120 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-75.87, current=-88.62, threshold=-79, W%R(28) prev=-52.55, current=-52.35, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:27:01,122 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=191)
2026-01-22 12:28:00,534 - root - INFO - ================================================
2026-01-22 12:28:00,784 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:27:00] Market Sentiment: BEARISH | OHLC: O=25236.95 H=25254.85 L=25236.95 C=25254.85
2026-01-22 12:28:00,854 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:28:00.854 - Latest candle: 12:27:00, DataFrame length: 192
2026-01-22 12:28:00,860 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:27:00, O: 178.5, H: 190.4, L: 177.3, C: 189.9, ST: Bear (198.47), W%R (9): -51.1, W%R (28): -29.0, K: 15.0, D: 16.1
2026-01-22 12:28:00,880 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:28:00.880 - Latest candle: 12:27:00, DataFrame length: 192
2026-01-22 12:28:00,886 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:27:00, O: 135.2, H: 135.4, L: 123.7, C: 124.3, ST: Bear (135.80), W%R (9): -51.9, W%R (28): -76.9, K: 85.1, D: 86.1
2026-01-22 12:28:00,919 - async_event_handlers - INFO - [TIMING] New candle completed at 12:27:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:28:00.919 for sentiment: BEARISH
2026-01-22 12:28:00,921 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:28:00,924 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=192)
2026-01-22 12:28:00,925 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:26:00 -> current=12:27:00, expected_timestamp=12:27:00, df_length=192, W%R(9) prev=-88.62 current=-51.10, W%R(28) prev=-52.35 current=-29.01
2026-01-22 12:28:00,925 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-88.62, current=-51.10, threshold=-79, W%R(28) prev=-52.35, current=-29.01, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:28:00,927 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=192)
2026-01-22 12:28:00,928 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:26:00 -> current=12:27:00, expected_timestamp=12:27:00, df_length=192, W%R(9) prev=-11.83 current=-51.94, W%R(28) prev=-57.68 current=-76.93
2026-01-22 12:28:00,928 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-11.83, current=-51.94, threshold=-79, W%R(28) prev=-57.68, current=-76.93, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:29:00,534 - root - INFO - ================================================
2026-01-22 12:29:00,554 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:29:00.553 - Latest candle: 12:28:00, DataFrame length: 193
2026-01-22 12:29:00,560 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:28:00, O: 189.9, H: 192.0, L: 185.7, C: 186.0, ST: Bear (198.47), W%R (9): -64.5, W%R (28): -36.6, K: 24.1, D: 15.2
2026-01-22 12:29:00,785 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:28:00] Market Sentiment: BEARISH | OHLC: O=25254.45 H=25261.35 L=25254.45 C=25255.35
2026-01-22 12:29:00,786 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25256.40
2026-01-22 12:29:00,787 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 12:29:00,787 - root - INFO - Generated symbols: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 12:29:04,261 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 12:29:04,261 - root - INFO - CE: NIFTY26JAN25250CE (Token: 15025410)
2026-01-22 12:29:04,262 - root - INFO - PE: NIFTY26JAN25300PE (Token: 15027714)
2026-01-22 12:29:04,262 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25200CE -> NIFTY26JAN25250CE, PE: NIFTY26JAN25250PE -> NIFTY26JAN25300PE
2026-01-22 12:29:04,404 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 12:28:00: old_ce=NIFTY26JAN25200CE(15024386) -> new_ce=NIFTY26JAN25250CE, old_pe=NIFTY26JAN25250PE(15025666) -> new_pe=NIFTY26JAN25300PE
2026-01-22 12:29:04,405 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 12:29:04,461 - async_event_handlers - INFO - [TIMING] New candle completed at 12:29:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:29:04.461 for sentiment: BEARISH
2026-01-22 12:29:04,469 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:29:04 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:29:04,469 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:29:04,470 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=193)
2026-01-22 12:29:04,471 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:26:00 -> current=12:27:00, expected_timestamp=12:27:00, df_length=193, W%R(9) prev=-90.89 current=-51.67, W%R(28) prev=-52.64 current=-29.92
2026-01-22 12:29:04,471 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-90.89, current=-51.67, threshold=-79, W%R(28) prev=-52.64, current=-29.92, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:29:04,472 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=193)
2026-01-22 12:29:04,473 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:26:00 -> current=12:27:00, expected_timestamp=12:27:00, df_length=193, W%R(9) prev=-10.23 current=-52.64, W%R(28) prev=-56.69 current=-77.15
2026-01-22 12:29:04,473 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-10.23, current=-52.64, threshold=-79, W%R(28) prev=-56.69, current=-77.15, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 12:30:00,534 - root - INFO - ================================================
2026-01-22 12:30:00,785 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:29:00] Market Sentiment: BEARISH | OHLC: O=25254.95 H=25257.80 L=25250.25 C=25255.25
2026-01-22 12:30:01,053 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:30:01.053 - Latest candle: 12:29:00, DataFrame length: 194
2026-01-22 12:30:01,059 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:29:00, O: 150.4, H: 152.6, L: 147.0, C: 148.6, ST: Bear (160.75), W%R (9): -47.5, W%R (28): -74.3, K: 70.7, D: 84.0
2026-01-22 12:30:01,079 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:30:01.079 - Latest candle: 12:29:00, DataFrame length: 194
2026-01-22 12:30:01,085 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:29:00, O: 156.9, H: 160.2, L: 154.7, C: 157.9, ST: Bear (167.64), W%R (9): -61.3, W%R (28): -36.1, K: 26.5, D: 16.0
2026-01-22 12:30:01,112 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:29:00 (last_check=12:29:00)
2026-01-22 12:30:01,114 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:29:00 (last_check=12:29:00)
2026-01-22 12:31:00,534 - root - INFO - ================================================
2026-01-22 12:31:00,811 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:30:00] Market Sentiment: BEARISH | OHLC: O=25254.60 H=25258.00 L=25249.45 C=25251.10
2026-01-22 12:31:00,832 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:31:00.832 - Latest candle: 12:30:00, DataFrame length: 195
2026-01-22 12:31:00,838 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:30:00, O: 150.1, H: 153.0, L: 146.5, C: 150.6, ST: Bear (160.75), W%R (9): -46.4, W%R (28): -70.8, K: 61.1, D: 71.9
2026-01-22 12:31:00,882 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:31:00.882 - Latest candle: 12:30:00, DataFrame length: 195
2026-01-22 12:31:00,888 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:30:00, O: 157.2, H: 160.1, L: 154.6, C: 155.4, ST: Bear (167.64), W%R (9): -66.3, W%R (28): -42.2, K: 32.4, D: 24.9
2026-01-22 12:31:00,894 - async_event_handlers - INFO - [TIMING] New candle completed at 12:30:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:31:00.894 for sentiment: BEARISH
2026-01-22 12:31:00,894 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:31:00 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:31:00,894 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:31:00,896 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=195)
2026-01-22 12:31:00,897 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:29:00 -> current=12:30:00, expected_timestamp=12:30:00, df_length=195, W%R(9) prev=-61.34 current=-66.31, W%R(28) prev=-36.14 current=-42.24
2026-01-22 12:31:00,897 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-61.34, current=-66.31, threshold=-79, W%R(28) prev=-36.14, current=-42.24, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:31:00,899 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=195)
2026-01-22 12:31:00,900 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:29:00 -> current=12:30:00, expected_timestamp=12:30:00, df_length=195, W%R(9) prev=-47.52 current=-46.37, W%R(28) prev=-74.27 current=-70.81
2026-01-22 12:31:00,900 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-47.52, current=-46.37, threshold=-79, W%R(28) prev=-74.27, current=-70.81, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:32:00,534 - root - INFO - ================================================
2026-01-22 12:32:00,603 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:32:00.603 - Latest candle: 12:31:00, DataFrame length: 196
2026-01-22 12:32:00,609 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:31:00, O: 156.8, H: 158.8, L: 150.8, C: 153.2, ST: Bear (167.64), W%R (9): -67.2, W%R (28): -47.4, K: 20.1, D: 26.3
2026-01-22 12:32:00,812 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:31:00] Market Sentiment: BEARISH | OHLC: O=25251.35 H=25257.70 L=25244.80 C=25247.50
2026-01-22 12:32:01,079 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:32:01.078 - Latest candle: 12:31:00, DataFrame length: 196
2026-01-22 12:32:01,086 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:31:00, O: 149.7, H: 156.2, L: 146.8, C: 153.5, ST: Bear (160.75), W%R (9): -49.0, W%R (28): -64.9, K: 71.0, D: 67.6
2026-01-22 12:32:01,089 - async_event_handlers - INFO - [TIMING] New candle completed at 12:31:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:32:01.089 for sentiment: BEARISH
2026-01-22 12:32:01,090 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:32:01 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:32:01,091 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:32:01,092 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=196)
2026-01-22 12:32:01,093 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:30:00 -> current=12:31:00, expected_timestamp=12:31:00, df_length=196, W%R(9) prev=-66.31 current=-67.24, W%R(28) prev=-42.24 current=-47.37
2026-01-22 12:32:01,094 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-66.31, current=-67.24, threshold=-79, W%R(28) prev=-42.24, current=-47.37, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:32:01,095 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=196)
2026-01-22 12:32:01,096 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:30:00 -> current=12:31:00, expected_timestamp=12:31:00, df_length=196, W%R(9) prev=-46.37 current=-48.97, W%R(28) prev=-70.81 current=-64.92
2026-01-22 12:32:01,096 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-46.37, current=-48.97, threshold=-79, W%R(28) prev=-70.81, current=-64.92, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:33:00,534 - root - INFO - ================================================
2026-01-22 12:33:00,554 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:33:00.554 - Latest candle: 12:32:00, DataFrame length: 197
2026-01-22 12:33:00,560 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:32:00, O: 153.3, H: 158.0, L: 150.2, C: 155.0, ST: Bear (167.64), W%R (9): -57.2, W%R (28): -47.8, K: 14.9, D: 22.4
2026-01-22 12:33:00,859 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:32:00] Market Sentiment: BEARISH | OHLC: O=25245.90 H=25251.90 L=25242.55 C=25246.40
2026-01-22 12:33:00,863 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25246.69
2026-01-22 12:33:00,864 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 12:33:00,864 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 12:33:04,437 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 12:33:04,437 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 12:33:04,437 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 12:33:04,437 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25250CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25300PE -> NIFTY26JAN25250PE
2026-01-22 12:33:04,591 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 12:32:00: old_ce=NIFTY26JAN25250CE(15025410) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25300PE(15027714) -> new_pe=NIFTY26JAN25250PE
2026-01-22 12:33:04,591 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 12:33:04,626 - async_event_handlers - INFO - [TIMING] New candle completed at 12:33:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:33:04.626 for sentiment: BEARISH
2026-01-22 12:33:04,633 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:33:04 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:33:04,633 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:33:04,635 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=197)
2026-01-22 12:33:04,635 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:30:00 -> current=12:31:00, expected_timestamp=12:31:00, df_length=197, W%R(9) prev=-53.12 current=-67.83, W%R(28) prev=-40.50 current=-51.16
2026-01-22 12:33:04,636 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-53.12, current=-67.83, threshold=-79, W%R(28) prev=-40.50, current=-51.16, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:33:04,637 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=198)
2026-01-22 12:33:04,638 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:31:00 -> current=12:32:00, expected_timestamp=12:32:00, df_length=198, W%R(9) prev=-51.15 current=-61.93, W%R(28) prev=-61.09 current=-57.74
2026-01-22 12:33:04,638 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-51.15, current=-61.93, threshold=-79, W%R(28) prev=-61.09, current=-57.74, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:34:00,284 - root - INFO - ================================================
2026-01-22 12:34:00,812 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:33:00] Market Sentiment: BEARISH | OHLC: O=25245.65 H=25253.10 L=25244.55 C=25251.60
2026-01-22 12:34:00,857 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:34:00.857 - Latest candle: 12:33:00, DataFrame length: 198
2026-01-22 12:34:00,864 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:33:00, O: 184.0, H: 188.2, L: 181.8, C: 187.5, ST: Bear (197.87), W%R (9): -27.3, W%R (28): -44.7, K: 20.6, D: 23.1
2026-01-22 12:34:00,884 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:34:00.884 - Latest candle: 12:33:00, DataFrame length: 199
2026-01-22 12:34:00,890 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:33:00, O: 128.2, H: 130.8, L: 124.5, C: 125.0, ST: Bear (135.80), W%R (9): -81.0, W%R (28): -64.6, K: 74.6, D: 75.7
2026-01-22 12:34:00,918 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:33:00 (last_check=12:33:00)
2026-01-22 12:34:00,920 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:33:00 (last_check=12:33:00)
2026-01-22 12:35:00,534 - root - INFO - ================================================
2026-01-22 12:35:00,626 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:35:00.626 - Latest candle: 12:34:00, DataFrame length: 200
2026-01-22 12:35:00,636 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:34:00, O: 125.2, H: 126.8, L: 118.2, C: 118.3, ST: Bear (135.80), W%R (9): -99.5, W%R (28): -82.0, K: 50.9, D: 68.1
2026-01-22 12:35:00,812 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:34:00] Market Sentiment: BEARISH | OHLC: O=25250.35 H=25265.75 L=25250.10 C=25264.55
2026-01-22 12:35:00,814 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25257.69
2026-01-22 12:35:00,814 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 12:35:00,815 - root - INFO - Generated symbols: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 12:35:04,290 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 12:35:04,290 - root - INFO - CE: NIFTY26JAN25250CE (Token: 15025410)
2026-01-22 12:35:04,290 - root - INFO - PE: NIFTY26JAN25300PE (Token: 15027714)
2026-01-22 12:35:04,290 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25200CE -> NIFTY26JAN25250CE, PE: NIFTY26JAN25250PE -> NIFTY26JAN25300PE
2026-01-22 12:35:04,448 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 12:34:00: old_ce=NIFTY26JAN25200CE(15024386) -> new_ce=NIFTY26JAN25250CE, old_pe=NIFTY26JAN25250PE(15025666) -> new_pe=NIFTY26JAN25300PE
2026-01-22 12:35:04,448 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 12:35:04,505 - async_event_handlers - INFO - [TIMING] New candle completed at 12:35:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:35:04.505 for sentiment: BEARISH
2026-01-22 12:35:04,507 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:35:04 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:35:04,513 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:35:04,514 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=200)
2026-01-22 12:35:04,515 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:33:00 -> current=12:34:00, expected_timestamp=12:34:00, df_length=200, W%R(9) prev=-31.49 current=-3.49, W%R(28) prev=-50.00 current=-29.71
2026-01-22 12:35:04,515 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-31.49, current=-3.49, threshold=-79, W%R(28) prev=-50.00, current=-29.71, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:35:04,516 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=200)
2026-01-22 12:35:04,517 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25300PE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=140.6, close=140.6
2026-01-22 12:36:00,534 - root - INFO - ================================================
2026-01-22 12:36:00,554 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:36:00.554 - Latest candle: 12:35:00, DataFrame length: 201
2026-01-22 12:36:00,561 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:35:00, O: 164.7, H: 167.9, L: 157.9, C: 157.9, ST: Bear (167.64), W%R (9): -53.8, W%R (28): -49.5, K: 45.3, D: 33.5
2026-01-22 12:36:00,587 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:35:00 (last_check=12:35:00)
2026-01-22 12:36:00,785 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:35:00] Market Sentiment: NEUTRAL | OHLC: O=25263.75 H=25271.30 L=25258.35 C=25259.05
2026-01-22 12:36:00,786 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 12:36:00,786 - async_live_ticker_handler - INFO - [12:35:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 12:36:00,806 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:36:00.806 - Latest candle: 12:35:00, DataFrame length: 201
2026-01-22 12:36:00,813 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:35:00, O: 140.2, H: 146.9, L: 137.9, C: 146.7, ST: Bear (160.27), W%R (9): -61.2, W%R (28): -64.1, K: 45.7, D: 59.0
2026-01-22 12:36:00,913 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:35:00 (last_check=12:35:00)
2026-01-22 12:37:00,534 - root - INFO - ================================================
2026-01-22 12:37:00,892 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:36:00] Market Sentiment: BEARISH | OHLC: O=25260.05 H=25260.05 L=25246.35 C=25249.10
2026-01-22 12:37:00,892 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 12:37:00,893 - async_live_ticker_handler - INFO - [12:36:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 12:37:00,893 - async_live_ticker_handler - WARNING - [SLAB CHANGE] Potential Entry2 trigger detected for NIFTY26JAN25300PE - both W%R(9) and W%R(28) crossed above threshold (-100.00 -> -61.25 for W%R(9), -81.84 -> -64.09 for W%R(28)) - blocking slab change
2026-01-22 12:37:00,913 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:37:00.912 - Latest candle: 12:36:00, DataFrame length: 202
2026-01-22 12:37:00,919 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:36:00, O: 146.3, H: 150.9, L: 145.6, C: 148.9, ST: Bear (160.27), W%R (9): -41.0, W%R (28): -58.2, K: 46.5, D: 49.1
2026-01-22 12:37:00,963 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:37:00.963 - Latest candle: 12:36:00, DataFrame length: 202
2026-01-22 12:37:00,969 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:36:00, O: 158.2, H: 159.6, L: 154.6, C: 156.1, ST: Bear (167.64), W%R (9): -67.0, W%R (28): -55.2, K: 42.7, D: 42.2
2026-01-22 12:37:00,974 - async_event_handlers - INFO - [TIMING] New candle completed at 12:36:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:37:00.974 for sentiment: BEARISH
2026-01-22 12:37:00,975 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:37:00 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:37:00,975 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:37:00,976 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=202)
2026-01-22 12:37:00,977 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:35:00 -> current=12:36:00, expected_timestamp=12:36:00, df_length=202, W%R(9) prev=-53.78 current=-66.95, W%R(28) prev=-49.48 current=-55.17
2026-01-22 12:37:00,978 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-53.78, current=-66.95, threshold=-79, W%R(28) prev=-49.48, current=-55.17, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:37:00,979 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=202)
2026-01-22 12:37:00,980 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:35:00 -> current=12:36:00, expected_timestamp=12:36:00, df_length=202, W%R(9) prev=-61.25 current=-41.02, W%R(28) prev=-64.09 current=-58.17
2026-01-22 12:37:00,980 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-61.25, current=-41.02, threshold=-79, W%R(28) prev=-64.09, current=-58.17, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:38:00,284 - root - INFO - ================================================
2026-01-22 12:38:00,554 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:38:00.554 - Latest candle: 12:37:00, DataFrame length: 203
2026-01-22 12:38:00,561 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:37:00, O: 149.4, H: 161.1, L: 147.6, C: 160.2, ST: Bear (160.27), W%R (9): -3.9, W%R (28): -29.3, K: 72.4, D: 54.9
2026-01-22 12:38:00,828 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:38:00.828 - Latest candle: 12:37:00, DataFrame length: 203
2026-01-22 12:38:00,835 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:37:00, O: 155.9, H: 156.7, L: 145.4, C: 146.6, ST: Bear (167.17), W%R (9): -94.9, W%R (28): -83.7, K: 18.1, D: 35.4
2026-01-22 12:38:01,035 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:37:00] Market Sentiment: BEARISH | OHLC: O=25248.05 H=25251.45 L=25232.25 C=25233.35
2026-01-22 12:38:01,035 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 12:37:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:38:01.035 for sentiment: BEARISH
2026-01-22 12:38:01,036 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25241.28
2026-01-22 12:38:01,037 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 12:38:01,037 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 12:38:04,520 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 12:38:04,520 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 12:38:04,520 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 12:38:04,520 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25250CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25300PE -> NIFTY26JAN25250PE
2026-01-22 12:38:04,671 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 12:37:00: old_ce=NIFTY26JAN25250CE(15025410) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25300PE(15027714) -> new_pe=NIFTY26JAN25250PE
2026-01-22 12:38:04,672 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 12:38:04,675 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:38:04 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:38:04,680 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:38:04,681 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping entry condition check - check already in progress for timestamp: 12:38:00
2026-01-22 12:38:04,682 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=202)
2026-01-22 12:38:04,687 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:35:00 -> current=12:36:00, expected_timestamp=12:36:00, df_length=202, W%R(9) prev=-51.38 current=-67.08, W%R(28) prev=-46.61 current=-52.85
2026-01-22 12:38:04,688 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-51.38, current=-67.08, threshold=-79, W%R(28) prev=-46.61, current=-52.85, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:38:04,689 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=203)
2026-01-22 12:39:00,535 - root - INFO - ================================================
2026-01-22 12:39:00,554 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:39:00.554 - Latest candle: 12:38:00, DataFrame length: 204
2026-01-22 12:39:00,561 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:38:00, O: 135.5, H: 136.9, L: 129.6, C: 130.4, ST: Bear (135.37), W%R (9): -30.3, W%R (28): -44.4, K: 80.7, D: 65.6
2026-01-22 12:39:00,612 - async_event_handlers - INFO - [TIMING] New candle completed at 12:38:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:39:00.612 for sentiment: BEARISH
2026-01-22 12:39:00,615 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:39:00,615 - entry_conditions - WARNING - [RACE CONDITION] CE DataFrame is stale! Latest candle: 12:36:00, Expected: 12:37:00 for NIFTY26JAN25200CE. Entry conditions may use stale data.
2026-01-22 12:39:00,616 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=202)
2026-01-22 12:39:00,616 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:35:00 -> current=12:36:00, expected_timestamp=12:36:00, df_length=202, W%R(9) prev=-51.38 current=-67.08, W%R(28) prev=-46.61 current=-52.85
2026-01-22 12:39:00,617 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-51.38, current=-67.08, threshold=-79, W%R(28) prev=-46.61, current=-52.85, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:39:00,617 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=204)
2026-01-22 12:39:00,618 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:37:00 -> current=12:38:00, expected_timestamp=12:38:00, df_length=204, W%R(9) prev=-5.90 current=-30.32, W%R(28) prev=-30.07 current=-44.38
2026-01-22 12:39:00,618 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-5.90, current=-30.32, threshold=-79, W%R(28) prev=-30.07, current=-44.38, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:39:00,785 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:38:00] Market Sentiment: BEARISH | OHLC: O=25233.65 H=25251.15 L=25232.40 C=25251.15
2026-01-22 12:39:01,103 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:39:01.103 - Latest candle: 12:38:00, DataFrame length: 203
2026-01-22 12:39:01,111 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:38:00, O: 174.2, H: 180.9, L: 173.2, C: 180.7, ST: Bear (195.01), W%R (9): -70.9, W%R (28): -66.0, K: 20.7, D: 39.3
2026-01-22 12:39:01,235 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:38:00 (last_check=12:38:00)
2026-01-22 12:40:00,534 - root - INFO - ================================================
2026-01-22 12:40:00,579 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:40:00.579 - Latest candle: 12:39:00, DataFrame length: 204
2026-01-22 12:40:00,586 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:39:00, O: 180.1, H: 185.4, L: 178.4, C: 180.2, ST: Bear (195.01), W%R (9): -72.9, W%R (28): -67.3, K: 7.4, D: 25.0
2026-01-22 12:40:00,803 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:40:00.803 - Latest candle: 12:39:00, DataFrame length: 205
2026-01-22 12:40:00,810 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:39:00, O: 130.8, H: 131.8, L: 125.9, C: 129.6, ST: Bear (135.37), W%R (9): -34.0, W%R (28): -45.8, K: 81.5, D: 78.3
2026-01-22 12:40:00,812 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:39:00] Market Sentiment: BEARISH | OHLC: O=25250.45 H=25257.15 L=25248.70 C=25251.80
2026-01-22 12:40:00,813 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 12:39:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:40:00.813 for sentiment: BEARISH
2026-01-22 12:40:00,813 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25252.03
2026-01-22 12:40:00,814 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 12:40:00,814 - root - INFO - Generated symbols: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 12:40:04,280 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 12:40:04,280 - root - INFO - CE: NIFTY26JAN25250CE (Token: 15025410)
2026-01-22 12:40:04,280 - root - INFO - PE: NIFTY26JAN25300PE (Token: 15027714)
2026-01-22 12:40:04,280 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25200CE -> NIFTY26JAN25250CE, PE: NIFTY26JAN25250PE -> NIFTY26JAN25300PE
2026-01-22 12:40:04,444 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 12:39:00: old_ce=NIFTY26JAN25200CE(15024386) -> new_ce=NIFTY26JAN25250CE, old_pe=NIFTY26JAN25250PE(15025666) -> new_pe=NIFTY26JAN25300PE
2026-01-22 12:40:04,444 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 12:40:04,445 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:40:04 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:40:04,452 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:40:04,467 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=204)
2026-01-22 12:40:04,472 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:37:00 -> current=12:38:00, expected_timestamp=12:38:00, df_length=204, W%R(9) prev=-94.89 current=-68.45, W%R(28) prev=-83.66 current=-67.47
2026-01-22 12:40:04,472 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-94.89, current=-68.45, threshold=-79, W%R(28) prev=-83.66, current=-67.47, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 12:40:04,472 - entry_conditions - INFO - Entry2: Trigger detected for NIFTY26JAN25250CE - both W%R(9) and W%R(28) crossed above threshold on same candle: W%R(9) -94.89 -> -68.45, W%R(28) -83.66 -> -67.47, SuperTrend bearish
2026-01-22 12:40:04,473 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25250CE at bar 24 (T, T+1, ..., T+3), window expires at bar 28
2026-01-22 12:40:04,473 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25250CE (same candle as trigger) - Slow WPR crossed above -77 (-83.66 -> -67.47), SuperTrend1 bearish
2026-01-22 12:40:04,474 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=205)
2026-01-22 12:40:04,474 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:38:00 -> current=12:39:00, expected_timestamp=12:39:00, df_length=205, W%R(9) prev=-31.05 current=-34.90, W%R(28) prev=-45.05 current=-46.18
2026-01-22 12:40:04,475 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-31.05, current=-34.90, threshold=-79, W%R(28) prev=-45.05, current=-46.18, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:40:04,491 - async_event_handlers - INFO - [TIMING] New candle completed at 12:40:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:40:04.491 for sentiment: BEARISH
2026-01-22 12:40:04,496 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:40:04,496 - entry_conditions - WARNING - [RACE CONDITION] CE DataFrame is stale! Latest candle: 12:38:00, Expected: 12:39:00 for NIFTY26JAN25250CE. Entry conditions may use stale data.
2026-01-22 12:40:04,497 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=204)
2026-01-22 12:40:04,498 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:37:00 -> current=12:38:00, expected_timestamp=12:38:00, df_length=204, W%R(9) prev=-94.89 current=-68.45, W%R(28) prev=-83.66 current=-67.47
2026-01-22 12:40:04,498 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-94.89, current=-68.45, threshold=-79, W%R(28) prev=-83.66, current=-67.47, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 12:40:04,498 - entry_conditions - INFO - Entry2: NEW TRIGGER DETECTED for NIFTY26JAN25250CE at bar 26 - replacing old trigger at 24 (both W%R(9) and W%R(28) crossed on same candle, WPR9_INVALIDATION=false, allowing trigger replacement)
2026-01-22 12:40:04,498 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25250CE at bar 26 (T, T+1, ..., T+3), window expires at bar 30
2026-01-22 12:40:04,498 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25250CE (same candle as new trigger) - Slow WPR crossed above -77 (-83.66 -> -67.47), SuperTrend1 bearish
2026-01-22 12:40:04,499 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=205)
2026-01-22 12:40:04,500 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:38:00 -> current=12:39:00, expected_timestamp=12:39:00, df_length=205, W%R(9) prev=-31.05 current=-34.90, W%R(28) prev=-45.05 current=-46.18
2026-01-22 12:40:04,500 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-31.05, current=-34.90, threshold=-79, W%R(28) prev=-45.05, current=-46.18, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:41:00,534 - root - INFO - ================================================
2026-01-22 12:41:00,555 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:41:00.555 - Latest candle: 12:40:00, DataFrame length: 206
2026-01-22 12:41:00,561 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:40:00, O: 154.4, H: 164.2, L: 154.0, C: 163.4, ST: Bull (141.22), W%R (9): -2.7, W%R (28): -16.8, K: 80.1, D: 80.0
2026-01-22 12:41:00,605 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:41:00.605 - Latest candle: 12:40:00, DataFrame length: 205
2026-01-22 12:41:00,611 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:40:00, O: 150.4, H: 151.1, L: 142.3, C: 142.3, ST: Bear (163.01), W%R (9): -100.0, W%R (28): -96.4, K: 9.7, D: 14.6
2026-01-22 12:41:00,686 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:40:00 (last_check=12:40:00)
2026-01-22 12:41:00,688 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:40:00 (last_check=12:40:00)
2026-01-22 12:41:00,785 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:40:00] Market Sentiment: BEARISH | OHLC: O=25251.35 H=25251.95 L=25235.85 C=25236.55
2026-01-22 12:41:00,786 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25250CE'] [ALERT][ALERT][ALERT]
2026-01-22 12:41:00,786 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25243.92, close=25236.55 | Would change: CE 25250->25200, PE 25300->25250
2026-01-22 12:41:00,786 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 12:42:00,534 - root - INFO - ================================================
2026-01-22 12:42:00,554 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:42:00.554 - Latest candle: 12:41:00, DataFrame length: 206
2026-01-22 12:42:00,561 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:41:00, O: 141.9, H: 143.3, L: 137.9, C: 138.7, ST: Bear (156.37), W%R (9): -97.7, W%R (28): -98.1, K: 9.7, D: 11.8
2026-01-22 12:42:00,804 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:42:00.803 - Latest candle: 12:41:00, DataFrame length: 207
2026-01-22 12:42:00,810 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:41:00, O: 163.5, H: 168.8, L: 161.4, C: 168.6, ST: Bull (147.60), W%R (9): -0.8, W%R (28): -2.8, K: 89.4, D: 83.2
2026-01-22 12:42:01,036 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:41:00] Market Sentiment: NEUTRAL | OHLC: O=25235.85 H=25237.55 L=25225.85 C=25226.55
2026-01-22 12:42:01,036 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 12:42:01,037 - async_live_ticker_handler - INFO - [12:41:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 12:42:01,037 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 12:41:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:42:01.037 for sentiment: NEUTRAL
2026-01-22 12:42:01,038 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25250CE'] [ALERT][ALERT][ALERT]
2026-01-22 12:42:01,038 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25231.45, close=25226.55 | Would change: CE 25250->25200, PE 25300->25250
2026-01-22 12:42:01,038 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 12:42:01,039 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:42:01 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:42:01,039 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:42:01,040 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:40:00 -> current=12:41:00, expected_timestamp=12:41:00, df_length=206, W%R(9) prev=-100.00 current=-97.66, W%R(28) prev=-96.40 current=-98.08
2026-01-22 12:42:01,041 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-100.00, current=-97.66, threshold=-79, W%R(28) prev=-96.40, current=-98.08, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 12:42:01,042 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:40:00 -> current=12:41:00, expected_timestamp=12:41:00, df_length=207, W%R(9) prev=-2.67 current=-0.81, W%R(28) prev=-16.78 current=-2.84
2026-01-22 12:42:01,042 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-2.67, current=-0.81, threshold=-79, W%R(28) prev=-16.78, current=-2.84, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:43:00,534 - root - INFO - ================================================
2026-01-22 12:43:00,785 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:42:00] Market Sentiment: BEARISH | OHLC: O=25226.70 H=25229.75 L=25210.45 C=25213.20
2026-01-22 12:43:00,786 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 12:43:00,786 - async_live_ticker_handler - INFO - [12:42:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 12:43:00,787 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25250CE'] [ALERT][ALERT][ALERT]
2026-01-22 12:43:00,787 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25220.03, close=25213.20 | Would change: CE 25250->25200, PE 25300->25250
2026-01-22 12:43:00,787 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 12:43:00,806 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:43:00.806 - Latest candle: 12:42:00, DataFrame length: 207
2026-01-22 12:43:00,813 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:42:00, O: 138.9, H: 140.5, L: 131.0, C: 132.2, ST: Bear (151.82), W%R (9): -96.6, W%R (28): -97.1, K: 0.0, D: 6.5
2026-01-22 12:43:01,080 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:43:01.080 - Latest candle: 12:42:00, DataFrame length: 208
2026-01-22 12:43:01,086 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:42:00, O: 168.1, H: 180.7, L: 166.4, C: 178.1, ST: Bull (154.93), W%R (9): -6.2, W%R (28): -5.5, K: 100.0, D: 89.8
2026-01-22 12:43:01,088 - async_event_handlers - INFO - [TIMING] New candle completed at 12:42:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:43:01.088 for sentiment: BEARISH
2026-01-22 12:43:01,090 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:43:01 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:43:01,090 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:43:01,091 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=207)
2026-01-22 12:43:01,092 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:41:00 -> current=12:42:00, expected_timestamp=12:42:00, df_length=207, W%R(9) prev=-97.66 current=-96.61, W%R(28) prev=-98.08 current=-97.12
2026-01-22 12:43:01,092 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-97.66, current=-96.61, threshold=-79, W%R(28) prev=-98.08, current=-97.12, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 12:43:01,093 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=208)
2026-01-22 12:44:00,534 - root - INFO - ================================================
2026-01-22 12:44:00,606 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:44:00.606 - Latest candle: 12:43:00, DataFrame length: 209
2026-01-22 12:44:00,612 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:43:00, O: 174.4, H: 176.1, L: 163.9, C: 163.9, ST: Bull (154.93), W%R (9): -39.3, W%R (28): -35.0, K: 86.8, D: 92.0
2026-01-22 12:44:00,785 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:43:00] Market Sentiment: BEARISH | OHLC: O=25213.95 H=25233.90 L=25213.95 C=25232.30
2026-01-22 12:44:00,786 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25250CE'] [ALERT][ALERT][ALERT]
2026-01-22 12:44:00,786 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25223.53, close=25232.30 | Would change: CE 25250->25200, PE 25300->25250
2026-01-22 12:44:00,786 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 12:44:01,079 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:44:01.079 - Latest candle: 12:43:00, DataFrame length: 208
2026-01-22 12:44:01,085 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:43:00, O: 134.7, H: 142.8, L: 133.9, C: 142.2, ST: Bear (151.82), W%R (9): -69.5, W%R (28): -74.1, K: 11.7, D: 7.1
2026-01-22 12:44:01,088 - async_event_handlers - INFO - [TIMING] New candle completed at 12:43:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:44:01.088 for sentiment: BEARISH
2026-01-22 12:44:01,088 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:44:01,089 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=208)
2026-01-22 12:44:01,090 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:42:00 -> current=12:43:00, expected_timestamp=12:43:00, df_length=208, W%R(9) prev=-96.61 current=-69.51, W%R(28) prev=-97.12 current=-74.11
2026-01-22 12:44:01,090 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-96.61, current=-69.51, threshold=-79, W%R(28) prev=-97.12, current=-74.11, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 12:44:01,090 - entry_conditions - INFO - Entry2: NEW TRIGGER DETECTED for NIFTY26JAN25250CE at bar 30 - replacing old trigger at 26 (both W%R(9) and W%R(28) crossed on same candle, WPR9_INVALIDATION=false, allowing trigger replacement)
2026-01-22 12:44:01,091 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25250CE at bar 30 (T, T+1, ..., T+3), window expires at bar 34
2026-01-22 12:44:01,091 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25250CE (same candle as new trigger) - Slow WPR crossed above -77 (-97.12 -> -74.11), SuperTrend1 bearish
2026-01-22 12:44:01,092 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=209)
2026-01-22 12:44:01,092 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:42:00 -> current=12:43:00, expected_timestamp=12:43:00, df_length=209, W%R(9) prev=-6.20 current=-39.30, W%R(28) prev=-5.52 current=-35.00
2026-01-22 12:44:01,093 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-6.20, current=-39.30, threshold=-79, W%R(28) prev=-5.52, current=-35.00, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:45:00,535 - root - INFO - ================================================
2026-01-22 12:45:00,581 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:45:00.580 - Latest candle: 12:44:00, DataFrame length: 210
2026-01-22 12:45:00,589 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:44:00, O: 165.2, H: 165.9, L: 156.8, C: 157.9, ST: Bull (154.93), W%R (9): -64.7, W%R (28): -47.4, K: 68.8, D: 85.2
2026-01-22 12:45:00,812 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:44:00] Market Sentiment: BULLISH | OHLC: O=25230.40 H=25246.90 L=25230.05 C=25244.95
2026-01-22 12:45:00,813 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 12:45:00,813 - async_live_ticker_handler - INFO - [12:44:00] Market sentiment CHANGED: BEARISH -> BULLISH
2026-01-22 12:45:00,814 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25250CE'] [ALERT][ALERT][ALERT]
2026-01-22 12:45:00,814 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25238.08, close=25244.95 | Would change: CE 25250->25200, PE 25300->25250
2026-01-22 12:45:00,814 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 12:45:01,054 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:45:01.054 - Latest candle: 12:44:00, DataFrame length: 209
2026-01-22 12:45:01,061 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:44:00, O: 141.1, H: 148.2, L: 141.1, C: 146.9, ST: Bear (151.82), W%R (9): -56.9, W%R (28): -63.4, K: 28.2, D: 13.3
2026-01-22 12:45:01,088 - async_event_handlers - INFO - [TIMING] New candle completed at 12:44:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:45:01.088 for sentiment: BULLISH
2026-01-22 12:45:01,090 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:45:01 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:45:01,090 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:45:01,091 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=209)
2026-01-22 12:45:01,092 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:43:00 -> current=12:44:00, expected_timestamp=12:44:00, df_length=209, W%R(9) prev=-69.51 current=-56.91, W%R(28) prev=-74.11 current=-63.41
2026-01-22 12:45:01,092 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-69.51, current=-56.91, threshold=-79, W%R(28) prev=-74.11, current=-63.41, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:45:01,092 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25250CE (flexible mode) - K=28.20 > D=13.31 and K > 20
2026-01-22 12:45:01,093 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25250CE - All confirmations received! - Current NIFTY=25244.75
2026-01-22 12:45:01,093 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25250CE
2026-01-22 12:45:01,093 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=210)
2026-01-22 12:45:01,094 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:43:00 -> current=12:44:00, expected_timestamp=12:44:00, df_length=210, W%R(9) prev=-39.30 current=-64.72, W%R(28) prev=-35.00 current=-47.40
2026-01-22 12:45:01,095 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-39.30, current=-64.72, threshold=-79, W%R(28) prev=-35.00, current=-47.40, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:45:01,095 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BULLISH sentiment: CE entry condition 2 met. Placing CE trade for NIFTY26JAN25250CE (sentiment filter bypassed).
2026-01-22 12:45:01,096 - entry_conditions - INFO - [TIME] Time distribution filter: Trade blocked for NIFTY26JAN25250CE at 12:45:01 (disabled zone: 12:00-13:00)
2026-01-22 12:46:00,535 - root - INFO - ================================================
2026-01-22 12:46:00,605 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:46:00.604 - Latest candle: 12:45:00, DataFrame length: 211
2026-01-22 12:46:00,613 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:45:00, O: 158.1, H: 158.2, L: 149.8, C: 151.6, ST: Bear (173.17), W%R (9): -88.1, W%R (28): -60.7, K: 46.2, D: 67.3
2026-01-22 12:46:00,805 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:46:00.804 - Latest candle: 12:45:00, DataFrame length: 210
2026-01-22 12:46:00,811 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:45:00, O: 146.9, H: 152.2, L: 145.5, C: 150.4, ST: Bear (151.82), W%R (9): -32.2, W%R (28): -55.4, K: 48.1, D: 29.3
2026-01-22 12:46:00,893 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:45:00] Market Sentiment: BULLISH | OHLC: O=25244.75 H=25254.65 L=25243.80 C=25253.05
2026-01-22 12:46:00,894 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 12:45:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:46:00.894 for sentiment: BULLISH
2026-01-22 12:46:00,894 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25249.06
2026-01-22 12:46:00,895 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 12:46:00,895 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 12:46:04,371 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 12:46:04,372 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 12:46:04,372 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 12:46:04,372 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25250CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25300PE -> NIFTY26JAN25250PE
2026-01-22 12:46:04,515 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 12:45:00: old_ce=NIFTY26JAN25250CE(15025410) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25300PE(15027714) -> new_pe=NIFTY26JAN25250PE
2026-01-22 12:46:04,515 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 12:46:04,517 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:46:04 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:46:04,523 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping entry condition check - check already in progress for timestamp: 12:46:00
2026-01-22 12:46:04,524 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:46:04,529 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=211)
2026-01-22 12:46:04,530 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:44:00 -> current=12:45:00, expected_timestamp=12:45:00, df_length=211, W%R(9) prev=-43.43 current=-22.83, W%R(28) prev=-61.66 current=-52.02
2026-01-22 12:46:04,530 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-43.43, current=-22.83, threshold=-79, W%R(28) prev=-61.66, current=-52.02, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:46:04,531 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=211)
2026-01-22 12:46:04,531 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:44:00 -> current=12:45:00, expected_timestamp=12:45:00, df_length=211, W%R(9) prev=-67.21 current=-88.72, W%R(28) prev=-49.35 current=-60.62
2026-01-22 12:46:04,532 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-67.21, current=-88.72, threshold=-79, W%R(28) prev=-49.35, current=-60.62, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:47:00,535 - root - INFO - ================================================
2026-01-22 12:47:00,804 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:47:00.804 - Latest candle: 12:46:00, DataFrame length: 212
2026-01-22 12:47:00,811 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:46:00, O: 180.4, H: 180.7, L: 171.3, C: 172.6, ST: Bear (180.57), W%R (9): -44.8, W%R (28): -67.2, K: 53.2, D: 44.6
2026-01-22 12:47:00,863 - async_event_handlers - INFO - [TIMING] New candle completed at 12:46:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:47:00.863 for sentiment: BULLISH
2026-01-22 12:47:00,863 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:46:00] Market Sentiment: BULLISH | OHLC: O=25253.10 H=25254.55 L=25239.25 C=25241.75
2026-01-22 12:47:00,864 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:47:00,867 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=212)
2026-01-22 12:47:00,872 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:45:00 -> current=12:46:00, expected_timestamp=12:46:00, df_length=212, W%R(9) prev=-22.83 current=-44.76, W%R(28) prev=-52.02 current=-67.25
2026-01-22 12:47:00,872 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-22.83, current=-44.76, threshold=-79, W%R(28) prev=-52.02, current=-67.25, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:47:00,884 - entry_conditions - WARNING - [RACE CONDITION] PE DataFrame is stale! Latest candle: 12:45:00, Expected: 12:46:00 for NIFTY26JAN25250PE. Entry conditions may use stale data.
2026-01-22 12:47:00,885 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=211)
2026-01-22 12:47:00,890 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:44:00 -> current=12:45:00, expected_timestamp=12:45:00, df_length=211, W%R(9) prev=-67.21 current=-88.72, W%R(28) prev=-49.35 current=-60.62
2026-01-22 12:47:00,890 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-67.21, current=-88.72, threshold=-79, W%R(28) prev=-49.35, current=-60.62, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:47:01,080 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:47:01.080 - Latest candle: 12:46:00, DataFrame length: 212
2026-01-22 12:47:01,087 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:46:00, O: 127.0, H: 133.8, L: 126.8, C: 132.0, ST: Bear (146.92), W%R (9): -77.9, W%R (28): -51.0, K: 40.2, D: 51.4
2026-01-22 12:47:01,089 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:46:00 (last_check=12:46:00)
2026-01-22 12:48:00,534 - root - INFO - ================================================
2026-01-22 12:48:00,785 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:47:00] Market Sentiment: BULLISH | OHLC: O=25241.25 H=25242.15 L=25230.20 C=25231.45
2026-01-22 12:48:00,925 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:48:00.925 - Latest candle: 12:47:00, DataFrame length: 213
2026-01-22 12:48:00,932 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:47:00, O: 174.2, H: 174.2, L: 168.0, C: 168.0, ST: Bear (180.57), W%R (9): -60.8, W%R (28): -76.8, K: 47.6, D: 50.5
2026-01-22 12:48:00,952 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:48:00.952 - Latest candle: 12:47:00, DataFrame length: 213
2026-01-22 12:48:00,958 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:47:00, O: 130.7, H: 135.9, L: 130.7, C: 135.9, ST: Bear (146.92), W%R (9): -63.8, W%R (28): -41.8, K: 43.4, D: 43.1
2026-01-22 12:48:01,011 - async_event_handlers - INFO - [TIMING] New candle completed at 12:47:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:48:01.011 for sentiment: BULLISH
2026-01-22 12:48:01,013 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:48:01 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:48:01,014 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:48:01,014 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=213)
2026-01-22 12:48:01,015 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:46:00 -> current=12:47:00, expected_timestamp=12:47:00, df_length=213, W%R(9) prev=-44.76 current=-60.84, W%R(28) prev=-67.25 current=-76.79
2026-01-22 12:48:01,016 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-44.76, current=-60.84, threshold=-79, W%R(28) prev=-67.25, current=-76.79, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:48:01,016 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=213)
2026-01-22 12:48:01,017 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:46:00 -> current=12:47:00, expected_timestamp=12:47:00, df_length=213, W%R(9) prev=-77.90 current=-63.77, W%R(28) prev=-51.01 current=-41.76
2026-01-22 12:48:01,017 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-77.90, current=-63.77, threshold=-79, W%R(28) prev=-51.01, current=-41.76, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:49:00,534 - root - INFO - ================================================
2026-01-22 12:49:00,839 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:48:00] Market Sentiment: BULLISH | OHLC: O=25230.45 H=25246.60 L=25228.95 C=25246.60
2026-01-22 12:49:00,910 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:49:00.910 - Latest candle: 12:48:00, DataFrame length: 214
2026-01-22 12:49:00,916 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:48:00, O: 167.2, H: 175.8, L: 166.8, C: 175.8, ST: Bear (180.57), W%R (9): -23.7, W%R (28): -57.6, K: 51.0, D: 50.6
2026-01-22 12:49:00,936 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:49:00.935 - Latest candle: 12:48:00, DataFrame length: 214
2026-01-22 12:49:00,942 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:48:00, O: 136.9, H: 136.9, L: 126.7, C: 127.5, ST: Bear (146.92), W%R (9): -95.8, W%R (28): -65.9, K: 37.4, D: 40.3
2026-01-22 12:49:00,946 - async_event_handlers - INFO - [TIMING] New candle completed at 12:48:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:49:00.946 for sentiment: BULLISH
2026-01-22 12:49:00,946 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:49:00,947 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=214)
2026-01-22 12:49:00,948 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:47:00 -> current=12:48:00, expected_timestamp=12:48:00, df_length=214, W%R(9) prev=-60.84 current=-23.69, W%R(28) prev=-76.79 current=-57.64
2026-01-22 12:49:00,949 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-60.84, current=-23.69, threshold=-79, W%R(28) prev=-76.79, current=-57.64, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:49:00,950 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=214)
2026-01-22 12:49:00,950 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:47:00 -> current=12:48:00, expected_timestamp=12:48:00, df_length=214, W%R(9) prev=-63.77 current=-95.76, W%R(28) prev=-41.76 current=-65.91
2026-01-22 12:49:00,951 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-63.77, current=-95.76, threshold=-79, W%R(28) prev=-41.76, current=-65.91, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:50:00,535 - root - INFO - ================================================
2026-01-22 12:50:00,632 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:50:00.632 - Latest candle: 12:49:00, DataFrame length: 215
2026-01-22 12:50:00,641 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:49:00, O: 127.0, H: 129.0, L: 122.2, C: 125.1, ST: Bear (141.81), W%R (9): -90.9, W%R (28): -74.4, K: 22.8, D: 34.5
2026-01-22 12:50:00,841 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:49:00] Market Sentiment: BULLISH | OHLC: O=25245.85 H=25253.35 L=25244.35 C=25250.25
2026-01-22 12:50:01,055 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:50:01.055 - Latest candle: 12:49:00, DataFrame length: 215
2026-01-22 12:50:01,061 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:49:00, O: 176.8, H: 182.2, L: 174.2, C: 178.6, ST: Bear (180.57), W%R (9): -14.2, W%R (28): -48.3, K: 66.7, D: 55.1
2026-01-22 12:50:01,089 - async_event_handlers - INFO - [TIMING] New candle completed at 12:49:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:50:01.089 for sentiment: BULLISH
2026-01-22 12:50:01,089 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:50:01 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:50:01,089 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:50:01,090 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=215)
2026-01-22 12:50:01,091 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:48:00 -> current=12:49:00, expected_timestamp=12:49:00, df_length=215, W%R(9) prev=-23.69 current=-14.17, W%R(28) prev=-57.64 current=-48.34
2026-01-22 12:50:01,093 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-23.69, current=-14.17, threshold=-79, W%R(28) prev=-57.64, current=-48.34, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:50:01,093 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=215)
2026-01-22 12:50:01,094 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:48:00 -> current=12:49:00, expected_timestamp=12:49:00, df_length=215, W%R(9) prev=-95.76 current=-90.88, W%R(28) prev=-65.91 current=-74.44
2026-01-22 12:50:01,095 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-95.76, current=-90.88, threshold=-79, W%R(28) prev=-65.91, current=-74.44, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:51:00,285 - root - INFO - ================================================
2026-01-22 12:51:00,632 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:51:00.632 - Latest candle: 12:50:00, DataFrame length: 216
2026-01-22 12:51:00,641 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:50:00, O: 125.2, H: 125.2, L: 121.5, C: 122.5, ST: Bear (138.67), W%R (9): -96.6, W%R (28): -81.1, K: 4.9, D: 21.7
2026-01-22 12:51:00,785 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:50:00] Market Sentiment: BULLISH | OHLC: O=25251.50 H=25256.35 L=25249.85 C=25254.00
2026-01-22 12:51:00,787 - dynamic_atm_strike_manager - INFO - Slab change skipped (price tolerance): NIFTY (calculated)=25252.92, last_slab_price=25249.06, price_diff=3.86 points, time_since_last=296s (tolerance expires in 300s)
2026-01-22 12:51:00,787 - dynamic_atm_strike_manager - INFO - Would change: CE 25200->25250, PE 25250->25300
2026-01-22 12:51:01,054 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:51:01.054 - Latest candle: 12:50:00, DataFrame length: 216
2026-01-22 12:51:01,061 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:50:00, O: 179.7, H: 182.5, L: 179.2, C: 181.3, ST: Bull (164.39), W%R (9): -4.7, W%R (28): -41.9, K: 88.6, D: 68.8
2026-01-22 12:51:01,087 - async_event_handlers - INFO - [TIMING] New candle completed at 12:50:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:51:01.087 for sentiment: BULLISH
2026-01-22 12:51:01,088 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:51:01,089 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=216)
2026-01-22 12:51:01,090 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:49:00 -> current=12:50:00, expected_timestamp=12:50:00, df_length=216, W%R(9) prev=-14.17 current=-4.67, W%R(28) prev=-48.34 current=-41.94
2026-01-22 12:51:01,090 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-14.17, current=-4.67, threshold=-79, W%R(28) prev=-48.34, current=-41.94, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:51:01,091 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=216)
2026-01-22 12:51:01,092 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:49:00 -> current=12:50:00, expected_timestamp=12:50:00, df_length=216, W%R(9) prev=-90.88 current=-96.57, W%R(28) prev=-74.44 current=-81.13
2026-01-22 12:51:01,092 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-90.88, current=-96.57, threshold=-79, W%R(28) prev=-74.44, current=-81.13, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 12:52:00,535 - root - INFO - ================================================
2026-01-22 12:52:00,580 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:52:00.580 - Latest candle: 12:51:00, DataFrame length: 217
2026-01-22 12:52:00,588 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:51:00, O: 123.2, H: 125.5, L: 120.0, C: 123.3, ST: Bear (137.68), W%R (9): -89.1, W%R (28): -79.0, K: 1.1, D: 9.6
2026-01-22 12:52:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:51:00] Market Sentiment: BULLISH | OHLC: O=25253.10 H=25262.50 L=25250.40 C=25250.60
2026-01-22 12:52:00,787 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25254.15
2026-01-22 12:52:00,787 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 12:52:00,788 - root - INFO - Generated symbols: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 12:52:04,257 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 12:52:04,257 - root - INFO - CE: NIFTY26JAN25250CE (Token: 15025410)
2026-01-22 12:52:04,257 - root - INFO - PE: NIFTY26JAN25300PE (Token: 15027714)
2026-01-22 12:52:04,257 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25200CE -> NIFTY26JAN25250CE, PE: NIFTY26JAN25250PE -> NIFTY26JAN25300PE
2026-01-22 12:52:04,413 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 12:51:00: old_ce=NIFTY26JAN25200CE(15024386) -> new_ce=NIFTY26JAN25250CE, old_pe=NIFTY26JAN25250PE(15025666) -> new_pe=NIFTY26JAN25300PE
2026-01-22 12:52:04,413 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25250CE, PE=NIFTY26JAN25300PE
2026-01-22 12:52:04,522 - async_event_handlers - INFO - [TIMING] New candle completed at 12:52:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:52:04.522 for sentiment: BULLISH
2026-01-22 12:52:04,532 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:52:04 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:52:04,532 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:52:04,533 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=217)
2026-01-22 12:52:04,534 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:50:00 -> current=12:51:00, expected_timestamp=12:51:00, df_length=217, W%R(9) prev=-5.62 current=-16.22, W%R(28) prev=-43.09 current=-45.26
2026-01-22 12:52:04,535 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-5.62, current=-16.22, threshold=-79, W%R(28) prev=-43.09, current=-45.26, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:52:04,536 - entry_conditions - WARNING - [RACE CONDITION] PE DataFrame is stale! Latest candle: 12:50:00, Expected: 12:51:00 for NIFTY26JAN25300PE. Entry conditions may use stale data.
2026-01-22 12:52:04,537 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=216)
2026-01-22 12:52:04,538 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:49:00 -> current=12:50:00, expected_timestamp=12:50:00, df_length=216, W%R(9) prev=-90.17 current=-96.76, W%R(28) prev=-74.04 current=-80.35
2026-01-22 12:52:04,538 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-90.17, current=-96.76, threshold=-79, W%R(28) prev=-74.04, current=-80.35, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 12:53:00,785 - root - INFO - ================================================
2026-01-22 12:53:00,812 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:52:00] Market Sentiment: BULLISH | OHLC: O=25251.15 H=25251.15 L=25235.55 C=25237.80
2026-01-22 12:53:00,833 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:53:00.833 - Latest candle: 12:52:00, DataFrame length: 217
2026-01-22 12:53:00,840 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:52:00, O: 148.3, H: 154.5, L: 147.7, C: 152.9, ST: Bear (164.05), W%R (9): -75.1, W%R (28): -65.0, K: 7.7, D: 11.3
2026-01-22 12:53:00,885 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:53:00.885 - Latest candle: 12:52:00, DataFrame length: 218
2026-01-22 12:53:00,892 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:52:00, O: 150.0, H: 150.3, L: 143.6, C: 145.0, ST: Bull (137.67), W%R (9): -62.6, W%R (28): -62.1, K: 87.5, D: 90.3
2026-01-22 12:53:00,947 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:52:00 (last_check=12:52:00)
2026-01-22 12:53:00,950 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:52:00 (last_check=12:52:00)
2026-01-22 12:54:00,534 - root - INFO - ================================================
2026-01-22 12:54:00,833 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:54:00.833 - Latest candle: 12:53:00, DataFrame length: 219
2026-01-22 12:54:00,840 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:53:00, O: 144.5, H: 147.2, L: 143.3, C: 144.9, ST: Bull (137.67), W%R (9): -63.3, W%R (28): -62.3, K: 76.2, D: 86.5
2026-01-22 12:54:00,893 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:53:00] Market Sentiment: BULLISH | OHLC: O=25238.15 H=25238.20 L=25231.40 C=25234.55
2026-01-22 12:54:00,900 - async_live_ticker_handler - WARNING - [SLAB CHANGE] Potential Entry2 trigger detected for NIFTY26JAN25300PE - both W%R(9) and W%R(28) crossed above threshold (-96.76 -> -75.08 for W%R(9), -80.35 -> -65.03 for W%R(28)) - blocking slab change
2026-01-22 12:54:00,900 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25300PE'] [ALERT][ALERT][ALERT]
2026-01-22 12:54:00,900 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25235.58, close=25234.55 | Would change: CE 25250->25200, PE 25300->25250
2026-01-22 12:54:00,900 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 12:54:00,920 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:54:00.920 - Latest candle: 12:53:00, DataFrame length: 218
2026-01-22 12:54:00,927 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:53:00, O: 153.1, H: 154.9, L: 150.5, C: 153.6, ST: Bear (164.05), W%R (9): -59.4, W%R (28): -63.4, K: 16.2, D: 9.5
2026-01-22 12:54:00,928 - async_event_handlers - INFO - [TIMING] New candle completed at 12:53:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:54:00.928 for sentiment: BULLISH
2026-01-22 12:54:00,929 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:54:00 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:54:00,929 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:54:00,931 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=219)
2026-01-22 12:54:00,932 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:52:00 -> current=12:53:00, expected_timestamp=12:53:00, df_length=219, W%R(9) prev=-62.62 current=-63.28, W%R(28) prev=-62.06 current=-62.33
2026-01-22 12:54:00,932 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-62.62, current=-63.28, threshold=-79, W%R(28) prev=-62.06, current=-62.33, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:54:00,933 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=218)
2026-01-22 12:54:00,934 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25300PE during slab change: both W%R(9) and W%R(28) crossed above threshold comparing prev=12:50:00 -> current=12:53:00, W%R(9) -96.76 -> -59.42, W%R(28) -80.35 -> -63.39
2026-01-22 12:54:00,935 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25300PE at bar 41 (trigger detected during slab change)
2026-01-22 12:54:00,935 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: W%R(28) confirmation already met for NIFTY26JAN25300PE during slab change trigger
2026-01-22 12:54:00,953 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25300PE open mismatch at 12:53:00: current=153.05, kite=153.35, diff=0.30
2026-01-22 12:54:00,953 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25300PE high mismatch at 12:53:00: current=154.90, kite=155.00, diff=0.10
2026-01-22 12:54:00,953 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25300PE close mismatch at 12:53:00: current=153.60, kite=153.75, diff=0.15
2026-01-22 12:54:00,954 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25300PE OHLC validation FAILED at 12:53:00: 3 differences found
2026-01-22 12:54:00,954 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25300PE at 12:53:00 - trigger detected but data may be corrupted
2026-01-22 12:54:00,954 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:52:00 -> current=12:53:00, expected_timestamp=12:53:00, df_length=218, W%R(9) prev=-75.08 current=-59.42, W%R(28) prev=-65.03 current=-63.39
2026-01-22 12:54:00,954 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-75.08, current=-59.42, threshold=-79, W%R(28) prev=-65.03, current=-63.39, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:55:00,535 - root - INFO - ================================================
2026-01-22 12:55:00,555 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:55:00.555 - Latest candle: 12:54:00, DataFrame length: 219
2026-01-22 12:55:00,562 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:54:00, O: 153.9, H: 159.1, L: 150.2, C: 158.6, ST: Bear (164.05), W%R (9): -20.2, W%R (28): -51.7, K: 30.4, D: 18.1
2026-01-22 12:55:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:54:00] Market Sentiment: BULLISH | OHLC: O=25232.90 H=25240.15 L=25229.10 C=25229.10
2026-01-22 12:55:00,787 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25300PE'] [ALERT][ALERT][ALERT]
2026-01-22 12:55:00,787 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25232.81, close=25229.10 | Would change: CE 25250->25200, PE 25300->25250
2026-01-22 12:55:00,787 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 12:55:00,807 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25250CE at 12:55:00.807 - Latest candle: 12:54:00, DataFrame length: 220
2026-01-22 12:55:00,814 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250CE: Time: 12:54:00, O: 144.2, H: 147.1, L: 139.2, C: 139.5, ST: Bull (137.67), W%R (9): -98.4, W%R (28): -77.0, K: 58.1, D: 74.0
2026-01-22 12:55:00,843 - async_event_handlers - INFO - [TIMING] New candle completed at 12:54:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:55:00.843 for sentiment: BULLISH
2026-01-22 12:55:00,845 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25250CE, PE symbol: NIFTY26JAN25300PE
2026-01-22 12:55:00,847 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250CE (Entry2 enabled, df_length=220)
2026-01-22 12:55:00,848 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250CE: comparing candles prev=12:53:00 -> current=12:54:00, expected_timestamp=12:54:00, df_length=220, W%R(9) prev=-63.28 current=-98.37, W%R(28) prev=-62.33 current=-76.96
2026-01-22 12:55:00,849 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250CE: W%R(9) prev=-63.28, current=-98.37, threshold=-79, W%R(28) prev=-62.33, current=-76.96, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:55:00,850 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25300PE (Entry2 enabled, df_length=219)
2026-01-22 12:55:00,851 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25300PE during slab change: both W%R(9) and W%R(28) crossed above threshold comparing prev=12:50:00 -> current=12:54:00, W%R(9) -96.76 -> -20.24, W%R(28) -80.35 -> -51.70
2026-01-22 12:55:00,852 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25300PE at bar 42 (trigger detected during slab change)
2026-01-22 12:55:00,852 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: W%R(28) confirmation already met for NIFTY26JAN25300PE during slab change trigger
2026-01-22 12:55:00,883 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25300PE high mismatch at 12:54:00: current=159.10, kite=156.95, diff=2.15
2026-01-22 12:55:00,883 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25300PE close mismatch at 12:54:00: current=158.60, kite=156.95, diff=1.65
2026-01-22 12:55:00,883 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25300PE OHLC validation FAILED at 12:54:00: 2 differences found
2026-01-22 12:55:00,884 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25300PE at 12:54:00 - trigger detected but data may be corrupted
2026-01-22 12:55:00,884 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25300PE: comparing candles prev=12:53:00 -> current=12:54:00, expected_timestamp=12:54:00, df_length=219, W%R(9) prev=-59.42 current=-20.24, W%R(28) prev=-63.39 current=-51.70
2026-01-22 12:55:00,884 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25300PE: W%R(9) prev=-59.42, current=-20.24, threshold=-79, W%R(28) prev=-63.39, current=-51.70, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:55:00,884 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25300PE (flexible mode) - K=30.36 > D=18.07 and K > 20
2026-01-22 12:55:00,884 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25300PE - All confirmations received! - Current NIFTY=25228.00
2026-01-22 12:55:00,885 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25300PE
2026-01-22 12:55:00,885 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BULLISH sentiment: PE entry condition 2 met. Placing PE trade for NIFTY26JAN25300PE (sentiment filter bypassed).
2026-01-22 12:55:00,886 - entry_conditions - INFO - [TIME] Time distribution filter: Trade blocked for NIFTY26JAN25300PE at 12:55:00 (disabled zone: 12:00-13:00)
2026-01-22 12:56:00,535 - root - INFO - ================================================
2026-01-22 12:56:00,631 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25300PE at 12:56:00.631 - Latest candle: 12:55:00, DataFrame length: 220
2026-01-22 12:56:00,638 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25300PE: Time: 12:55:00, O: 159.1, H: 169.8, L: 158.6, C: 168.8, ST: Bull (147.11), W%R (9): -4.1, W%R (28): -27.9, K: 47.0, D: 31.2
2026-01-22 12:56:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:55:00] Market Sentiment: BEARISH | OHLC: O=25228.00 H=25228.50 L=25213.30 C=25215.15
2026-01-22 12:56:00,786 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 12:56:00,787 - async_live_ticker_handler - INFO - [12:55:00] Market sentiment CHANGED: BULLISH -> BEARISH
2026-01-22 12:56:00,787 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25221.24
2026-01-22 12:56:00,788 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 12:56:00,788 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 12:56:04,268 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 12:56:04,268 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 12:56:04,269 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 12:56:04,269 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25250CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25300PE -> NIFTY26JAN25250PE
2026-01-22 12:56:04,431 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 12:55:00: old_ce=NIFTY26JAN25250CE(15025410) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25300PE(15027714) -> new_pe=NIFTY26JAN25250PE
2026-01-22 12:56:04,431 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 12:56:04,466 - async_event_handlers - INFO - [TIMING] New candle completed at 12:56:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:56:04.466 for sentiment: BEARISH
2026-01-22 12:56:04,473 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:56:04 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:56:04,473 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:56:04,475 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=221)
2026-01-22 12:56:04,476 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:54:00 -> current=12:55:00, expected_timestamp=12:55:00, df_length=221, W%R(9) prev=-95.81 current=-95.03, W%R(28) prev=-74.64 current=-90.64
2026-01-22 12:56:04,476 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-95.81, current=-95.03, threshold=-79, W%R(28) prev=-74.64, current=-90.64, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 12:56:04,476 - entry_conditions - WARNING - [RACE CONDITION] PE DataFrame is stale! Latest candle: 12:54:00, Expected: 12:55:00 for NIFTY26JAN25250PE. Entry conditions may use stale data.
2026-01-22 12:56:04,477 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=220)
2026-01-22 12:56:04,478 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:53:00 -> current=12:54:00, expected_timestamp=12:54:00, df_length=220, W%R(9) prev=-46.61 current=-19.76, W%R(28) prev=-64.09 current=-52.16
2026-01-22 12:56:04,478 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-46.61, current=-19.76, threshold=-79, W%R(28) prev=-64.09, current=-52.16, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 12:57:00,535 - root - INFO - ================================================
2026-01-22 12:57:00,633 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:57:00.632 - Latest candle: 12:56:00, DataFrame length: 222
2026-01-22 12:57:00,639 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:56:00, O: 160.8, H: 162.7, L: 157.5, C: 162.4, ST: Bear (175.44), W%R (9): -82.0, W%R (28): -86.7, K: 26.1, D: 43.9
2026-01-22 12:57:00,670 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:56:00 (last_check=12:56:00)
2026-01-22 12:57:01,055 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:57:01.055 - Latest candle: 12:56:00, DataFrame length: 221
2026-01-22 12:57:01,062 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:56:00, O: 142.8, H: 147.1, L: 140.7, C: 140.7, ST: Bull (128.55), W%R (9): -23.6, W%R (28): -33.5, K: 45.8, D: 31.6
2026-01-22 12:57:01,063 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:56:00] Market Sentiment: BEARISH | OHLC: O=25213.85 H=25215.35 L=25208.65 C=25212.15
2026-01-22 12:57:01,066 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 12:56:00 (last_check=12:56:00)
2026-01-22 12:58:00,535 - root - INFO - ================================================
2026-01-22 12:58:00,556 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:58:00.556 - Latest candle: 12:57:00, DataFrame length: 223
2026-01-22 12:58:00,563 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:57:00, O: 162.5, H: 166.0, L: 159.2, C: 159.2, ST: Bear (175.44), W%R (9): -93.5, W%R (28): -94.2, K: 11.0, D: 27.4
2026-01-22 12:58:00,805 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:58:00.805 - Latest candle: 12:57:00, DataFrame length: 222
2026-01-22 12:58:00,812 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:57:00, O: 141.1, H: 145.7, L: 137.4, C: 144.8, ST: Bull (128.55), W%R (9): -8.5, W%R (28): -22.8, K: 70.5, D: 49.2
2026-01-22 12:58:00,813 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:57:00] Market Sentiment: BEARISH | OHLC: O=25212.85 H=25220.55 L=25212.40 C=25212.95
2026-01-22 12:58:00,815 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 12:57:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:58:00.815 for sentiment: BEARISH
2026-01-22 12:58:00,843 - entry_conditions - INFO - [TIME] Currently in disabled time zone at 12:58:00 (disabled zone: 12:00-13:00) - Entry signals will be blocked
2026-01-22 12:58:00,843 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:58:00,845 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=223)
2026-01-22 12:58:00,846 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:56:00 -> current=12:57:00, expected_timestamp=12:57:00, df_length=223, W%R(9) prev=-81.95 current=-93.55, W%R(28) prev=-86.73 current=-94.19
2026-01-22 12:58:00,846 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-81.95, current=-93.55, threshold=-79, W%R(28) prev=-86.73, current=-94.19, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 12:58:00,848 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=222)
2026-01-22 12:59:00,535 - root - INFO - ================================================
2026-01-22 12:59:00,582 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 12:59:00.582 - Latest candle: 12:58:00, DataFrame length: 224
2026-01-22 12:59:00,589 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:58:00, O: 159.8, H: 161.7, L: 156.9, C: 161.7, ST: Bear (173.91), W%R (9): -83.0, W%R (28): -88.5, K: 9.0, D: 15.3
2026-01-22 12:59:00,609 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 12:59:00.609 - Latest candle: 12:58:00, DataFrame length: 223
2026-01-22 12:59:00,616 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:58:00, O: 143.9, H: 147.6, L: 141.1, C: 141.1, ST: Bull (129.13), W%R (9): -23.6, W%R (28): -32.5, K: 82.6, D: 66.3
2026-01-22 12:59:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:58:00] Market Sentiment: BEARISH | OHLC: O=25212.15 H=25217.35 L=25207.75 C=25217.35
2026-01-22 12:59:00,786 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 12:58:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 12:59:00.786 for sentiment: BEARISH
2026-01-22 12:59:00,788 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 12:59:00,789 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=224)
2026-01-22 12:59:00,790 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:57:00 -> current=12:58:00, expected_timestamp=12:58:00, df_length=224, W%R(9) prev=-93.55 current=-83.03, W%R(28) prev=-94.19 current=-88.51
2026-01-22 12:59:00,791 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-93.55, current=-83.03, threshold=-79, W%R(28) prev=-94.19, current=-88.51, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 12:59:00,792 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=223)
2026-01-22 12:59:00,793 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:57:00 -> current=12:58:00, expected_timestamp=12:58:00, df_length=223, W%R(9) prev=-8.49 current=-23.55, W%R(28) prev=-22.80 current=-32.50
2026-01-22 12:59:00,793 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-8.49, current=-23.55, threshold=-79, W%R(28) prev=-22.80, current=-32.50, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:00:00,535 - root - INFO - ================================================
2026-01-22 13:00:00,556 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:00:00.556 - Latest candle: 12:59:00, DataFrame length: 225
2026-01-22 13:00:00,563 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 12:59:00, O: 161.7, H: 161.8, L: 155.9, C: 158.2, ST: Bear (173.17), W%R (9): -92.3, W%R (28): -94.9, K: 5.5, D: 8.5
2026-01-22 13:00:00,583 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:00:00.582 - Latest candle: 12:59:00, DataFrame length: 224
2026-01-22 13:00:00,590 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 12:59:00, O: 141.2, H: 148.7, L: 141.2, C: 146.8, ST: Bull (129.74), W%R (9): -6.5, W%R (28): -17.6, K: 93.2, D: 82.1
2026-01-22 13:00:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [12:59:00] Market Sentiment: BEARISH | OHLC: O=25216.10 H=25217.50 L=25205.90 C=25209.90
2026-01-22 13:00:00,786 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 12:59:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:00:00.786 for sentiment: BEARISH
2026-01-22 13:00:00,842 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:00:00,846 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=225)
2026-01-22 13:00:00,847 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:58:00 -> current=12:59:00, expected_timestamp=12:59:00, df_length=225, W%R(9) prev=-83.03 current=-92.33, W%R(28) prev=-88.51 current=-94.89
2026-01-22 13:00:00,847 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-83.03, current=-92.33, threshold=-79, W%R(28) prev=-88.51, current=-94.89, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:00:00,849 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=224)
2026-01-22 13:01:00,285 - root - INFO - ================================================
2026-01-22 13:01:00,659 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:01:00.659 - Latest candle: 13:00:00, DataFrame length: 225
2026-01-22 13:01:00,666 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:00:00, O: 146.6, H: 150.6, L: 141.6, C: 143.6, ST: Bull (130.59), W%R (9): -22.9, W%R (28): -26.1, K: 87.4, D: 87.7
2026-01-22 13:01:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:00:00] Market Sentiment: BEARISH | OHLC: O=25208.65 H=25217.25 L=25202.20 C=25215.70
2026-01-22 13:01:00,807 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:01:00.807 - Latest candle: 13:00:00, DataFrame length: 226
2026-01-22 13:01:00,814 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:00:00, O: 157.7, H: 161.6, L: 154.3, C: 160.4, ST: Bear (172.28), W%R (9): -76.1, W%R (28): -86.3, K: 10.9, D: 8.4
2026-01-22 13:01:00,816 - async_event_handlers - INFO - [TIMING] New candle completed at 13:00:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:01:00.816 for sentiment: BEARISH
2026-01-22 13:01:00,817 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:01:00,819 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=226)
2026-01-22 13:01:00,820 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=12:59:00 -> current=13:00:00, expected_timestamp=13:00:00, df_length=226, W%R(9) prev=-92.33 current=-76.08, W%R(28) prev=-94.89 current=-86.35
2026-01-22 13:01:00,820 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-92.33, current=-76.08, threshold=-79, W%R(28) prev=-94.89, current=-86.35, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:01:00,820 - entry_conditions - INFO - Entry2: Trigger detected for NIFTY26JAN25200CE - W%R(9) crossed above threshold: W%R(9) -92.33 -> -76.08, W%R(28) -94.89 -> -86.35, SuperTrend bearish
2026-01-22 13:01:00,820 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 48 (T, T+1, ..., T+3), window expires at bar 52
2026-01-22 13:01:00,821 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=225)
2026-01-22 13:01:00,824 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=12:59:00 -> current=13:00:00, expected_timestamp=13:00:00, df_length=225, W%R(9) prev=-6.46 current=-22.91, W%R(28) prev=-17.56 current=-26.08
2026-01-22 13:01:00,824 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-6.46, current=-22.91, threshold=-79, W%R(28) prev=-17.56, current=-26.08, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:02:00,535 - root - INFO - ================================================
2026-01-22 13:02:00,581 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:02:00.581 - Latest candle: 13:01:00, DataFrame length: 227
2026-01-22 13:02:00,588 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:01:00, O: 160.2, H: 160.2, L: 155.3, C: 155.5, ST: Bear (171.69), W%R (9): -94.5, W%R (28): -97.3, K: 5.5, D: 7.3
2026-01-22 13:02:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:01:00] Market Sentiment: NEUTRAL | OHLC: O=25214.90 H=25214.90 L=25197.65 C=25197.65
2026-01-22 13:02:00,786 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 13:02:00,787 - async_live_ticker_handler - INFO - [13:01:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 13:02:00,834 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:02:00.833 - Latest candle: 13:01:00, DataFrame length: 226
2026-01-22 13:02:00,841 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:01:00, O: 143.2, H: 152.3, L: 143.2, C: 152.3, ST: Bull (132.00), W%R (9): 0.0, W%R (28): -3.1, K: 94.1, D: 91.6
2026-01-22 13:02:00,868 - async_event_handlers - INFO - [TIMING] New candle completed at 13:01:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:02:00.868 for sentiment: NEUTRAL
2026-01-22 13:02:00,870 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:02:00,871 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25200CE: Fast WPR crossed back below -79 at bar 49: -76.08 -> -94.51
2026-01-22 13:02:00,872 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:00:00 -> current=13:01:00, expected_timestamp=13:01:00, df_length=227, W%R(9) prev=-76.08 current=-94.51, W%R(28) prev=-86.35 current=-97.32
2026-01-22 13:02:00,872 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-76.08, current=-94.51, threshold=-79, W%R(28) prev=-86.35, current=-97.32, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:02:00,874 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:00:00 -> current=13:01:00, expected_timestamp=13:01:00, df_length=226, W%R(9) prev=-22.91 current=0.00, W%R(28) prev=-26.08 current=-3.15
2026-01-22 13:02:00,874 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-22.91, current=0.00, threshold=-79, W%R(28) prev=-26.08, current=-3.15, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:03:00,285 - root - INFO - ================================================
2026-01-22 13:03:00,555 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:03:00.554 - Latest candle: 13:02:00, DataFrame length: 228
2026-01-22 13:03:00,562 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:02:00, O: 151.1, H: 159.3, L: 150.5, C: 158.8, ST: Bear (169.22), W%R (9): -67.5, W%R (28): -82.9, K: 12.9, D: 9.8
2026-01-22 13:03:00,785 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:02:00] Market Sentiment: BEARISH | OHLC: O=25196.25 H=25208.35 L=25190.95 C=25206.40
2026-01-22 13:03:00,786 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 13:03:00,786 - async_live_ticker_handler - INFO - [13:02:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 13:03:01,107 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:03:01.107 - Latest candle: 13:02:00, DataFrame length: 227
2026-01-22 13:03:01,114 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:02:00, O: 154.6, H: 154.6, L: 144.2, C: 144.9, ST: Bull (133.13), W%R (9): -34.2, W%R (28): -24.5, K: 83.1, D: 88.2
2026-01-22 13:03:01,146 - async_event_handlers - INFO - [TIMING] New candle completed at 13:02:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:03:01.146 for sentiment: BEARISH
2026-01-22 13:03:01,147 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:03:01,148 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=228)
2026-01-22 13:03:01,149 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:01:00 -> current=13:02:00, expected_timestamp=13:02:00, df_length=228, W%R(9) prev=-94.51 current=-67.51, W%R(28) prev=-97.32 current=-82.89
2026-01-22 13:03:01,149 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-94.51, current=-67.51, threshold=-79, W%R(28) prev=-97.32, current=-82.89, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:03:01,149 - entry_conditions - INFO - Entry2: NEW TRIGGER DETECTED for NIFTY26JAN25200CE at bar 50 - replacing old trigger at 48 (W%R(9) crossed and W%R(28) was below threshold, WPR9_INVALIDATION=false, allowing trigger replacement)
2026-01-22 13:03:01,149 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 50 (T, T+1, ..., T+3), window expires at bar 54
2026-01-22 13:03:01,150 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=227)
2026-01-22 13:03:01,151 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:01:00 -> current=13:02:00, expected_timestamp=13:02:00, df_length=227, W%R(9) prev=0.00 current=-34.22, W%R(28) prev=-3.15 current=-24.49
2026-01-22 13:03:01,151 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=0.00, current=-34.22, threshold=-79, W%R(28) prev=-3.15, current=-24.49, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:04:00,535 - root - INFO - ================================================
2026-01-22 13:04:00,583 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:04:00.582 - Latest candle: 13:03:00, DataFrame length: 229
2026-01-22 13:04:00,589 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:03:00, O: 159.3, H: 161.9, L: 158.3, C: 159.2, ST: Bear (169.22), W%R (9): -50.8, W%R (28): -77.6, K: 16.0, D: 11.5
2026-01-22 13:04:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:03:00] Market Sentiment: BULLISH | OHLC: O=25206.50 H=25212.35 L=25205.55 C=25210.60
2026-01-22 13:04:00,786 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 13:04:00,787 - async_live_ticker_handler - INFO - [13:03:00] Market sentiment CHANGED: BEARISH -> BULLISH
2026-01-22 13:04:00,834 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:04:00.834 - Latest candle: 13:03:00, DataFrame length: 228
2026-01-22 13:04:00,841 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:03:00, O: 144.6, H: 145.6, L: 141.4, C: 143.3, ST: Bull (133.13), W%R (9): -40.1, W%R (28): -28.7, K: 75.7, D: 84.3
2026-01-22 13:04:00,844 - async_event_handlers - INFO - [TIMING] New candle completed at 13:03:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:04:00.844 for sentiment: BULLISH
2026-01-22 13:04:00,845 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:04:00,846 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=229)
2026-01-22 13:04:00,847 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:02:00 -> current=13:03:00, expected_timestamp=13:03:00, df_length=229, W%R(9) prev=-67.51 current=-50.84, W%R(28) prev=-82.89 current=-77.56
2026-01-22 13:04:00,847 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-67.51, current=-50.84, threshold=-79, W%R(28) prev=-82.89, current=-77.56, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:04:00,848 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=228)
2026-01-22 13:04:00,849 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:02:00 -> current=13:03:00, expected_timestamp=13:03:00, df_length=228, W%R(9) prev=-34.22 current=-40.11, W%R(28) prev=-24.49 current=-28.70
2026-01-22 13:04:00,849 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-34.22, current=-40.11, threshold=-79, W%R(28) prev=-24.49, current=-28.70, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:05:00,785 - root - INFO - ================================================
2026-01-22 13:05:00,866 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:04:00] Market Sentiment: BULLISH | OHLC: O=25211.40 H=25217.45 L=25209.10 C=25217.45
2026-01-22 13:05:00,887 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:05:00.887 - Latest candle: 13:04:00, DataFrame length: 230
2026-01-22 13:05:00,894 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:04:00, O: 159.8, H: 163.8, L: 159.4, C: 162.0, ST: Bear (169.22), W%R (9): -25.8, W%R (28): -68.3, K: 31.2, D: 20.0
2026-01-22 13:05:01,082 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:05:01.082 - Latest candle: 13:04:00, DataFrame length: 229
2026-01-22 13:05:01,089 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:04:00, O: 143.3, H: 143.6, L: 138.4, C: 139.2, ST: Bull (133.13), W%R (9): -89.5, W%R (28): -44.4, K: 56.8, D: 71.9
2026-01-22 13:05:01,092 - async_event_handlers - INFO - [TIMING] New candle completed at 13:04:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:05:01.092 for sentiment: BULLISH
2026-01-22 13:05:01,092 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:05:01,093 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=230)
2026-01-22 13:05:01,094 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:03:00 -> current=13:04:00, expected_timestamp=13:04:00, df_length=230, W%R(9) prev=-50.84 current=-25.81, W%R(28) prev=-77.56 current=-68.32
2026-01-22 13:05:01,094 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-50.84, current=-25.81, threshold=-79, W%R(28) prev=-77.56, current=-68.32, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 13:05:01,095 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25200CE - Slow WPR crossed above -77 (-77.56 -> -68.32), SuperTrend1 bearish
2026-01-22 13:05:01,095 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25200CE (flexible mode) - K=31.18 > D=20.03 and K > 20
2026-01-22 13:05:01,095 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25200CE - All confirmations received! - Current NIFTY=25217.15
2026-01-22 13:05:01,095 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25200CE
2026-01-22 13:05:01,096 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=229)
2026-01-22 13:05:01,097 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:03:00 -> current=13:04:00, expected_timestamp=13:04:00, df_length=229, W%R(9) prev=-40.11 current=-89.50, W%R(28) prev=-28.70 current=-44.43
2026-01-22 13:05:01,097 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-40.11, current=-89.50, threshold=-79, W%R(28) prev=-28.70, current=-44.43, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:05:01,097 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BULLISH sentiment: CE entry condition 2 met. Placing CE trade for NIFTY26JAN25200CE (sentiment filter bypassed).
2026-01-22 13:05:01,098 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25200CE (CE) ===
2026-01-22 13:05:01,641 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25200CE has status: OPEN PENDING. Order ID: 2014240367591219200. Proceeding with caution.
2026-01-22 13:05:01,642 - strategy_executor - INFO - [OK] Entry2 TRADE TAKEN for NIFTY26JAN25200CE - Order ID: 2014240367591219200, Quantity: 65, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 13:05:01,642 - trade_state_manager - INFO - New trade added for NIFTY26JAN25200CE. Manual trade: True. Metadata: {'entry_type': 'Entry2'}
2026-01-22 13:05:01,694 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25200CE: 161.35
2026-01-22 13:05:01,695 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25200CE @ 13:05:01 price=161.35
2026-01-22 13:05:01,695 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25200CE - Checking POSITION_MANAGEMENT config...
2026-01-22 13:05:01,695 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25200CE
2026-01-22 13:05:01,695 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25200CE [OK][OK][OK]
2026-01-22 13:05:01,695 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25200CE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 13:05:01,696 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25200CE: {'calculated_sl_price': 151.65, 'last_sl_price': 151.65}
2026-01-22 13:05:01,696 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25200CE: 3 symbols mapped
2026-01-22 13:05:01,696 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25200CE -> 15024386
2026-01-22 13:05:01,696 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25200CE (Entry=161.35, SL=151.65, TP=None, SuperTrendSL=False) [NOTE][NOTE][NOTE]
2026-01-22 13:05:01,696 - realtime_position_manager - INFO - [NOTE] Active positions count: 1
2026-01-22 13:05:01,697 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25200CE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 13:05:01,697 - entry_conditions - INFO - [OK] Entry2 trade successfully executed for NIFTY26JAN25200CE
2026-01-22 13:06:00,535 - root - INFO - ================================================
2026-01-22 13:06:00,813 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:05:00] Market Sentiment: BULLISH | OHLC: O=25217.15 H=25222.05 L=25209.20 C=25210.35
2026-01-22 13:06:01,056 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:06:01.055 - Latest candle: 13:05:00, DataFrame length: 231
2026-01-22 13:06:01,063 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:05:00, O: 162.0, H: 163.8, L: 157.8, C: 159.3, ST: Bear (169.22), W%R (9): -42.9, W%R (28): -74.6, K: 39.7, D: 29.0
2026-01-22 13:06:01,083 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:06:01.083 - Latest candle: 13:05:00, DataFrame length: 230
2026-01-22 13:06:01,090 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:05:00, O: 139.8, H: 145.6, L: 137.7, C: 143.4, ST: Bull (133.13), W%R (9): -65.0, W%R (28): -32.3, K: 53.5, D: 62.0
2026-01-22 13:06:01,149 - async_event_handlers - INFO - [TIMING] New candle completed at 13:05:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:06:01.149 for sentiment: BULLISH
2026-01-22 13:06:01,151 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:06:01,152 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=231)
2026-01-22 13:06:01,189 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 13:06:01,190 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=230)
2026-01-22 13:06:01,191 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:04:00 -> current=13:05:00, expected_timestamp=13:05:00, df_length=230, W%R(9) prev=-89.50 current=-65.01, W%R(28) prev=-44.43 current=-32.27
2026-01-22 13:06:01,192 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-89.50, current=-65.01, threshold=-79, W%R(28) prev=-44.43, current=-32.27, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:07:00,285 - root - INFO - ================================================
2026-01-22 13:07:00,635 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:07:00.634 - Latest candle: 13:06:00, DataFrame length: 232
2026-01-22 13:07:00,642 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:06:00, O: 159.3, H: 161.2, L: 157.5, C: 158.0, ST: Bear (169.22), W%R (9): -43.4, W%R (28): -78.5, K: 43.5, D: 38.1
2026-01-22 13:07:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:06:00] Market Sentiment: BULLISH | OHLC: O=25209.95 H=25213.60 L=25204.50 C=25206.55
2026-01-22 13:07:00,835 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:07:00.835 - Latest candle: 13:06:00, DataFrame length: 231
2026-01-22 13:07:00,842 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:06:00, O: 143.3, H: 145.6, L: 141.6, C: 145.5, ST: Bull (133.13), W%R (9): -53.5, W%R (28): -26.2, K: 51.5, D: 53.9
2026-01-22 13:07:00,871 - async_event_handlers - INFO - [TIMING] New candle completed at 13:06:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:07:00.871 for sentiment: BULLISH
2026-01-22 13:07:00,873 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:07:00,873 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=232)
2026-01-22 13:07:00,911 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 13:07:00,912 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=231)
2026-01-22 13:07:00,913 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:05:00 -> current=13:06:00, expected_timestamp=13:06:00, df_length=231, W%R(9) prev=-65.01 current=-53.55, W%R(28) prev=-32.27 current=-26.19
2026-01-22 13:07:00,913 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-65.01, current=-53.55, threshold=-79, W%R(28) prev=-32.27, current=-26.19, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:08:00,285 - root - INFO - ================================================
2026-01-22 13:08:00,833 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:08:00.833 - Latest candle: 13:07:00, DataFrame length: 233
2026-01-22 13:08:00,840 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:07:00, O: 158.2, H: 163.2, L: 155.4, C: 155.5, ST: Bear (169.22), W%R (9): -62.3, W%R (28): -85.4, K: 35.5, D: 39.6
2026-01-22 13:08:00,861 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:08:00.860 - Latest candle: 13:07:00, DataFrame length: 232
2026-01-22 13:08:00,868 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:07:00, O: 144.6, H: 146.2, L: 138.4, C: 146.2, ST: Bull (133.13), W%R (9): -49.7, W%R (28): -24.3, K: 56.0, D: 53.7
2026-01-22 13:08:00,894 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:07:00] Market Sentiment: BULLISH | OHLC: O=25207.35 H=25217.40 L=25206.10 C=25207.15
2026-01-22 13:08:00,900 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 13:07:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:08:00.900 for sentiment: BULLISH
2026-01-22 13:08:00,900 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:08:00,901 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=233)
2026-01-22 13:08:00,940 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 13:08:00,941 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=232)
2026-01-22 13:08:00,942 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:06:00 -> current=13:07:00, expected_timestamp=13:07:00, df_length=232, W%R(9) prev=-53.55 current=-49.70, W%R(28) prev=-26.19 current=-24.31
2026-01-22 13:08:00,942 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-53.55, current=-49.70, threshold=-79, W%R(28) prev=-26.19, current=-24.31, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:09:00,535 - root - INFO - ================================================
2026-01-22 13:09:00,666 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:09:00.665 - Latest candle: 13:08:00, DataFrame length: 234
2026-01-22 13:09:00,673 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:08:00, O: 155.3, H: 157.2, L: 154.3, C: 156.0, ST: Bear (167.85), W%R (9): -58.5, W%R (28): -83.9, K: 29.8, D: 36.2
2026-01-22 13:09:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:08:00] Market Sentiment: NEUTRAL | OHLC: O=25206.35 H=25207.75 L=25202.85 C=25205.10
2026-01-22 13:09:00,786 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 13:09:00,787 - async_live_ticker_handler - INFO - [13:08:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 13:09:00,808 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:09:00.808 - Latest candle: 13:08:00, DataFrame length: 233
2026-01-22 13:09:00,816 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:08:00, O: 146.0, H: 147.2, L: 143.9, C: 145.4, ST: Bull (133.13), W%R (9): -53.9, W%R (28): -26.3, K: 49.9, D: 52.5
2026-01-22 13:09:00,817 - async_event_handlers - INFO - [TIMING] New candle completed at 13:08:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:09:00.817 for sentiment: NEUTRAL
2026-01-22 13:09:00,817 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:09:00,854 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 13:09:00,856 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:07:00 -> current=13:08:00, expected_timestamp=13:08:00, df_length=233, W%R(9) prev=-49.70 current=-53.85, W%R(28) prev=-24.31 current=-26.34
2026-01-22 13:09:00,856 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-49.70, current=-53.85, threshold=-79, W%R(28) prev=-24.31, current=-26.34, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:10:00,285 - root - INFO - ================================================
2026-01-22 13:10:00,611 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:10:00.611 - Latest candle: 13:09:00, DataFrame length: 235
2026-01-22 13:10:00,618 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:09:00, O: 156.1, H: 159.2, L: 153.2, C: 154.8, ST: Bear (167.85), W%R (9): -67.5, W%R (28): -87.4, K: 22.6, D: 29.3
2026-01-22 13:10:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:09:00] Market Sentiment: NEUTRAL | OHLC: O=25205.00 H=25210.50 L=25200.00 C=25202.70
2026-01-22 13:10:01,111 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:10:01.111 - Latest candle: 13:09:00, DataFrame length: 234
2026-01-22 13:10:01,118 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:09:00, O: 144.9, H: 149.0, L: 141.5, C: 147.5, ST: Bull (133.13), W%R (9): -41.7, W%R (28): -20.4, K: 49.6, D: 51.8
2026-01-22 13:10:01,121 - async_event_handlers - INFO - [TIMING] New candle completed at 13:09:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:10:01.121 for sentiment: NEUTRAL
2026-01-22 13:10:01,122 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:10:01,170 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 13:10:01,171 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:08:00 -> current=13:09:00, expected_timestamp=13:09:00, df_length=234, W%R(9) prev=-53.85 current=-41.72, W%R(28) prev=-26.34 current=-20.41
2026-01-22 13:10:01,172 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-53.85, current=-41.72, threshold=-79, W%R(28) prev=-26.34, current=-20.41, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:11:00,536 - root - INFO - ================================================
2026-01-22 13:11:00,584 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:11:00.584 - Latest candle: 13:10:00, DataFrame length: 236
2026-01-22 13:11:00,592 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:10:00, O: 154.5, H: 160.4, L: 152.1, C: 159.8, ST: Bear (167.85), W%R (9): -30.2, W%R (28): -72.9, K: 48.8, D: 33.7
2026-01-22 13:11:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:10:00] Market Sentiment: NEUTRAL | OHLC: O=25201.20 H=25207.60 L=25196.80 C=25206.60
2026-01-22 13:11:00,862 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:11:00.862 - Latest candle: 13:10:00, DataFrame length: 235
2026-01-22 13:11:00,869 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:10:00, O: 148.2, H: 150.4, L: 141.5, C: 141.8, ST: Bull (133.13), W%R (9): -75.4, W%R (28): -36.9, K: 31.2, D: 43.6
2026-01-22 13:11:00,873 - async_event_handlers - INFO - [TIMING] New candle completed at 13:10:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:11:00.872 for sentiment: NEUTRAL
2026-01-22 13:11:00,873 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:11:00,911 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 13:11:00,912 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:09:00 -> current=13:10:00, expected_timestamp=13:10:00, df_length=235, W%R(9) prev=-41.72 current=-75.44, W%R(28) prev=-20.41 current=-36.90
2026-01-22 13:11:00,913 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-41.72, current=-75.44, threshold=-79, W%R(28) prev=-20.41, current=-36.90, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:12:00,535 - root - INFO - ================================================
2026-01-22 13:12:00,805 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:12:00.805 - Latest candle: 13:11:00, DataFrame length: 237
2026-01-22 13:12:00,813 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:11:00, O: 159.7, H: 160.7, L: 154.0, C: 154.0, ST: Bear (167.85), W%R (9): -83.3, W%R (28): -89.8, K: 48.5, D: 40.0
2026-01-22 13:12:00,834 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:12:00.833 - Latest candle: 13:11:00, DataFrame length: 236
2026-01-22 13:12:00,841 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:11:00, O: 141.4, H: 147.2, L: 140.8, C: 146.7, ST: Bull (133.13), W%R (9): -29.4, W%R (28): -22.9, K: 31.1, D: 37.3
2026-01-22 13:12:00,900 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:11:00] Market Sentiment: NEUTRAL | OHLC: O=25207.20 H=25210.00 L=25203.50 C=25203.75
2026-01-22 13:12:00,900 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 13:11:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:12:00.900 for sentiment: NEUTRAL
2026-01-22 13:12:00,957 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:12:01,001 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 13:12:01,002 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:10:00 -> current=13:11:00, expected_timestamp=13:11:00, df_length=236, W%R(9) prev=-75.44 current=-29.41, W%R(28) prev=-36.90 current=-22.87
2026-01-22 13:12:01,002 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-75.44, current=-29.41, threshold=-79, W%R(28) prev=-36.90, current=-22.87, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:13:00,535 - root - INFO - ================================================
2026-01-22 13:13:00,706 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:13:00.706 - Latest candle: 13:12:00, DataFrame length: 237
2026-01-22 13:13:00,713 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:12:00, O: 146.2, H: 146.4, L: 138.2, C: 138.4, ST: Bull (133.13), W%R (9): -94.1, W%R (28): -46.7, K: 13.2, D: 25.2
2026-01-22 13:13:00,831 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:13:00.831 - Latest candle: 13:12:00, DataFrame length: 238
2026-01-22 13:13:00,839 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:12:00, O: 154.7, H: 160.1, L: 154.7, C: 160.0, ST: Bear (167.85), W%R (9): -32.0, W%R (28): -72.2, K: 76.7, D: 58.0
2026-01-22 13:13:00,873 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:12:00] Market Sentiment: NEUTRAL | OHLC: O=25203.25 H=25211.00 L=25203.00 C=25209.75
2026-01-22 13:13:00,873 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 13:12:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:13:00.873 for sentiment: NEUTRAL
2026-01-22 13:13:00,874 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:13:00,911 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 13:13:00,913 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:11:00 -> current=13:12:00, expected_timestamp=13:12:00, df_length=237, W%R(9) prev=-29.41 current=-94.12, W%R(28) prev=-22.87 current=-46.74
2026-01-22 13:13:00,913 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-29.41, current=-94.12, threshold=-79, W%R(28) prev=-22.87, current=-46.74, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:14:00,285 - root - INFO - ================================================
2026-01-22 13:14:00,610 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:14:00.610 - Latest candle: 13:13:00, DataFrame length: 238
2026-01-22 13:14:00,617 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:13:00, O: 138.0, H: 146.0, L: 137.1, C: 143.4, ST: Bull (133.13), W%R (9): -52.4, W%R (28): -32.3, K: 22.3, D: 22.2
2026-01-22 13:14:00,815 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:13:00] Market Sentiment: NEUTRAL | OHLC: O=25209.85 H=25214.05 L=25201.65 C=25204.25
2026-01-22 13:14:01,057 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:14:01.057 - Latest candle: 13:13:00, DataFrame length: 239
2026-01-22 13:14:01,064 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:13:00, O: 160.9, H: 161.0, L: 153.7, C: 155.7, ST: Bear (167.85), W%R (9): -68.8, W%R (28): -84.8, K: 62.8, D: 62.6
2026-01-22 13:14:01,066 - async_event_handlers - INFO - [TIMING] New candle completed at 13:13:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:14:01.066 for sentiment: NEUTRAL
2026-01-22 13:14:01,066 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:14:01,108 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 13:14:01,109 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:12:00 -> current=13:13:00, expected_timestamp=13:13:00, df_length=238, W%R(9) prev=-94.12 current=-52.43, W%R(28) prev=-46.74 current=-32.27
2026-01-22 13:14:01,109 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-94.12, current=-52.43, threshold=-79, W%R(28) prev=-46.74, current=-32.27, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:14:22,786 - realtime_position_manager - WARNING - [STOP] SL TRIGGERED: NIFTY26JAN25200CE - LTP=151.10 <= SL=151.65 (gap=0.55, 0.36%)
2026-01-22 13:14:22,786 - immediate_exit_executor - INFO - [START] Executing exit: NIFTY26JAN25200CE - SL @ 151.10 (qty=65)
2026-01-22 13:14:22,823 - immediate_exit_executor - WARNING - [WARN] Detected stale orders_placed flag for NIFTY26JAN25200CE while position still open. Clearing and retrying exit.
2026-01-22 13:14:22,823 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25200CE @ 13:14:22 price=151.10 pnl=-6.35% reason=SL
2026-01-22 13:14:22,824 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25200CE: SL @ 151.10
2026-01-22 13:14:22,908 - immediate_exit_executor - WARNING - [UNKNOWN EXIT ORDER STATUS] Exit order for NIFTY26JAN25200CE has status: OPEN PENDING. Order ID: 2014242723045236736. Proceeding with caution.
2026-01-22 13:14:22,908 - immediate_exit_executor - INFO - [OK] Market exit order placed: NIFTY26JAN25200CE - Order ID: 2014242723045236736 (Status: OPEN PENDING, attempt 1/3)
2026-01-22 13:14:23,471 - immediate_exit_executor - INFO - [OK] Position validated closed: NIFTY26JAN25200CE (Order ID: 2014242723045236736)
2026-01-22 13:14:23,471 - immediate_exit_executor - CRITICAL - [OK][OK][OK] Exit executed successfully: NIFTY26JAN25200CE - SL @ 151.10 (Order ID: 2014242723045236736) [OK][OK][OK]
2026-01-22 13:14:23,471 - realtime_position_manager - WARNING - [WARN] Exit signal already dispatched for NIFTY26JAN25200CE, skipping duplicate SL trigger on this tick
2026-01-22 13:14:23,472 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25200CE
2026-01-22 13:15:00,285 - root - INFO - ================================================
2026-01-22 13:15:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:14:00] Market Sentiment: BEARISH | OHLC: O=25201.85 H=25205.70 L=25190.45 C=25191.95
2026-01-22 13:15:00,786 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 13:15:00,787 - async_live_ticker_handler - INFO - [13:14:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 13:15:00,787 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25197.49
2026-01-22 13:15:00,788 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 13:15:00,788 - root - INFO - Generated symbols: CE=NIFTY26JAN25150CE, PE=NIFTY26JAN25200PE
2026-01-22 13:15:04,264 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 13:15:04,264 - root - INFO - CE: NIFTY26JAN25150CE (Token: 15018754)
2026-01-22 13:15:04,264 - root - INFO - PE: NIFTY26JAN25200PE (Token: 15024642)
2026-01-22 13:15:04,265 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25200CE -> NIFTY26JAN25150CE, PE: NIFTY26JAN25250PE -> NIFTY26JAN25200PE
2026-01-22 13:15:04,427 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 13:14:00: old_ce=NIFTY26JAN25200CE(15024386) -> new_ce=NIFTY26JAN25150CE, old_pe=NIFTY26JAN25250PE(15025666) -> new_pe=NIFTY26JAN25200PE
2026-01-22 13:15:04,427 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25150CE, PE=NIFTY26JAN25200PE
2026-01-22 13:15:04,489 - async_event_handlers - INFO - [TIMING] New candle completed at 13:15:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:15:04.489 for sentiment: BEARISH
2026-01-22 13:15:04,492 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:15:04,499 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=239)
2026-01-22 13:15:04,500 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:12:00 -> current=13:13:00, expected_timestamp=13:13:00, df_length=239, W%R(9) prev=-30.04 current=-67.06, W%R(28) prev=-70.50 current=-82.66
2026-01-22 13:15:04,500 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-30.04, current=-67.06, threshold=-79, W%R(28) prev=-70.50, current=-82.66, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 13:15:04,501 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=239)
2026-01-22 13:15:04,502 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:12:00 -> current=13:13:00, expected_timestamp=13:13:00, df_length=239, W%R(9) prev=-95.11 current=-50.86, W%R(28) prev=-48.36 current=-32.62
2026-01-22 13:15:04,502 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-95.11, current=-50.86, threshold=-79, W%R(28) prev=-48.36, current=-32.62, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:16:00,535 - root - INFO - ================================================
2026-01-22 13:16:00,834 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:16:00.833 - Latest candle: 13:15:00, DataFrame length: 240
2026-01-22 13:16:00,841 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:15:00, O: 175.6, H: 178.8, L: 173.5, C: 175.8, ST: Bear (191.62), W%R (9): -88.7, W%R (28): -94.9, K: 59.6, D: 73.3
2026-01-22 13:16:00,888 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:16:00.888 - Latest candle: 13:15:00, DataFrame length: 240
2026-01-22 13:16:00,896 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:15:00, O: 127.6, H: 130.7, L: 126.2, C: 128.8, ST: Bull (114.98), W%R (9): -11.9, W%R (28): -6.2, K: 43.0, D: 30.7
2026-01-22 13:16:00,897 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:15:00] Market Sentiment: NEUTRAL | OHLC: O=25192.05 H=25192.05 L=25183.55 C=25186.75
2026-01-22 13:16:00,900 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:15:00 (last_check=13:15:00)
2026-01-22 13:16:00,901 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 13:16:00,901 - async_live_ticker_handler - INFO - [13:15:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 13:16:00,906 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:15:00 (last_check=13:15:00)
2026-01-22 13:17:00,535 - root - INFO - ================================================
2026-01-22 13:17:00,557 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:17:00.556 - Latest candle: 13:16:00, DataFrame length: 241
2026-01-22 13:17:00,564 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:16:00, O: 175.9, H: 182.6, L: 175.9, C: 178.6, ST: Bear (191.62), W%R (9): -74.6, W%R (28): -88.5, K: 35.4, D: 56.8
2026-01-22 13:17:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:16:00] Market Sentiment: BULLISH | OHLC: O=25187.10 H=25197.10 L=25185.55 C=25191.85
2026-01-22 13:17:00,787 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 13:17:00,787 - async_live_ticker_handler - INFO - [13:16:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 13:17:00,788 - async_live_ticker_handler - WARNING - [SLAB CHANGE] Potential Entry2 trigger detected for NIFTY26JAN25150CE - W%R(9) crossed above threshold (-88.69 -> -74.62 for W%R(9), -94.88 -> -88.51 for W%R(28)) - blocking slab change
2026-01-22 13:17:01,057 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:17:01.057 - Latest candle: 13:16:00, DataFrame length: 241
2026-01-22 13:17:01,065 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:16:00, O: 128.8, H: 128.8, L: 122.3, C: 125.7, ST: Bull (114.98), W%R (9): -31.7, W%R (28): -16.4, K: 66.9, D: 46.9
2026-01-22 13:17:01,121 - async_event_handlers - INFO - [TIMING] New candle completed at 13:16:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:17:01.121 for sentiment: BULLISH
2026-01-22 13:17:01,123 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:17:01,129 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=241)
2026-01-22 13:17:01,131 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:15:00 -> current=13:16:00, expected_timestamp=13:16:00, df_length=241, W%R(9) prev=-88.69 current=-74.62, W%R(28) prev=-94.88 current=-88.51
2026-01-22 13:17:01,131 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-88.69, current=-74.62, threshold=-79, W%R(28) prev=-94.88, current=-88.51, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:17:01,131 - entry_conditions - INFO - Entry2: Trigger detected for NIFTY26JAN25150CE - W%R(9) crossed above threshold: W%R(9) -88.69 -> -74.62, W%R(28) -94.88 -> -88.51, SuperTrend bearish
2026-01-22 13:17:01,132 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25150CE at bar 10 (T, T+1, ..., T+3), window expires at bar 14
2026-01-22 13:17:01,133 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=241)
2026-01-22 13:17:01,134 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:15:00 -> current=13:16:00, expected_timestamp=13:16:00, df_length=241, W%R(9) prev=-11.91 current=-31.66, W%R(28) prev=-6.17 current=-16.40
2026-01-22 13:17:01,134 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-11.91, current=-31.66, threshold=-79, W%R(28) prev=-6.17, current=-16.40, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:18:00,535 - root - INFO - ================================================
2026-01-22 13:18:00,556 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:18:00.556 - Latest candle: 13:17:00, DataFrame length: 242
2026-01-22 13:18:00,563 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:17:00, O: 178.4, H: 180.6, L: 168.9, C: 169.3, ST: Bear (190.85), W%R (9): -98.2, W%R (28): -99.2, K: 12.8, D: 35.9
2026-01-22 13:18:00,813 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:17:00] Market Sentiment: BEARISH | OHLC: O=25190.95 H=25193.60 L=25172.45 C=25172.45
2026-01-22 13:18:00,815 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 13:18:00,816 - async_live_ticker_handler - INFO - [13:17:00] Market sentiment CHANGED: BULLISH -> BEARISH
2026-01-22 13:18:01,084 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:18:01.084 - Latest candle: 13:17:00, DataFrame length: 242
2026-01-22 13:18:01,091 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:17:00, O: 126.8, H: 137.7, L: 124.5, C: 137.1, ST: Bull (116.36), W%R (9): -2.6, W%R (28): -1.6, K: 87.8, D: 65.9
2026-01-22 13:18:01,094 - async_event_handlers - INFO - [TIMING] New candle completed at 13:17:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:18:01.094 for sentiment: BEARISH
2026-01-22 13:18:01,096 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:18:01,096 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25150CE: Fast WPR crossed back below -79 at bar 11: -74.62 -> -98.23
2026-01-22 13:18:01,097 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=242)
2026-01-22 13:18:01,098 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:16:00 -> current=13:17:00, expected_timestamp=13:17:00, df_length=242, W%R(9) prev=-74.62 current=-98.23, W%R(28) prev=-88.51 current=-99.18
2026-01-22 13:18:01,099 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-74.62, current=-98.23, threshold=-79, W%R(28) prev=-88.51, current=-99.18, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:18:01,100 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=242)
2026-01-22 13:19:00,535 - root - INFO - ================================================
2026-01-22 13:19:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:18:00] Market Sentiment: BEARISH | OHLC: O=25172.15 H=25194.55 L=25171.40 C=25191.60
2026-01-22 13:19:00,864 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:19:00.864 - Latest candle: 13:18:00, DataFrame length: 243
2026-01-22 13:19:00,871 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:18:00, O: 168.8, H: 181.0, L: 167.2, C: 178.8, ST: Bear (190.85), W%R (9): -52.7, W%R (28): -77.1, K: 31.2, D: 26.4
2026-01-22 13:19:01,306 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:19:01.306 - Latest candle: 13:18:00, DataFrame length: 243
2026-01-22 13:19:01,314 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:18:00, O: 138.2, H: 138.2, L: 124.2, C: 126.0, ST: Bull (116.36), W%R (9): -52.1, W%R (28): -31.9, K: 69.9, D: 74.8
2026-01-22 13:19:01,316 - async_event_handlers - INFO - [TIMING] New candle completed at 13:18:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:19:01.316 for sentiment: BEARISH
2026-01-22 13:19:01,317 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:19:01,319 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=243)
2026-01-22 13:19:01,321 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:17:00 -> current=13:18:00, expected_timestamp=13:18:00, df_length=243, W%R(9) prev=-98.23 current=-52.67, W%R(28) prev=-99.18 current=-77.09
2026-01-22 13:19:01,321 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-98.23, current=-52.67, threshold=-79, W%R(28) prev=-99.18, current=-77.09, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:19:01,321 - entry_conditions - INFO - Entry2: NEW TRIGGER DETECTED for NIFTY26JAN25150CE at bar 12 - replacing old trigger at 10 (W%R(9) crossed and W%R(28) was below threshold, WPR9_INVALIDATION=false, allowing trigger replacement)
2026-01-22 13:19:01,321 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25150CE at bar 12 (T, T+1, ..., T+3), window expires at bar 16
2026-01-22 13:19:01,322 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25150CE (same candle as new trigger, flexible mode) - K=31.16 > D=26.44 and K > 20
2026-01-22 13:19:01,323 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=243)
2026-01-22 13:19:01,324 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:17:00 -> current=13:18:00, expected_timestamp=13:18:00, df_length=243, W%R(9) prev=-2.62 current=-52.13, W%R(28) prev=-1.59 current=-31.94
2026-01-22 13:19:01,325 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-2.62, current=-52.13, threshold=-79, W%R(28) prev=-1.59, current=-31.94, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:20:00,535 - root - INFO - ================================================
2026-01-22 13:20:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:19:00] Market Sentiment: BULLISH | OHLC: O=25191.50 H=25201.75 L=25190.15 C=25201.10
2026-01-22 13:20:00,786 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 13:20:00,787 - async_live_ticker_handler - INFO - [13:19:00] Market sentiment CHANGED: BEARISH -> BULLISH
2026-01-22 13:20:00,893 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:20:00.893 - Latest candle: 13:19:00, DataFrame length: 244
2026-01-22 13:20:00,901 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:19:00, O: 178.3, H: 187.5, L: 177.4, C: 187.4, ST: Bear (190.85), W%R (9): -17.1, W%R (28): -59.9, K: 55.4, D: 33.1
2026-01-22 13:20:01,085 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:20:01.085 - Latest candle: 13:19:00, DataFrame length: 244
2026-01-22 13:20:01,092 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:19:00, O: 126.3, H: 127.3, L: 118.3, C: 118.3, ST: Bull (116.36), W%R (9): -84.9, W%R (28): -52.0, K: 47.0, D: 68.2
2026-01-22 13:20:01,096 - async_event_handlers - INFO - [TIMING] New candle completed at 13:19:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:20:01.096 for sentiment: BULLISH
2026-01-22 13:20:01,097 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:20:01,098 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=244)
2026-01-22 13:20:01,099 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:18:00 -> current=13:19:00, expected_timestamp=13:19:00, df_length=244, W%R(9) prev=-52.67 current=-17.08, W%R(28) prev=-77.09 current=-59.86
2026-01-22 13:20:01,100 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-52.67, current=-17.08, threshold=-79, W%R(28) prev=-77.09, current=-59.86, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 13:20:01,100 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25150CE - Slow WPR crossed above -77 (-77.09 -> -59.86), SuperTrend1 bearish
2026-01-22 13:20:01,100 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25150CE - All confirmations received! - Current NIFTY=25200.70
2026-01-22 13:20:01,100 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25150CE
2026-01-22 13:20:01,102 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=244)
2026-01-22 13:20:01,102 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200PE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=118.3, close=118.3
2026-01-22 13:20:01,102 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BULLISH sentiment: CE entry condition 2 met. Placing CE trade for NIFTY26JAN25150CE (sentiment filter bypassed).
2026-01-22 13:20:01,104 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25150CE (CE) ===
2026-01-22 13:20:01,613 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25150CE has status: OPEN PENDING. Order ID: 2014244142359961600. Proceeding with caution.
2026-01-22 13:20:01,614 - strategy_executor - INFO - [OK] Entry2 TRADE TAKEN for NIFTY26JAN25150CE - Order ID: 2014244142359961600, Quantity: 65, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 13:20:01,614 - trade_state_manager - INFO - New trade added for NIFTY26JAN25150CE. Manual trade: True. Metadata: {'entry_type': 'Entry2'}
2026-01-22 13:20:01,656 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25150CE: 189.75
2026-01-22 13:20:01,657 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25150CE @ 13:20:01 price=189.75
2026-01-22 13:20:01,657 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25150CE - Checking POSITION_MANAGEMENT config...
2026-01-22 13:20:01,657 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25150CE
2026-01-22 13:20:01,657 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25150CE [OK][OK][OK]
2026-01-22 13:20:01,657 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25150CE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 13:20:01,658 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25150CE: {'calculated_sl_price': 178.35, 'last_sl_price': 178.35}
2026-01-22 13:20:01,658 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25150CE: 3 symbols mapped
2026-01-22 13:20:01,658 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25150CE -> 15018754
2026-01-22 13:20:01,658 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25150CE (Entry=189.75, SL=178.35, TP=None, SuperTrendSL=False) [NOTE][NOTE][NOTE]
2026-01-22 13:20:01,658 - realtime_position_manager - INFO - [NOTE] Active positions count: 1
2026-01-22 13:20:01,659 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25150CE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 13:20:01,659 - entry_conditions - INFO - [OK] Entry2 trade successfully executed for NIFTY26JAN25150CE
2026-01-22 13:21:00,285 - root - INFO - ================================================
2026-01-22 13:21:00,555 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:21:00.555 - Latest candle: 13:20:00, DataFrame length: 245
2026-01-22 13:21:00,563 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:20:00, O: 187.8, H: 189.8, L: 179.7, C: 182.7, ST: Bear (190.85), W%R (9): -36.4, W%R (28): -66.3, K: 81.9, D: 56.2
2026-01-22 13:21:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:20:00] Market Sentiment: BULLISH | OHLC: O=25200.70 H=25207.65 L=25193.25 C=25195.00
2026-01-22 13:21:01,307 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:21:01.307 - Latest candle: 13:20:00, DataFrame length: 245
2026-01-22 13:21:01,315 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:20:00, O: 117.7, H: 125.2, L: 115.5, C: 123.0, ST: Bull (116.36), W%R (9): -64.9, W%R (28): -44.3, K: 21.6, D: 46.2
2026-01-22 13:21:01,347 - async_event_handlers - INFO - [TIMING] New candle completed at 13:20:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:21:01.347 for sentiment: BULLISH
2026-01-22 13:21:01,349 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:21:01,352 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=245)
2026-01-22 13:21:01,391 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25150CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 13:21:01,393 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=245)
2026-01-22 13:21:01,394 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:19:00 -> current=13:20:00, expected_timestamp=13:20:00, df_length=245, W%R(9) prev=-84.89 current=-64.89, W%R(28) prev=-52.02 current=-44.27
2026-01-22 13:21:01,394 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-84.89, current=-64.89, threshold=-79, W%R(28) prev=-52.02, current=-44.27, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:21:31,286 - realtime_position_manager - WARNING - [STOP] SL TRIGGERED: NIFTY26JAN25150CE - LTP=178.00 <= SL=178.35 (gap=0.35, 0.20%)
2026-01-22 13:21:31,286 - immediate_exit_executor - INFO - [START] Executing exit: NIFTY26JAN25150CE - SL @ 178.00 (qty=65)
2026-01-22 13:21:31,326 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25150CE @ 13:21:31 price=178.00 pnl=-6.19% reason=SL
2026-01-22 13:21:31,327 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25150CE: SL @ 178.00
2026-01-22 13:21:31,415 - immediate_exit_executor - WARNING - [UNKNOWN EXIT ORDER STATUS] Exit order for NIFTY26JAN25150CE has status: OPEN PENDING. Order ID: 2014244520338055168. Proceeding with caution.
2026-01-22 13:21:31,415 - immediate_exit_executor - INFO - [OK] Market exit order placed: NIFTY26JAN25150CE - Order ID: 2014244520338055168 (Status: OPEN PENDING, attempt 1/3)
2026-01-22 13:21:31,868 - realtime_position_manager - WARNING - [WARN] Exit signal already dispatched for NIFTY26JAN25150CE, skipping duplicate SL trigger on this tick
2026-01-22 13:21:31,868 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25150CE
2026-01-22 13:21:31,957 - immediate_exit_executor - INFO - [OK] Position validated closed: NIFTY26JAN25150CE (Order ID: 2014244520338055168)
2026-01-22 13:21:31,958 - immediate_exit_executor - CRITICAL - [OK][OK][OK] Exit executed successfully: NIFTY26JAN25150CE - SL @ 178.00 (Order ID: 2014244520338055168) [OK][OK][OK]
2026-01-22 13:22:00,286 - root - INFO - ================================================
2026-01-22 13:22:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:21:00] Market Sentiment: BULLISH | OHLC: O=25193.95 H=25196.55 L=25186.50 C=25190.60
2026-01-22 13:22:00,864 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:22:00.864 - Latest candle: 13:21:00, DataFrame length: 246
2026-01-22 13:22:00,871 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:21:00, O: 182.2, H: 182.9, L: 175.6, C: 178.3, ST: Bear (190.85), W%R (9): -54.3, W%R (28): -72.8, K: 80.3, D: 72.6
2026-01-22 13:22:01,112 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:22:01.112 - Latest candle: 13:21:00, DataFrame length: 246
2026-01-22 13:22:01,122 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:21:00, O: 124.7, H: 129.7, L: 122.7, C: 127.2, ST: Bull (116.36), W%R (9): -46.8, W%R (28): -33.4, K: 22.7, D: 30.4
2026-01-22 13:22:01,127 - async_event_handlers - INFO - [TIMING] New candle completed at 13:21:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:22:01.127 for sentiment: BULLISH
2026-01-22 13:22:01,128 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:22:01,129 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=246)
2026-01-22 13:22:01,130 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:20:00 -> current=13:21:00, expected_timestamp=13:21:00, df_length=246, W%R(9) prev=-36.42 current=-54.32, W%R(28) prev=-66.27 current=-72.83
2026-01-22 13:22:01,130 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-36.42, current=-54.32, threshold=-79, W%R(28) prev=-66.27, current=-72.83, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:22:01,132 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=246)
2026-01-22 13:22:01,133 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:20:00 -> current=13:21:00, expected_timestamp=13:21:00, df_length=246, W%R(9) prev=-64.89 current=-46.81, W%R(28) prev=-44.27 current=-33.43
2026-01-22 13:22:01,133 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-64.89, current=-46.81, threshold=-79, W%R(28) prev=-44.27, current=-33.43, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:23:00,535 - root - INFO - ================================================
2026-01-22 13:23:00,806 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:23:00.806 - Latest candle: 13:22:00, DataFrame length: 247
2026-01-22 13:23:00,814 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:22:00, O: 178.1, H: 188.8, L: 178.1, C: 184.7, ST: Bear (190.85), W%R (9): -28.4, W%R (28): -57.4, K: 77.9, D: 80.1
2026-01-22 13:23:00,844 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:22:00] Market Sentiment: BULLISH | OHLC: O=25190.20 H=25205.75 L=25188.80 C=25201.25
2026-01-22 13:23:01,084 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:23:01.084 - Latest candle: 13:22:00, DataFrame length: 247
2026-01-22 13:23:01,093 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:22:00, O: 127.3, H: 127.5, L: 117.5, C: 121.0, ST: Bull (116.36), W%R (9): -73.6, W%R (28): -52.6, K: 25.8, D: 23.4
2026-01-22 13:23:01,096 - async_event_handlers - INFO - [TIMING] New candle completed at 13:22:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:23:01.096 for sentiment: BULLISH
2026-01-22 13:23:01,097 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:23:01,098 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=247)
2026-01-22 13:23:01,099 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:21:00 -> current=13:22:00, expected_timestamp=13:22:00, df_length=247, W%R(9) prev=-54.32 current=-28.40, W%R(28) prev=-72.83 current=-57.41
2026-01-22 13:23:01,100 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-54.32, current=-28.40, threshold=-79, W%R(28) prev=-72.83, current=-57.41, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:23:01,101 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=247)
2026-01-22 13:23:01,102 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:21:00 -> current=13:22:00, expected_timestamp=13:22:00, df_length=247, W%R(9) prev=-46.81 current=-73.62, W%R(28) prev=-33.43 current=-52.58
2026-01-22 13:23:01,102 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-46.81, current=-73.62, threshold=-79, W%R(28) prev=-33.43, current=-52.58, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:24:00,535 - root - INFO - ================================================
2026-01-22 13:24:00,585 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:24:00.584 - Latest candle: 13:23:00, DataFrame length: 248
2026-01-22 13:24:00,592 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:23:00, O: 185.2, H: 189.4, L: 184.4, C: 189.1, ST: Bear (190.85), W%R (9): -2.9, W%R (28): -31.5, K: 84.8, D: 81.0
2026-01-22 13:24:00,820 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:23:00] Market Sentiment: BULLISH | OHLC: O=25200.50 H=25204.95 L=25199.40 C=25204.95
2026-01-22 13:24:00,822 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25202.45
2026-01-22 13:24:00,823 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 13:24:00,823 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 13:24:04,294 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 13:24:04,295 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 13:24:04,295 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 13:24:04,295 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25150CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25200PE -> NIFTY26JAN25250PE
2026-01-22 13:24:04,462 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 13:23:00: old_ce=NIFTY26JAN25150CE(15018754) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25200PE(15024642) -> new_pe=NIFTY26JAN25250PE
2026-01-22 13:24:04,462 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 13:24:04,526 - async_event_handlers - INFO - [TIMING] New candle completed at 13:24:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:24:04.526 for sentiment: BULLISH
2026-01-22 13:24:04,534 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:24:04,535 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=248)
2026-01-22 13:24:04,536 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:21:00 -> current=13:22:00, expected_timestamp=13:22:00, df_length=248, W%R(9) prev=-54.57 current=-23.44, W%R(28) prev=-73.35 current=-46.42
2026-01-22 13:24:04,537 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-54.57, current=-23.44, threshold=-79, W%R(28) prev=-73.35, current=-46.42, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:24:04,538 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=249)
2026-01-22 13:24:04,539 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:22:00 -> current=13:23:00, expected_timestamp=13:23:00, df_length=249, W%R(9) prev=-75.25 current=-89.90, W%R(28) prev=-63.55 current=-86.64
2026-01-22 13:24:04,540 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-75.25, current=-89.90, threshold=-79, W%R(28) prev=-63.55, current=-86.64, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 13:25:00,535 - root - INFO - ================================================
2026-01-22 13:25:00,614 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:25:00.614 - Latest candle: 13:24:00, DataFrame length: 250
2026-01-22 13:25:00,621 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:24:00, O: 139.9, H: 147.6, L: 139.3, C: 147.6, ST: Bull (139.22), W%R (9): -62.2, W%R (28): -59.9, K: 12.3, D: 16.1
2026-01-22 13:25:00,626 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:24:00 (last_check=13:24:00)
2026-01-22 13:25:00,814 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:24:00] Market Sentiment: BULLISH | OHLC: O=25204.00 H=25208.30 L=25196.80 C=25197.15
2026-01-22 13:25:01,139 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:25:01.138 - Latest candle: 13:24:00, DataFrame length: 249
2026-01-22 13:25:01,148 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:24:00, O: 158.7, H: 159.3, L: 151.1, C: 151.1, ST: Bear (160.08), W%R (9): -42.9, W%R (28): -56.5, K: 77.0, D: 78.5
2026-01-22 13:25:01,155 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:24:00 (last_check=13:24:00)
2026-01-22 13:26:00,535 - root - INFO - ================================================
2026-01-22 13:26:00,585 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:26:00.585 - Latest candle: 13:25:00, DataFrame length: 251
2026-01-22 13:26:00,593 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:25:00, O: 147.4, H: 150.4, L: 144.6, C: 148.6, ST: Bull (139.22), W%R (9): -58.2, W%R (28): -56.1, K: 19.9, D: 15.6
2026-01-22 13:26:00,815 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:25:00] Market Sentiment: BULLISH | OHLC: O=25196.20 H=25199.15 L=25192.90 C=25194.95
2026-01-22 13:26:00,818 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25195.80
2026-01-22 13:26:00,818 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 13:26:00,818 - root - INFO - Generated symbols: CE=NIFTY26JAN25150CE, PE=NIFTY26JAN25200PE
2026-01-22 13:26:04,282 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 13:26:04,282 - root - INFO - CE: NIFTY26JAN25150CE (Token: 15018754)
2026-01-22 13:26:04,282 - root - INFO - PE: NIFTY26JAN25200PE (Token: 15024642)
2026-01-22 13:26:04,282 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25200CE -> NIFTY26JAN25150CE, PE: NIFTY26JAN25250PE -> NIFTY26JAN25200PE
2026-01-22 13:26:04,445 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 13:25:00: old_ce=NIFTY26JAN25200CE(15024386) -> new_ce=NIFTY26JAN25150CE, old_pe=NIFTY26JAN25250PE(15025666) -> new_pe=NIFTY26JAN25200PE
2026-01-22 13:26:04,446 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25150CE, PE=NIFTY26JAN25200PE
2026-01-22 13:26:04,507 - async_event_handlers - INFO - [TIMING] New candle completed at 13:26:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:26:04.507 for sentiment: BULLISH
2026-01-22 13:26:04,510 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:26:04,515 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=251)
2026-01-22 13:26:04,516 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:24:00 -> current=13:25:00, expected_timestamp=13:25:00, df_length=251, W%R(9) prev=-42.07 current=-40.97, W%R(28) prev=-55.57 current=-49.91
2026-01-22 13:26:04,517 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-42.07, current=-40.97, threshold=-79, W%R(28) prev=-55.57, current=-49.91, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:26:04,517 - entry_conditions - WARNING - [RACE CONDITION] PE DataFrame is stale! Latest candle: 13:24:00, Expected: 13:25:00 for NIFTY26JAN25200PE. Entry conditions may use stale data.
2026-01-22 13:26:04,518 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=250)
2026-01-22 13:26:04,519 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:23:00 -> current=13:24:00, expected_timestamp=13:24:00, df_length=250, W%R(9) prev=-91.63 current=-62.56, W%R(28) prev=-88.51 current=-60.43
2026-01-22 13:26:04,519 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-91.63, current=-62.56, threshold=-79, W%R(28) prev=-88.51, current=-60.43, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 13:27:00,535 - root - INFO - ================================================
2026-01-22 13:27:00,557 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:27:00.557 - Latest candle: 13:26:00, DataFrame length: 251
2026-01-22 13:27:00,565 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:26:00, O: 125.0, H: 128.4, L: 124.3, C: 126.6, ST: Bull (116.92), W%R (9): -51.3, W%R (28): -49.6, K: 22.5, D: 17.4
2026-01-22 13:27:00,641 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:27:00.641 - Latest candle: 13:26:00, DataFrame length: 252
2026-01-22 13:27:00,648 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:26:00, O: 181.3, H: 181.3, L: 177.0, C: 179.2, ST: Bear (190.46), W%R (9): -47.1, W%R (28): -55.1, K: 65.1, D: 76.3
2026-01-22 13:27:00,650 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:26:00 (last_check=13:26:00)
2026-01-22 13:27:00,655 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:26:00 (last_check=13:26:00)
2026-01-22 13:27:00,816 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:26:00] Market Sentiment: BULLISH | OHLC: O=25194.75 H=25195.90 L=25188.15 C=25189.75
2026-01-22 13:28:00,535 - root - INFO - ================================================
2026-01-22 13:28:00,737 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:28:00.737 - Latest candle: 13:27:00, DataFrame length: 252
2026-01-22 13:28:00,744 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:27:00, O: 126.5, H: 132.1, L: 125.8, C: 129.6, ST: Bull (116.92), W%R (9): -38.1, W%R (28): -36.8, K: 39.5, D: 25.0
2026-01-22 13:28:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:27:00] Market Sentiment: NEUTRAL | OHLC: O=25189.35 H=25191.40 L=25182.25 C=25184.30
2026-01-22 13:28:00,787 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 13:28:00,787 - async_live_ticker_handler - INFO - [13:27:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 13:28:01,056 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:28:01.056 - Latest candle: 13:27:00, DataFrame length: 253
2026-01-22 13:28:01,065 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:27:00, O: 179.6, H: 179.9, L: 173.6, C: 177.4, ST: Bear (190.46), W%R (9): -76.8, W%R (28): -62.1, K: 61.1, D: 68.0
2026-01-22 13:28:01,067 - async_event_handlers - INFO - [TIMING] New candle completed at 13:27:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:28:01.067 for sentiment: NEUTRAL
2026-01-22 13:28:01,069 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:28:01,071 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:26:00 -> current=13:27:00, expected_timestamp=13:27:00, df_length=253, W%R(9) prev=-47.14 current=-76.76, W%R(28) prev=-55.14 current=-62.06
2026-01-22 13:28:01,071 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-47.14, current=-76.76, threshold=-79, W%R(28) prev=-55.14, current=-62.06, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:28:01,073 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:26:00 -> current=13:27:00, expected_timestamp=13:27:00, df_length=252, W%R(9) prev=-51.32 current=-38.11, W%R(28) prev=-49.57 current=-36.81
2026-01-22 13:28:01,073 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-51.32, current=-38.11, threshold=-79, W%R(28) prev=-49.57, current=-36.81, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:29:00,535 - root - INFO - ================================================
2026-01-22 13:29:00,668 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:29:00.668 - Latest candle: 13:28:00, DataFrame length: 253
2026-01-22 13:29:00,676 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:28:00, O: 129.2, H: 129.9, L: 123.1, C: 127.7, ST: Bull (116.92), W%R (9): -26.6, W%R (28): -44.9, K: 43.8, D: 35.3
2026-01-22 13:29:00,806 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:29:00.806 - Latest candle: 13:28:00, DataFrame length: 254
2026-01-22 13:29:00,814 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:28:00, O: 177.3, H: 183.2, L: 176.4, C: 178.6, ST: Bear (190.46), W%R (9): -69.4, W%R (28): -57.6, K: 58.9, D: 61.7
2026-01-22 13:29:00,846 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:28:00] Market Sentiment: NEUTRAL | OHLC: O=25183.20 H=25194.55 L=25182.55 C=25187.10
2026-01-22 13:29:00,849 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 13:28:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:29:00.849 for sentiment: NEUTRAL
2026-01-22 13:29:00,879 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:29:00,882 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:27:00 -> current=13:28:00, expected_timestamp=13:28:00, df_length=254, W%R(9) prev=-76.76 current=-69.42, W%R(28) prev=-62.06 current=-57.57
2026-01-22 13:29:00,883 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-76.76, current=-69.42, threshold=-79, W%R(28) prev=-62.06, current=-57.57, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:29:00,884 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:27:00 -> current=13:28:00, expected_timestamp=13:28:00, df_length=253, W%R(9) prev=-38.11 current=-26.59, W%R(28) prev=-36.81 current=-44.89
2026-01-22 13:29:00,885 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-38.11, current=-26.59, threshold=-79, W%R(28) prev=-36.81, current=-44.89, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:30:00,535 - root - INFO - ================================================
2026-01-22 13:30:00,585 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:30:00.585 - Latest candle: 13:29:00, DataFrame length: 255
2026-01-22 13:30:00,593 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:29:00, O: 178.6, H: 178.6, L: 172.0, C: 172.8, ST: Bear (190.37), W%R (9): -95.8, W%R (28): -79.4, K: 50.6, D: 56.9
2026-01-22 13:30:00,615 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:30:00.615 - Latest candle: 13:29:00, DataFrame length: 254
2026-01-22 13:30:00,622 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:29:00, O: 127.5, H: 134.3, L: 127.5, C: 133.7, ST: Bull (116.92), W%R (9): -3.7, W%R (28): -19.6, K: 52.7, D: 45.4
2026-01-22 13:30:01,036 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:29:00] Market Sentiment: BEARISH | OHLC: O=25185.70 H=25188.90 L=25177.50 C=25179.05
2026-01-22 13:30:01,037 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 13:30:01,037 - async_live_ticker_handler - INFO - [13:29:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 13:30:01,037 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 13:29:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:30:01.037 for sentiment: BEARISH
2026-01-22 13:30:01,038 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:30:01,040 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=255)
2026-01-22 13:30:01,041 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:28:00 -> current=13:29:00, expected_timestamp=13:29:00, df_length=255, W%R(9) prev=-69.42 current=-95.82, W%R(28) prev=-57.57 current=-79.44
2026-01-22 13:30:01,041 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-69.42, current=-95.82, threshold=-79, W%R(28) prev=-57.57, current=-79.44, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 13:30:01,043 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=254)
2026-01-22 13:30:01,044 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:28:00 -> current=13:29:00, expected_timestamp=13:29:00, df_length=254, W%R(9) prev=-26.59 current=-3.72, W%R(28) prev=-44.89 current=-19.57
2026-01-22 13:30:01,044 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-26.59, current=-3.72, threshold=-79, W%R(28) prev=-44.89, current=-19.57, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:31:00,285 - root - INFO - ================================================
2026-01-22 13:31:00,584 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:31:00.584 - Latest candle: 13:30:00, DataFrame length: 256
2026-01-22 13:31:00,592 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:30:00, O: 172.6, H: 174.9, L: 167.7, C: 168.3, ST: Bear (186.31), W%R (9): -97.1, W%R (28): -95.9, K: 39.2, D: 49.6
2026-01-22 13:31:00,613 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:31:00.613 - Latest candle: 13:30:00, DataFrame length: 255
2026-01-22 13:31:00,623 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:30:00, O: 133.8, H: 141.0, L: 132.1, C: 138.8, ST: Bull (121.65), W%R (9): -8.9, W%R (28): -8.4, K: 63.9, D: 53.5
2026-01-22 13:31:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:30:00] Market Sentiment: BEARISH | OHLC: O=25177.85 H=25179.55 L=25170.50 C=25171.75
2026-01-22 13:31:00,787 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 13:30:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:31:00.787 for sentiment: BEARISH
2026-01-22 13:31:00,847 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:31:00,850 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=256)
2026-01-22 13:31:00,851 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:29:00 -> current=13:30:00, expected_timestamp=13:30:00, df_length=256, W%R(9) prev=-95.82 current=-97.08, W%R(28) prev=-79.44 current=-95.89
2026-01-22 13:31:00,851 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-95.82, current=-97.08, threshold=-79, W%R(28) prev=-79.44, current=-95.89, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:31:00,853 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=255)
2026-01-22 13:31:00,854 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:29:00 -> current=13:30:00, expected_timestamp=13:30:00, df_length=255, W%R(9) prev=-3.72 current=-8.92, W%R(28) prev=-19.57 current=-8.38
2026-01-22 13:31:00,854 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-3.72, current=-8.92, threshold=-79, W%R(28) prev=-19.57, current=-8.38, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:32:00,536 - root - INFO - ================================================
2026-01-22 13:32:00,557 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:32:00.557 - Latest candle: 13:31:00, DataFrame length: 257
2026-01-22 13:32:00,565 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:31:00, O: 169.2, H: 180.2, L: 168.9, C: 178.4, ST: Bear (186.31), W%R (9): -51.9, W%R (28): -58.3, K: 40.9, D: 43.6
2026-01-22 13:32:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:31:00] Market Sentiment: BEARISH | OHLC: O=25169.70 H=25191.45 L=25169.70 C=25190.75
2026-01-22 13:32:00,788 - async_live_ticker_handler - WARNING - [SLAB CHANGE] Potential Entry2 trigger detected for NIFTY26JAN25150CE - both W%R(9) and W%R(28) crossed above threshold (-97.08 -> -51.91 for W%R(9), -95.89 -> -58.32 for W%R(28)) - blocking slab change
2026-01-22 13:32:01,062 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:32:01.062 - Latest candle: 13:31:00, DataFrame length: 256
2026-01-22 13:32:01,070 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:31:00, O: 139.1, H: 139.1, L: 126.7, C: 128.1, ST: Bull (121.65), W%R (9): -52.3, W%R (28): -49.1, K: 60.5, D: 59.0
2026-01-22 13:32:01,103 - async_event_handlers - INFO - [TIMING] New candle completed at 13:31:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:32:01.103 for sentiment: BEARISH
2026-01-22 13:32:01,105 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:32:01,108 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=257)
2026-01-22 13:32:01,109 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:30:00 -> current=13:31:00, expected_timestamp=13:31:00, df_length=257, W%R(9) prev=-97.08 current=-51.91, W%R(28) prev=-95.89 current=-58.32
2026-01-22 13:32:01,109 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-97.08, current=-51.91, threshold=-79, W%R(28) prev=-95.89, current=-58.32, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 13:32:01,109 - entry_conditions - INFO - Entry2: Trigger detected for NIFTY26JAN25150CE - both W%R(9) and W%R(28) crossed above threshold on same candle: W%R(9) -97.08 -> -51.91, W%R(28) -95.89 -> -58.32, SuperTrend bearish
2026-01-22 13:32:01,110 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25150CE at bar 11 (T, T+1, ..., T+3), window expires at bar 15
2026-01-22 13:32:01,110 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25150CE (same candle as trigger) - Slow WPR crossed above -77 (-95.89 -> -58.32), SuperTrend1 bearish
2026-01-22 13:32:01,111 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=256)
2026-01-22 13:32:01,111 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:30:00 -> current=13:31:00, expected_timestamp=13:31:00, df_length=256, W%R(9) prev=-8.92 current=-52.33, W%R(28) prev=-8.38 current=-49.14
2026-01-22 13:32:01,112 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-8.92, current=-52.33, threshold=-79, W%R(28) prev=-8.38, current=-49.14, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:33:00,536 - root - INFO - ================================================
2026-01-22 13:33:00,558 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:33:00.558 - Latest candle: 13:32:00, DataFrame length: 257
2026-01-22 13:33:00,566 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:32:00, O: 128.3, H: 128.6, L: 123.2, C: 124.2, ST: Bull (121.65), W%R (9): -68.0, W%R (28): -63.8, K: 44.5, D: 56.3
2026-01-22 13:33:00,836 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:33:00.836 - Latest candle: 13:32:00, DataFrame length: 258
2026-01-22 13:33:00,844 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:32:00, O: 178.8, H: 183.2, L: 178.5, C: 181.4, ST: Bear (186.31), W%R (9): -38.4, W%R (28): -47.0, K: 56.1, D: 45.4
2026-01-22 13:33:00,880 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:32:00] Market Sentiment: BULLISH | OHLC: O=25189.15 H=25193.20 L=25187.00 C=25192.70
2026-01-22 13:33:00,880 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 13:33:00,880 - async_live_ticker_handler - INFO - [13:32:00] Market sentiment CHANGED: BEARISH -> BULLISH
2026-01-22 13:33:00,881 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 13:32:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:33:00.881 for sentiment: BULLISH
2026-01-22 13:33:00,940 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:33:00,941 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=258)
2026-01-22 13:33:00,942 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:31:00 -> current=13:32:00, expected_timestamp=13:32:00, df_length=258, W%R(9) prev=-51.91 current=-38.43, W%R(28) prev=-58.32 current=-47.00
2026-01-22 13:33:00,943 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-51.91, current=-38.43, threshold=-79, W%R(28) prev=-58.32, current=-47.00, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:33:00,943 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25150CE (flexible mode) - K=56.14 > D=45.41 and K > 20
2026-01-22 13:33:00,943 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25150CE - All confirmations received! - Current NIFTY=25192.05
2026-01-22 13:33:00,943 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25150CE
2026-01-22 13:33:00,944 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=257)
2026-01-22 13:33:00,945 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:31:00 -> current=13:32:00, expected_timestamp=13:32:00, df_length=257, W%R(9) prev=-52.33 current=-67.95, W%R(28) prev=-49.14 current=-63.81
2026-01-22 13:33:00,945 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-52.33, current=-67.95, threshold=-79, W%R(28) prev=-49.14, current=-63.81, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:33:00,945 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BULLISH sentiment: CE entry condition 2 met. Placing CE trade for NIFTY26JAN25150CE (sentiment filter bypassed).
2026-01-22 13:33:00,946 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25150CE (CE) ===
2026-01-22 13:33:01,447 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25150CE has status: OPEN PENDING. Order ID: 2014247413271158784. Proceeding with caution.
2026-01-22 13:33:01,447 - strategy_executor - INFO - [OK] Entry2 TRADE TAKEN for NIFTY26JAN25150CE - Order ID: 2014247413271158784, Quantity: 65, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 13:33:01,447 - trade_state_manager - INFO - New trade added for NIFTY26JAN25150CE. Manual trade: True. Metadata: {'entry_type': 'Entry2'}
2026-01-22 13:33:01,486 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25150CE: 182.9
2026-01-22 13:33:01,487 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25150CE @ 13:33:01 price=182.90
2026-01-22 13:33:01,487 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25150CE - Checking POSITION_MANAGEMENT config...
2026-01-22 13:33:01,487 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25150CE
2026-01-22 13:33:01,487 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25150CE [OK][OK][OK]
2026-01-22 13:33:01,487 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25150CE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 13:33:01,487 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25150CE: {'calculated_sl_price': 171.95, 'last_sl_price': 171.95}
2026-01-22 13:33:01,488 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25150CE: 3 symbols mapped
2026-01-22 13:33:01,488 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25150CE -> 15018754
2026-01-22 13:33:01,488 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25150CE (Entry=182.90, SL=171.95, TP=None, SuperTrendSL=False) [NOTE][NOTE][NOTE]
2026-01-22 13:33:01,488 - realtime_position_manager - INFO - [NOTE] Active positions count: 1
2026-01-22 13:33:01,489 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25150CE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 13:33:01,489 - entry_conditions - INFO - [OK] Entry2 trade successfully executed for NIFTY26JAN25150CE
2026-01-22 13:34:00,785 - root - INFO - ================================================
2026-01-22 13:34:00,865 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:34:00.865 - Latest candle: 13:33:00, DataFrame length: 259
2026-01-22 13:34:00,875 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:33:00, O: 181.6, H: 189.7, L: 181.4, C: 186.7, ST: Bull (170.15), W%R (9): -13.7, W%R (28): -25.8, K: 82.7, D: 59.9
2026-01-22 13:34:00,899 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:34:00.899 - Latest candle: 13:33:00, DataFrame length: 258
2026-01-22 13:34:00,906 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:33:00, O: 124.2, H: 124.6, L: 117.5, C: 119.7, ST: Bear (136.30), W%R (9): -86.6, W%R (28): -81.3, K: 16.4, D: 40.5
2026-01-22 13:34:00,910 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25150CE: {'supertrend_sl_active': True}
2026-01-22 13:34:00,910 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:33:00] Market Sentiment: BULLISH | OHLC: O=25192.05 H=25203.15 L=25192.05 C=25201.25
2026-01-22 13:34:00,911 - realtime_position_manager - INFO - [SYNC] SuperTrend SL ACTIVATED for NIFTY26JAN25150CE: SuperTrend turned bullish, using 170.15 as trailing SL
2026-01-22 13:34:00,911 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25150CE: {'last_sl_price': 170.15, 'calculated_sl_price': 170.15}
2026-01-22 13:34:00,912 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25150CE: 171.95 -> 170.15
2026-01-22 13:34:00,914 - async_event_handlers - INFO - [TIMING] New candle completed at 13:33:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:34:00.914 for sentiment: BULLISH
2026-01-22 13:34:00,915 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:34:00,916 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=259)
2026-01-22 13:34:00,954 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25150CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 13:34:00,955 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=258)
2026-01-22 13:34:00,956 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:32:00 -> current=13:33:00, expected_timestamp=13:33:00, df_length=258, W%R(9) prev=-67.95 current=-86.61, W%R(28) prev=-63.81 current=-81.33
2026-01-22 13:34:00,956 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-67.95, current=-86.61, threshold=-79, W%R(28) prev=-63.81, current=-81.33, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 13:34:51,036 - async_live_ticker_handler - INFO - [TARGET] DYNAMIC_TRAILING_MA: High price 196.50 reached 7% threshold (195.70) above entry 182.90 for NIFTY26JAN25150CE. Activating MA-based trailing.
2026-01-22 13:34:51,036 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25150CE: {'dynamic_trailing_ma_active': True}
2026-01-22 13:34:51,036 - realtime_position_manager - INFO - [SYNC] Synced MA trailing state: Activated for NIFTY26JAN25150CE (threshold reached)
2026-01-22 13:35:00,286 - root - INFO - ================================================
2026-01-22 13:35:00,586 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:35:00.586 - Latest candle: 13:34:00, DataFrame length: 259
2026-01-22 13:35:00,594 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:34:00, O: 119.8, H: 121.5, L: 111.4, C: 111.4, ST: Bear (132.16), W%R (9): -100.0, W%R (28): -100.0, K: 5.9, D: 22.2
2026-01-22 13:35:00,864 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:35:00.864 - Latest candle: 13:34:00, DataFrame length: 260
2026-01-22 13:35:00,872 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:34:00, O: 186.9, H: 198.0, L: 184.3, C: 197.8, ST: Bull (174.57), W%R (9): -0.8, W%R (28): -0.8, K: 94.2, D: 77.7
2026-01-22 13:35:00,875 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25150CE: {'last_sl_price': 174.57, 'calculated_sl_price': 174.57}
2026-01-22 13:35:00,876 - realtime_position_manager - INFO - [SYNC] SuperTrend SL updated for NIFTY26JAN25150CE: 170.15 -> 174.57
2026-01-22 13:35:01,067 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:34:00] Market Sentiment: NEUTRAL | OHLC: O=25200.20 H=25215.85 L=25197.05 C=25215.05
2026-01-22 13:35:01,067 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 13:35:01,068 - async_live_ticker_handler - INFO - [13:34:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 13:35:01,068 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 13:34:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:35:01.068 for sentiment: NEUTRAL
2026-01-22 13:35:01,068 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Active trades detected: ['NIFTY26JAN25150CE'] [ALERT][ALERT][ALERT]
2026-01-22 13:35:01,068 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25207.04, close=25215.05 | Would change: CE 25150->25200, PE 25200->25250
2026-01-22 13:35:01,068 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect active positions. Will retry after all trades exit.
2026-01-22 13:35:01,069 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:35:01,117 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25150CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 13:35:01,118 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200PE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=111.4, close=111.4
2026-01-22 13:35:15,908 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:13:35:15 +0530] "GET /health HTTP/1.1" 200 242 "-" "python-requests/2.32.4"
2026-01-22 13:35:15,910 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:13:35:15 +0530] "GET /get_config?key=MANUAL_MARKET_SENTIMENT HTTP/1.1" 200 231 "-" "python-requests/2.32.4"
2026-01-22 13:35:21,827 - async_api_server - INFO - Received async command: FORCE_EXIT
2026-01-22 13:35:21,828 - event_system - INFO - [DISPATCH] USER_COMMAND event 'FORCE_EXIT' added to queue. Queue size: 0, Dispatcher running: True
2026-01-22 13:35:21,828 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:13:35:21 +0530] "POST /command HTTP/1.1" 200 247 "-" "python-requests/2.32.4"
2026-01-22 13:35:21,828 - event_system - INFO - [QUEUE] Retrieved USER_COMMAND event from queue: FORCE_EXIT
2026-01-22 13:35:21,829 - event_system - INFO - [EVENT] Processing user_command with 1 handlers
2026-01-22 13:35:21,829 - async_event_handlers - INFO - Processing user command: FORCE_EXIT
2026-01-22 13:35:21,829 - async_event_handlers - INFO - === FORCE EXIT COMMAND RECEIVED ===
2026-01-22 13:35:21,829 - async_event_handlers - INFO - Performing reconciliation with broker positions before force exit...
2026-01-22 13:35:21,879 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 13:35:21,879 - trade_state_manager - INFO - Found 1 active positions in broker: ['NIFTY26JAN25150CE']
2026-01-22 13:35:21,880 - trade_state_manager - INFO - Found 1 active trades in state: ['NIFTY26JAN25150CE']
2026-01-22 13:35:21,880 - trade_state_manager - INFO - Reconciliation: No stale trades found.
2026-01-22 13:35:21,880 - trade_state_manager - INFO - Reconciliation: No untracked positions found.
2026-01-22 13:35:21,880 - async_event_handlers - INFO - Reconciliation completed before force exit.
2026-01-22 13:35:21,880 - async_event_handlers - INFO - --- FORCE EXIT ALL POSITIONS INITIATED ---
2026-01-22 13:35:21,880 - async_event_handlers - INFO - Force Exit: Found 1 active trade(s) to close: ['NIFTY26JAN25150CE']
2026-01-22 13:35:21,880 - async_event_handlers - INFO - --- Attempting to force exit for symbol: NIFTY26JAN25150CE ---
2026-01-22 13:35:21,880 - strategy_executor - INFO - No GTT ID found for NIFTY26JAN25150CE. Proceeding with market exit order.
2026-01-22 13:35:21,881 - strategy_executor - INFO - Got current LTP for NIFTY26JAN25150CE from ticker handler: 198.15
2026-01-22 13:35:21,881 - strategy_executor - INFO - Updating ledger for NIFTY26JAN25150CE with exit price 198.15 (entry: 182.9)
2026-01-22 13:35:21,881 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25150CE @ 13:35:21 price=198.15 pnl=8.34% reason=FORCE_EXIT
2026-01-22 13:35:21,882 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25150CE: FORCE_EXIT @ 198.15
2026-01-22 13:35:21,882 - strategy_executor - INFO - Successfully updated ledger and removed NIFTY26JAN25150CE from active trades
2026-01-22 13:35:21,882 - strategy_executor - INFO - Placing force exit MARKET order with params: {'tradingsymbol': 'NIFTY26JAN25150CE', 'exchange': 'NFO', 'transaction_type': 'SELL', 'quantity': 65, 'product': 'NRML', 'order_type': 'MARKET', 'variety': 'regular'}
2026-01-22 13:35:21,934 - strategy_executor - INFO - Successfully placed force exit MARKET order for NIFTY26JAN25150CE. Order ID: 2014248003950796800
2026-01-22 13:35:21,974 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 13:35:21,975 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 13:35:21,975 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25150CE
2026-01-22 13:35:21,975 - trade_state_manager - INFO - Symbol NIFTY26JAN25150CE not found in active trades, nothing to clear
2026-01-22 13:35:21,975 - async_event_handlers - INFO - --- FORCE EXIT ALL POSITIONS COMPLETED ---
2026-01-22 13:35:21,976 - async_event_handlers - INFO - Explicitly resetting crossover indices after force exit of all positions
2026-01-22 13:35:21,976 - async_event_handlers - INFO - Successfully reset crossover indices after force exit of all positions
2026-01-22 13:35:21,976 - async_event_handlers - INFO - Forcing reconciliation with broker positions after force exit...
2026-01-22 13:35:22,019 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 13:35:22,019 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 13:35:22,019 - async_event_handlers - INFO - Successfully reconciled with broker positions after force exit
2026-01-22 13:35:22,330 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:13:35:22 +0530] "GET /get_config?key=MANUAL_MARKET_SENTIMENT HTTP/1.1" 200 231 "-" "python-requests/2.32.4"
2026-01-22 13:36:00,536 - root - INFO - ================================================
2026-01-22 13:36:00,558 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:36:00.558 - Latest candle: 13:35:00, DataFrame length: 261
2026-01-22 13:36:00,567 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:35:00, O: 197.8, H: 203.7, L: 196.1, C: 203.7, ST: Bull (183.41), W%R (9): 0.0, W%R (28): 0.0, K: 100.0, D: 92.3
2026-01-22 13:36:00,617 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:36:00.617 - Latest candle: 13:35:00, DataFrame length: 260
2026-01-22 13:36:00,625 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:35:00, O: 111.5, H: 111.5, L: 104.5, C: 104.5, ST: Bear (123.57), W%R (9): -100.0, W%R (28): -100.0, K: 0.0, D: 7.4
2026-01-22 13:36:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:35:00] Market Sentiment: BULLISH | OHLC: O=25214.70 H=25227.55 L=25214.70 C=25225.85
2026-01-22 13:36:00,787 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 13:36:00,787 - async_live_ticker_handler - INFO - [13:35:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 13:36:00,787 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 13:35:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:36:00.787 for sentiment: BULLISH
2026-01-22 13:36:00,787 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25220.70
2026-01-22 13:36:00,788 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 13:36:00,788 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 13:36:04,363 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 13:36:04,363 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 13:36:04,363 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 13:36:04,364 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25150CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25200PE -> NIFTY26JAN25250PE
2026-01-22 13:36:04,555 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 13:35:00: old_ce=NIFTY26JAN25150CE(15018754) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25200PE(15024642) -> new_pe=NIFTY26JAN25250PE
2026-01-22 13:36:04,555 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 13:36:04,557 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:36:04,562 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=261)
2026-01-22 13:36:04,570 - entry_conditions - WARNING - [RACE CONDITION] PE DataFrame is stale! Latest candle: 13:34:00, Expected: 13:35:00 for NIFTY26JAN25250PE. Entry conditions may use stale data.
2026-01-22 13:36:04,574 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=260)
2026-01-22 13:36:04,578 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250PE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=132.9, close=132.9
2026-01-22 13:36:04,652 - async_event_handlers - INFO - [TIMING] New candle completed at 13:36:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:36:04.652 for sentiment: BULLISH
2026-01-22 13:36:04,659 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:36:04,660 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=261)
2026-01-22 13:36:04,661 - entry_conditions - WARNING - [RACE CONDITION] PE DataFrame is stale! Latest candle: 13:34:00, Expected: 13:35:00 for NIFTY26JAN25250PE. Entry conditions may use stale data.
2026-01-22 13:36:04,661 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=260)
2026-01-22 13:36:04,662 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250PE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=132.9, close=132.9
2026-01-22 13:37:00,286 - root - INFO - ================================================
2026-01-22 13:37:00,557 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:37:00.557 - Latest candle: 13:36:00, DataFrame length: 262
2026-01-22 13:37:00,565 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:36:00, O: 170.5, H: 170.5, L: 158.6, C: 160.9, ST: Bull (154.36), W%R (9): -35.5, W%R (28): -35.0, K: 87.4, D: 94.9
2026-01-22 13:37:00,650 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:36:00 (last_check=13:36:00)
2026-01-22 13:37:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:36:00] Market Sentiment: BULLISH | OHLC: O=25226.15 H=25226.15 L=25207.00 C=25208.20
2026-01-22 13:37:00,809 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:37:00.808 - Latest candle: 13:36:00, DataFrame length: 261
2026-01-22 13:37:00,817 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:36:00, O: 127.8, H: 138.9, L: 127.8, C: 136.9, ST: Bear (151.15), W%R (9): -76.0, W%R (28): -76.0, K: 4.7, D: 7.6
2026-01-22 13:37:00,846 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:36:00 (last_check=13:36:00)
2026-01-22 13:38:00,536 - root - INFO - ================================================
2026-01-22 13:38:00,673 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:38:00.672 - Latest candle: 13:37:00, DataFrame length: 263
2026-01-22 13:38:00,680 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:37:00, O: 160.8, H: 164.6, L: 157.3, C: 157.6, ST: Bull (154.36), W%R (9): -45.7, W%R (28): -45.1, K: 71.4, D: 86.3
2026-01-22 13:38:00,817 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:37:00] Market Sentiment: NEUTRAL | OHLC: O=25207.05 H=25214.40 L=25204.35 C=25205.90
2026-01-22 13:38:00,817 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 13:38:00,818 - async_live_ticker_handler - INFO - [13:37:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 13:38:01,087 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:38:01.087 - Latest candle: 13:37:00, DataFrame length: 262
2026-01-22 13:38:01,095 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:37:00, O: 136.9, H: 140.4, L: 133.8, C: 140.4, ST: Bear (151.15), W%R (9): -66.8, W%R (28): -66.8, K: 13.4, D: 7.2
2026-01-22 13:38:01,097 - async_event_handlers - INFO - [TIMING] New candle completed at 13:37:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:38:01.097 for sentiment: NEUTRAL
2026-01-22 13:38:01,098 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:38:01,100 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:36:00 -> current=13:37:00, expected_timestamp=13:37:00, df_length=263, W%R(9) prev=-35.50 current=-45.74, W%R(28) prev=-35.02 current=-45.11
2026-01-22 13:38:01,100 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-35.50, current=-45.74, threshold=-79, W%R(28) prev=-35.02, current=-45.11, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:38:01,102 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:36:00 -> current=13:37:00, expected_timestamp=13:37:00, df_length=262, W%R(9) prev=-75.98 current=-66.84, W%R(28) prev=-75.98 current=-66.84
2026-01-22 13:38:01,102 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-75.98, current=-66.84, threshold=-79, W%R(28) prev=-75.98, current=-66.84, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:39:00,536 - root - INFO - ================================================
2026-01-22 13:39:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:38:00] Market Sentiment: BEARISH | OHLC: O=25205.65 H=25205.95 L=25194.85 C=25194.90
2026-01-22 13:39:00,786 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 13:39:00,787 - async_live_ticker_handler - INFO - [13:38:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 13:39:00,809 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:39:00.809 - Latest candle: 13:38:00, DataFrame length: 264
2026-01-22 13:39:00,818 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:38:00, O: 158.0, H: 160.1, L: 153.1, C: 154.9, ST: Bull (154.36), W%R (9): -54.1, W%R (28): -53.4, K: 52.6, D: 70.5
2026-01-22 13:39:01,308 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:39:01.308 - Latest candle: 13:38:00, DataFrame length: 263
2026-01-22 13:39:01,316 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:38:00, O: 140.0, H: 144.7, L: 136.8, C: 142.8, ST: Bear (151.15), W%R (9): -60.8, W%R (28): -60.8, K: 24.7, D: 14.3
2026-01-22 13:39:01,346 - async_event_handlers - INFO - [TIMING] New candle completed at 13:38:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:39:01.346 for sentiment: BEARISH
2026-01-22 13:39:01,349 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:39:01,350 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=264)
2026-01-22 13:39:01,351 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:37:00 -> current=13:38:00, expected_timestamp=13:38:00, df_length=264, W%R(9) prev=-45.74 current=-54.11, W%R(28) prev=-45.11 current=-53.36
2026-01-22 13:39:01,351 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-45.74, current=-54.11, threshold=-79, W%R(28) prev=-45.11, current=-53.36, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:39:01,352 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=263)
2026-01-22 13:39:01,353 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:37:00 -> current=13:38:00, expected_timestamp=13:38:00, df_length=263, W%R(9) prev=-66.84 current=-60.84, W%R(28) prev=-66.84 current=-60.84
2026-01-22 13:39:01,353 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-66.84, current=-60.84, threshold=-79, W%R(28) prev=-66.84, current=-60.84, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:40:00,536 - root - INFO - ================================================
2026-01-22 13:40:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:39:00] Market Sentiment: BEARISH | OHLC: O=25194.30 H=25200.10 L=25188.55 C=25191.50
2026-01-22 13:40:00,787 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25193.61
2026-01-22 13:40:00,788 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 13:40:00,788 - root - INFO - Generated symbols: CE=NIFTY26JAN25150CE, PE=NIFTY26JAN25200PE
2026-01-22 13:40:04,252 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 13:40:04,252 - root - INFO - CE: NIFTY26JAN25150CE (Token: 15018754)
2026-01-22 13:40:04,252 - root - INFO - PE: NIFTY26JAN25200PE (Token: 15024642)
2026-01-22 13:40:04,253 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25200CE -> NIFTY26JAN25150CE, PE: NIFTY26JAN25250PE -> NIFTY26JAN25200PE
2026-01-22 13:40:04,453 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 13:39:00: old_ce=NIFTY26JAN25200CE(15024386) -> new_ce=NIFTY26JAN25150CE, old_pe=NIFTY26JAN25250PE(15025666) -> new_pe=NIFTY26JAN25200PE
2026-01-22 13:40:04,453 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25150CE, PE=NIFTY26JAN25200PE
2026-01-22 13:40:04,489 - async_event_handlers - INFO - [TIMING] New candle completed at 13:40:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:40:04.489 for sentiment: BEARISH
2026-01-22 13:40:04,496 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:40:04,498 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=265)
2026-01-22 13:40:04,499 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:38:00 -> current=13:39:00, expected_timestamp=13:39:00, df_length=265, W%R(9) prev=-54.94 current=-74.10, W%R(28) prev=-54.26 current=-70.74
2026-01-22 13:40:04,499 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-54.94, current=-74.10, threshold=-79, W%R(28) prev=-54.26, current=-70.74, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:40:04,500 - entry_conditions - WARNING - [RACE CONDITION] PE DataFrame is stale! Latest candle: 13:38:00, Expected: 13:39:00 for NIFTY26JAN25200PE. Entry conditions may use stale data.
2026-01-22 13:40:04,501 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=264)
2026-01-22 13:40:04,502 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:37:00 -> current=13:38:00, expected_timestamp=13:38:00, df_length=264, W%R(9) prev=-64.25 current=-58.08, W%R(28) prev=-64.25 current=-58.08
2026-01-22 13:40:04,502 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-64.25, current=-58.08, threshold=-79, W%R(28) prev=-64.25, current=-58.08, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:41:00,536 - root - INFO - ================================================
2026-01-22 13:41:00,558 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:41:00.558 - Latest candle: 13:40:00, DataFrame length: 266
2026-01-22 13:41:00,566 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:40:00, O: 179.1, H: 184.1, L: 176.7, C: 182.6, ST: Bear (197.22), W%R (9): -78.1, W%R (28): -57.8, K: 37.3, D: 43.9
2026-01-22 13:41:00,596 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:40:00 (last_check=13:40:00)
2026-01-22 13:41:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:40:00] Market Sentiment: BEARISH | OHLC: O=25190.70 H=25197.80 L=25187.05 C=25195.90
2026-01-22 13:41:00,926 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:41:00.926 - Latest candle: 13:40:00, DataFrame length: 265
2026-01-22 13:41:00,934 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:40:00, O: 124.4, H: 126.3, L: 120.6, C: 122.0, ST: Bear (123.36), W%R (9): -49.4, W%R (28): -52.0, K: 47.6, D: 37.5
2026-01-22 13:41:00,945 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:40:00 (last_check=13:40:00)
2026-01-22 13:42:00,536 - root - INFO - ================================================
2026-01-22 13:42:00,807 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:42:00.807 - Latest candle: 13:41:00, DataFrame length: 267
2026-01-22 13:42:00,816 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:41:00, O: 182.8, H: 185.6, L: 177.5, C: 177.5, ST: Bear (197.22), W%R (9): -97.0, W%R (28): -71.8, K: 32.5, D: 37.1
2026-01-22 13:42:00,866 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:42:00.866 - Latest candle: 13:41:00, DataFrame length: 266
2026-01-22 13:42:00,876 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:41:00, O: 121.1, H: 127.0, L: 119.3, C: 127.0, ST: Bull (107.85), W%R (9): -6.2, W%R (28): -38.2, K: 56.7, D: 48.2
2026-01-22 13:42:00,878 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:41:00] Market Sentiment: BEARISH | OHLC: O=25197.25 H=25200.95 L=25192.35 C=25192.35
2026-01-22 13:42:01,014 - async_event_handlers - INFO - [TIMING] New candle completed at 13:41:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:42:01.014 for sentiment: BEARISH
2026-01-22 13:42:01,015 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:42:01,017 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=267)
2026-01-22 13:42:01,018 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:40:00 -> current=13:41:00, expected_timestamp=13:41:00, df_length=267, W%R(9) prev=-78.11 current=-97.03, W%R(28) prev=-57.83 current=-71.84
2026-01-22 13:42:01,018 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-78.11, current=-97.03, threshold=-79, W%R(28) prev=-57.83, current=-71.84, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:42:01,020 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=266)
2026-01-22 13:43:00,536 - root - INFO - ================================================
2026-01-22 13:43:00,558 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:43:00.558 - Latest candle: 13:42:00, DataFrame length: 268
2026-01-22 13:43:00,566 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:42:00, O: 175.1, H: 178.3, L: 174.0, C: 176.3, ST: Bear (192.09), W%R (9): -92.1, W%R (28): -75.0, K: 31.8, D: 33.9
2026-01-22 13:43:00,865 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:43:00.864 - Latest candle: 13:42:00, DataFrame length: 267
2026-01-22 13:43:00,872 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:42:00, O: 127.5, H: 128.3, L: 124.9, C: 127.0, ST: Bull (112.12), W%R (9): -5.7, W%R (28): -38.4, K: 63.5, D: 56.0
2026-01-22 13:43:00,874 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:42:00] Market Sentiment: NEUTRAL | OHLC: O=25188.75 H=25189.55 L=25184.15 C=25188.05
2026-01-22 13:43:00,876 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 13:43:00,876 - async_live_ticker_handler - INFO - [13:42:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 13:43:00,942 - async_event_handlers - INFO - [TIMING] New candle completed at 13:42:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:43:00.942 for sentiment: NEUTRAL
2026-01-22 13:43:00,945 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:43:00,946 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:41:00 -> current=13:42:00, expected_timestamp=13:42:00, df_length=268, W%R(9) prev=-97.03 current=-92.07, W%R(28) prev=-71.84 current=-75.00
2026-01-22 13:43:00,947 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-97.03, current=-92.07, threshold=-79, W%R(28) prev=-71.84, current=-75.00, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:43:00,949 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:41:00 -> current=13:42:00, expected_timestamp=13:42:00, df_length=267, W%R(9) prev=-6.24 current=-5.66, W%R(28) prev=-38.22 current=-38.36
2026-01-22 13:43:00,951 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-6.24, current=-5.66, threshold=-79, W%R(28) prev=-38.22, current=-38.36, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:44:00,536 - root - INFO - ================================================
2026-01-22 13:44:00,867 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:44:00.866 - Latest candle: 13:43:00, DataFrame length: 269
2026-01-22 13:44:00,874 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:43:00, O: 176.1, H: 186.9, L: 176.1, C: 186.9, ST: Bear (192.09), W%R (9): -56.3, W%R (28): -45.9, K: 36.4, D: 33.6
2026-01-22 13:44:00,925 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:44:00.925 - Latest candle: 13:43:00, DataFrame length: 268
2026-01-22 13:44:00,933 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:43:00, O: 127.2, H: 127.2, L: 117.2, C: 117.2, ST: Bull (112.12), W%R (9): -46.8, W%R (28): -65.2, K: 58.2, D: 59.5
2026-01-22 13:44:00,934 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:43:00] Market Sentiment: BULLISH | OHLC: O=25186.10 H=25205.50 L=25186.10 C=25205.50
2026-01-22 13:44:00,936 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 13:44:00,936 - async_live_ticker_handler - INFO - [13:43:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 13:44:00,946 - async_event_handlers - INFO - [TIMING] New candle completed at 13:43:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:44:00.946 for sentiment: BULLISH
2026-01-22 13:44:00,947 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:44:00,949 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=269)
2026-01-22 13:44:00,950 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:42:00 -> current=13:43:00, expected_timestamp=13:43:00, df_length=269, W%R(9) prev=-92.07 current=-56.32, W%R(28) prev=-75.00 current=-45.88
2026-01-22 13:44:00,951 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-92.07, current=-56.32, threshold=-79, W%R(28) prev=-75.00, current=-45.88, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:44:00,953 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=268)
2026-01-22 13:44:00,954 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:42:00 -> current=13:43:00, expected_timestamp=13:43:00, df_length=268, W%R(9) prev=-5.66 current=-46.75, W%R(28) prev=-38.36 current=-65.21
2026-01-22 13:44:00,954 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-5.66, current=-46.75, threshold=-79, W%R(28) prev=-38.36, current=-65.21, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:45:00,536 - root - INFO - ================================================
2026-01-22 13:45:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:44:00] Market Sentiment: NEUTRAL | OHLC: O=25205.60 H=25209.05 L=25202.10 C=25204.55
2026-01-22 13:45:00,788 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 13:45:00,788 - async_live_ticker_handler - INFO - [13:44:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 13:45:00,789 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25205.32
2026-01-22 13:45:00,789 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 13:45:00,790 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 13:45:04,278 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 13:45:04,278 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 13:45:04,278 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 13:45:04,278 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25150CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25200PE -> NIFTY26JAN25250PE
2026-01-22 13:45:04,454 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 13:44:00: old_ce=NIFTY26JAN25150CE(15018754) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25200PE(15024642) -> new_pe=NIFTY26JAN25250PE
2026-01-22 13:45:04,454 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 13:45:04,492 - async_event_handlers - INFO - [TIMING] New candle completed at 13:45:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:45:04.492 for sentiment: NEUTRAL
2026-01-22 13:45:04,495 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:45:04,500 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:42:00 -> current=13:43:00, expected_timestamp=13:43:00, df_length=269, W%R(9) prev=-93.40 current=-57.55, W%R(28) prev=-75.69 current=-46.64
2026-01-22 13:45:04,501 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-93.40, current=-57.55, threshold=-79, W%R(28) prev=-75.69, current=-46.64, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:45:04,502 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250PE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=140.3, close=140.3
2026-01-22 13:46:00,536 - root - INFO - ================================================
2026-01-22 13:46:00,845 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:45:00] Market Sentiment: BEARISH | OHLC: O=25204.05 H=25204.05 L=25187.20 C=25188.30
2026-01-22 13:46:00,851 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 13:46:00,851 - async_live_ticker_handler - INFO - [13:45:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 13:46:01,057 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:46:01.057 - Latest candle: 13:45:00, DataFrame length: 270
2026-01-22 13:46:01,065 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:45:00, O: 142.1, H: 150.2, L: 141.7, C: 149.2, ST: Bull (135.09), W%R (9): -16.7, W%R (28): -41.0, K: 65.4, D: 61.9
2026-01-22 13:46:01,115 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:46:01.115 - Latest candle: 13:45:00, DataFrame length: 270
2026-01-22 13:46:01,122 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:45:00, O: 154.8, H: 154.8, L: 147.2, C: 147.9, ST: Bear (162.19), W%R (9): -91.5, W%R (28): -74.6, K: 29.3, D: 30.6
2026-01-22 13:46:01,125 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:45:00 (last_check=13:45:00)
2026-01-22 13:46:01,130 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:45:00 (last_check=13:45:00)
2026-01-22 13:47:00,536 - root - INFO - ================================================
2026-01-22 13:47:00,848 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:46:00] Market Sentiment: BEARISH | OHLC: O=25187.65 H=25201.30 L=25187.05 C=25198.90
2026-01-22 13:47:00,850 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25193.72
2026-01-22 13:47:00,851 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 13:47:00,851 - root - INFO - Generated symbols: CE=NIFTY26JAN25150CE, PE=NIFTY26JAN25200PE
2026-01-22 13:47:04,440 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 13:47:04,440 - root - INFO - CE: NIFTY26JAN25150CE (Token: 15018754)
2026-01-22 13:47:04,441 - root - INFO - PE: NIFTY26JAN25200PE (Token: 15024642)
2026-01-22 13:47:04,441 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25200CE -> NIFTY26JAN25150CE, PE: NIFTY26JAN25250PE -> NIFTY26JAN25200PE
2026-01-22 13:47:04,619 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 13:46:00: old_ce=NIFTY26JAN25200CE(15024386) -> new_ce=NIFTY26JAN25150CE, old_pe=NIFTY26JAN25250PE(15025666) -> new_pe=NIFTY26JAN25200PE
2026-01-22 13:47:04,619 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25150CE, PE=NIFTY26JAN25200PE
2026-01-22 13:47:04,659 - async_event_handlers - INFO - [TIMING] New candle completed at 13:47:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:47:04.659 for sentiment: BEARISH
2026-01-22 13:47:04,665 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 13:47:04,666 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=272)
2026-01-22 13:47:04,667 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=13:45:00 -> current=13:46:00, expected_timestamp=13:46:00, df_length=272, W%R(9) prev=-85.18 current=-40.43, W%R(28) prev=-72.80 current=-55.22
2026-01-22 13:47:04,668 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-85.18, current=-40.43, threshold=-79, W%R(28) prev=-72.80, current=-55.22, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:47:04,668 - entry_conditions - WARNING - [RACE CONDITION] PE DataFrame is stale! Latest candle: 13:45:00, Expected: 13:46:00 for NIFTY26JAN25200PE. Entry conditions may use stale data.
2026-01-22 13:47:04,669 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=271)
2026-01-22 13:47:04,670 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=13:44:00 -> current=13:45:00, expected_timestamp=13:45:00, df_length=271, W%R(9) prev=-48.45 current=-18.79, W%R(28) prev=-62.47 current=-43.56
2026-01-22 13:47:04,670 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-48.45, current=-18.79, threshold=-79, W%R(28) prev=-62.47, current=-43.56, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:48:00,536 - root - INFO - ================================================
2026-01-22 13:48:00,839 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 13:48:00.838 - Latest candle: 13:47:00, DataFrame length: 272
2026-01-22 13:48:00,846 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 13:47:00, O: 119.2, H: 119.5, L: 116.3, C: 117.8, ST: Bull (112.39), W%R (9): -78.7, W%R (28): -63.4, K: 70.9, D: 63.1
2026-01-22 13:48:00,851 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:47:00 (last_check=13:47:00)
2026-01-22 13:48:00,851 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:47:00] Market Sentiment: BEARISH | OHLC: O=25198.70 H=25203.70 L=25197.60 C=25200.60
2026-01-22 13:48:00,932 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 13:48:00.932 - Latest candle: 13:47:00, DataFrame length: 273
2026-01-22 13:48:00,940 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 13:47:00, O: 183.6, H: 187.2, L: 182.7, C: 184.8, ST: Bear (192.09), W%R (9): -28.0, W%R (28): -52.4, K: 22.4, D: 25.8
2026-01-22 13:48:00,947 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:47:00 (last_check=13:47:00)
2026-01-22 13:49:00,536 - root - INFO - ================================================
2026-01-22 13:49:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:48:00] Market Sentiment: NEUTRAL | OHLC: O=25200.15 H=25210.15 L=25199.15 C=25207.95
2026-01-22 13:49:00,787 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 13:49:00,788 - async_live_ticker_handler - INFO - [13:48:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 13:49:00,789 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25204.35
2026-01-22 13:49:00,789 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 13:49:00,789 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 13:49:04,253 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 13:49:04,253 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 13:49:04,253 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 13:49:04,253 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25150CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25200PE -> NIFTY26JAN25250PE
2026-01-22 13:49:04,435 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 13:48:00: old_ce=NIFTY26JAN25150CE(15018754) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25200PE(15024642) -> new_pe=NIFTY26JAN25250PE
2026-01-22 13:49:04,435 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 13:49:04,501 - async_event_handlers - INFO - [TIMING] New candle completed at 13:49:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:49:04.501 for sentiment: NEUTRAL
2026-01-22 13:49:04,509 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:49:04,511 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:46:00 -> current=13:47:00, expected_timestamp=13:47:00, df_length=273, W%R(9) prev=-44.56 current=-29.25, W%R(28) prev=-57.67 current=-54.42
2026-01-22 13:49:04,511 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-44.56, current=-29.25, threshold=-79, W%R(28) prev=-57.67, current=-54.42, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:49:04,512 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:46:00 -> current=13:47:00, expected_timestamp=13:47:00, df_length=273, W%R(9) prev=-65.07 current=-84.26, W%R(28) prev=-57.13 current=-61.88
2026-01-22 13:49:04,513 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-65.07, current=-84.26, threshold=-79, W%R(28) prev=-57.13, current=-61.88, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:50:00,536 - root - INFO - ================================================
2026-01-22 13:50:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:49:00] Market Sentiment: BULLISH | OHLC: O=25206.90 H=25213.80 L=25206.90 C=25211.35
2026-01-22 13:50:00,788 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 13:50:00,788 - async_live_ticker_handler - INFO - [13:49:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 13:50:00,841 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:50:00.841 - Latest candle: 13:49:00, DataFrame length: 274
2026-01-22 13:50:00,851 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:49:00, O: 159.1, H: 161.8, L: 157.3, C: 159.4, ST: Bear (162.19), W%R (9): -14.8, W%R (28): -40.2, K: 39.1, D: 29.1
2026-01-22 13:50:00,855 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:49:00 (last_check=13:49:00)
2026-01-22 13:50:01,058 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:50:01.058 - Latest candle: 13:49:00, DataFrame length: 274
2026-01-22 13:50:01,067 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:49:00, O: 136.6, H: 137.9, L: 134.1, C: 135.7, ST: Bull (135.09), W%R (9): -91.8, W%R (28): -74.1, K: 56.6, D: 67.8
2026-01-22 13:50:01,157 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 13:49:00 (last_check=13:49:00)
2026-01-22 13:51:00,536 - root - INFO - ================================================
2026-01-22 13:51:01,068 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:50:00] Market Sentiment: BULLISH | OHLC: O=25211.20 H=25213.20 L=25206.15 C=25206.65
2026-01-22 13:51:01,122 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:51:01.122 - Latest candle: 13:50:00, DataFrame length: 275
2026-01-22 13:51:01,130 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:50:00, O: 160.0, H: 162.0, L: 156.6, C: 159.2, ST: Bear (162.19), W%R (9): -17.6, W%R (28): -40.9, K: 61.6, D: 41.5
2026-01-22 13:51:01,308 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:51:01.308 - Latest candle: 13:50:00, DataFrame length: 275
2026-01-22 13:51:01,318 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:50:00, O: 135.1, H: 138.5, L: 134.0, C: 136.3, ST: Bull (135.09), W%R (9): -88.2, W%R (28): -72.5, K: 35.9, D: 55.3
2026-01-22 13:51:01,321 - async_event_handlers - INFO - [TIMING] New candle completed at 13:50:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:51:01.321 for sentiment: BULLISH
2026-01-22 13:51:01,322 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:51:01,325 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=275)
2026-01-22 13:51:01,326 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:49:00 -> current=13:50:00, expected_timestamp=13:50:00, df_length=275, W%R(9) prev=-14.78 current=-17.65, W%R(28) prev=-40.16 current=-40.93
2026-01-22 13:51:01,326 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-14.78, current=-17.65, threshold=-79, W%R(28) prev=-40.16, current=-40.93, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:51:01,328 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=275)
2026-01-22 13:51:01,329 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:49:00 -> current=13:50:00, expected_timestamp=13:50:00, df_length=275, W%R(9) prev=-91.77 current=-88.21, W%R(28) prev=-74.06 current=-72.47
2026-01-22 13:51:01,329 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-91.77, current=-88.21, threshold=-79, W%R(28) prev=-74.06, current=-72.47, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:52:00,536 - root - INFO - ================================================
2026-01-22 13:52:00,816 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:51:00] Market Sentiment: BULLISH | OHLC: O=25206.30 H=25227.90 L=25206.30 C=25223.15
2026-01-22 13:52:00,928 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:52:00.928 - Latest candle: 13:51:00, DataFrame length: 276
2026-01-22 13:52:00,940 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:51:00, O: 135.8, H: 136.9, L: 127.3, C: 128.9, ST: Bear (147.31), W%R (9): -93.9, W%R (28): -90.5, K: 15.8, D: 36.1
2026-01-22 13:52:01,058 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:52:01.058 - Latest candle: 13:51:00, DataFrame length: 276
2026-01-22 13:52:01,161 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:51:00, O: 159.7, H: 169.5, L: 158.4, C: 166.7, ST: Bull (149.37), W%R (9): -11.8, W%R (28): -17.5, K: 83.4, D: 61.4
2026-01-22 13:52:01,195 - async_event_handlers - INFO - [TIMING] New candle completed at 13:51:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:52:01.195 for sentiment: BULLISH
2026-01-22 13:52:01,197 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:52:01,201 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=276)
2026-01-22 13:52:01,202 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:50:00 -> current=13:51:00, expected_timestamp=13:51:00, df_length=276, W%R(9) prev=-17.65 current=-11.84, W%R(28) prev=-40.93 current=-17.52
2026-01-22 13:52:01,203 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-17.65, current=-11.84, threshold=-79, W%R(28) prev=-40.93, current=-17.52, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:52:01,205 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=276)
2026-01-22 13:52:01,206 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:50:00 -> current=13:51:00, expected_timestamp=13:51:00, df_length=276, W%R(9) prev=-88.21 current=-93.89, W%R(28) prev=-72.47 current=-90.50
2026-01-22 13:52:01,206 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-88.21, current=-93.89, threshold=-79, W%R(28) prev=-72.47, current=-90.50, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 13:53:00,536 - root - INFO - ================================================
2026-01-22 13:53:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:52:00] Market Sentiment: NEUTRAL | OHLC: O=25221.20 H=25232.50 L=25220.80 C=25230.95
2026-01-22 13:53:00,788 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 13:53:00,788 - async_live_ticker_handler - INFO - [13:52:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 13:53:00,868 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:53:00.868 - Latest candle: 13:52:00, DataFrame length: 277
2026-01-22 13:53:00,878 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:52:00, O: 128.3, H: 129.6, L: 124.6, C: 125.0, ST: Bear (141.73), W%R (9): -98.4, W%R (28): -99.0, K: 1.7, D: 17.8
2026-01-22 13:53:01,165 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:53:01.165 - Latest candle: 13:52:00, DataFrame length: 277
2026-01-22 13:53:01,173 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:52:00, O: 165.9, H: 171.3, L: 165.9, C: 170.3, ST: Bull (154.39), W%R (9): -4.3, W%R (28): -6.4, K: 99.3, D: 81.4
2026-01-22 13:53:01,181 - async_event_handlers - INFO - [TIMING] New candle completed at 13:52:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:53:01.181 for sentiment: NEUTRAL
2026-01-22 13:53:01,181 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:53:01,183 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:51:00 -> current=13:52:00, expected_timestamp=13:52:00, df_length=277, W%R(9) prev=-11.84 current=-4.34, W%R(28) prev=-17.52 current=-6.36
2026-01-22 13:53:01,183 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-11.84, current=-4.34, threshold=-79, W%R(28) prev=-17.52, current=-6.36, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:53:01,185 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:51:00 -> current=13:52:00, expected_timestamp=13:52:00, df_length=277, W%R(9) prev=-93.89 current=-98.44, W%R(28) prev=-90.50 current=-99.03
2026-01-22 13:53:01,185 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-93.89, current=-98.44, threshold=-79, W%R(28) prev=-90.50, current=-99.03, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:54:00,536 - root - INFO - ================================================
2026-01-22 13:54:00,559 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:54:00.559 - Latest candle: 13:53:00, DataFrame length: 278
2026-01-22 13:54:00,567 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:53:00, O: 125.3, H: 125.3, L: 120.2, C: 122.0, ST: Bear (136.96), W%R (9): -94.0, W%R (28): -96.1, K: 0.0, D: 5.8
2026-01-22 13:54:01,068 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:53:00] Market Sentiment: BULLISH | OHLC: O=25230.05 H=25239.60 L=25230.05 C=25235.90
2026-01-22 13:54:01,070 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 13:54:01,070 - async_live_ticker_handler - INFO - [13:53:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 13:54:01,150 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:54:01.150 - Latest candle: 13:53:00, DataFrame length: 278
2026-01-22 13:54:01,158 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:53:00, O: 170.3, H: 175.5, L: 170.1, C: 172.2, ST: Bull (158.88), W%R (9): -11.8, W%R (28): -9.5, K: 100.0, D: 94.2
2026-01-22 13:54:01,166 - async_event_handlers - INFO - [TIMING] New candle completed at 13:53:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:54:01.166 for sentiment: BULLISH
2026-01-22 13:54:01,167 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:54:01,169 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=278)
2026-01-22 13:54:01,170 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:52:00 -> current=13:53:00, expected_timestamp=13:53:00, df_length=278, W%R(9) prev=-4.34 current=-11.82, W%R(28) prev=-6.36 current=-9.46
2026-01-22 13:54:01,170 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-4.34, current=-11.82, threshold=-79, W%R(28) prev=-6.36, current=-9.46, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:54:01,172 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=278)
2026-01-22 13:54:01,173 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:52:00 -> current=13:53:00, expected_timestamp=13:53:00, df_length=278, W%R(9) prev=-98.44 current=-94.00, W%R(28) prev=-99.03 current=-96.07
2026-01-22 13:54:01,174 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-98.44, current=-94.00, threshold=-79, W%R(28) prev=-99.03, current=-96.07, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:55:00,536 - root - INFO - ================================================
2026-01-22 13:55:00,618 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:55:00.618 - Latest candle: 13:54:00, DataFrame length: 279
2026-01-22 13:55:00,626 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:54:00, O: 121.6, H: 126.3, L: 121.3, C: 122.5, ST: Bear (136.96), W%R (9): -92.2, W%R (28): -94.9, K: 1.0, D: 0.9
2026-01-22 13:55:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:54:00] Market Sentiment: BULLISH | OHLC: O=25234.85 H=25238.30 L=25228.00 C=25233.40
2026-01-22 13:55:01,060 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:55:01.060 - Latest candle: 13:54:00, DataFrame length: 279
2026-01-22 13:55:01,069 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:54:00, O: 172.2, H: 173.2, L: 167.8, C: 171.2, ST: Bull (158.88), W%R (9): -15.3, W%R (28): -12.3, K: 98.0, D: 99.1
2026-01-22 13:55:01,130 - async_event_handlers - INFO - [TIMING] New candle completed at 13:54:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:55:01.130 for sentiment: BULLISH
2026-01-22 13:55:01,133 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:55:01,138 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=279)
2026-01-22 13:55:01,140 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:53:00 -> current=13:54:00, expected_timestamp=13:54:00, df_length=279, W%R(9) prev=-11.82 current=-15.34, W%R(28) prev=-9.46 current=-12.29
2026-01-22 13:55:01,140 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-11.82, current=-15.34, threshold=-79, W%R(28) prev=-9.46, current=-12.29, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:55:01,142 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=279)
2026-01-22 13:55:01,143 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:53:00 -> current=13:54:00, expected_timestamp=13:54:00, df_length=279, W%R(9) prev=-94.00 current=-92.17, W%R(28) prev=-96.07 current=-94.87
2026-01-22 13:55:01,143 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-94.00, current=-92.17, threshold=-79, W%R(28) prev=-96.07, current=-94.87, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:56:00,536 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:55:00] Market Sentiment: BULLISH | OHLC: O=25232.85 H=25241.10 L=25232.00 C=25236.10
2026-01-22 13:56:00,538 - root - INFO - ================================================
2026-01-22 13:56:00,589 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:56:00.589 - Latest candle: 13:55:00, DataFrame length: 280
2026-01-22 13:56:00,598 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:55:00, O: 172.2, H: 175.8, L: 171.0, C: 171.4, ST: Bull (160.20), W%R (9): -15.6, W%R (28): -12.2, K: 96.4, D: 98.2
2026-01-22 13:56:00,620 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:56:00.620 - Latest candle: 13:55:00, DataFrame length: 280
2026-01-22 13:56:00,628 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:55:00, O: 123.3, H: 123.3, L: 119.2, C: 122.1, ST: Bear (134.51), W%R (9): -90.3, W%R (28): -93.8, K: 1.5, D: 0.8
2026-01-22 13:56:00,665 - async_event_handlers - INFO - [TIMING] New candle completed at 13:55:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:56:00.665 for sentiment: BULLISH
2026-01-22 13:56:00,667 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:56:00,670 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=280)
2026-01-22 13:56:00,671 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:54:00 -> current=13:55:00, expected_timestamp=13:55:00, df_length=280, W%R(9) prev=-15.34 current=-15.59, W%R(28) prev=-12.29 current=-12.20
2026-01-22 13:56:00,672 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-15.34, current=-15.59, threshold=-79, W%R(28) prev=-12.29, current=-12.20, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:56:00,674 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=280)
2026-01-22 13:56:00,675 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:54:00 -> current=13:55:00, expected_timestamp=13:55:00, df_length=280, W%R(9) prev=-92.17 current=-90.35, W%R(28) prev=-94.87 current=-93.81
2026-01-22 13:56:00,675 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-92.17, current=-90.35, threshold=-79, W%R(28) prev=-94.87, current=-93.81, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:57:00,286 - root - INFO - ================================================
2026-01-22 13:57:00,309 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:57:00.309 - Latest candle: 13:56:00, DataFrame length: 281
2026-01-22 13:57:00,318 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:56:00, O: 171.7, H: 172.9, L: 165.3, C: 170.8, ST: Bull (160.20), W%R (9): -22.4, W%R (28): -14.0, K: 93.3, D: 95.9
2026-01-22 13:57:00,618 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:57:00.618 - Latest candle: 13:56:00, DataFrame length: 281
2026-01-22 13:57:00,627 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:56:00, O: 122.5, H: 128.3, L: 121.8, C: 123.0, ST: Bear (134.51), W%R (9): -84.1, W%R (28): -91.9, K: 3.9, D: 2.1
2026-01-22 13:57:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:56:00] Market Sentiment: NEUTRAL | OHLC: O=25235.25 H=25238.20 L=25221.95 C=25228.70
2026-01-22 13:57:00,788 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 13:57:00,788 - async_live_ticker_handler - INFO - [13:56:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 13:57:00,788 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 13:56:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:57:00.788 for sentiment: NEUTRAL
2026-01-22 13:57:00,789 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:57:00,791 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:55:00 -> current=13:56:00, expected_timestamp=13:56:00, df_length=281, W%R(9) prev=-15.59 current=-22.37, W%R(28) prev=-12.20 current=-14.03
2026-01-22 13:57:00,792 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-15.59, current=-22.37, threshold=-79, W%R(28) prev=-12.20, current=-14.03, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:57:00,793 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:55:00 -> current=13:56:00, expected_timestamp=13:56:00, df_length=281, W%R(9) prev=-90.35 current=-84.13, W%R(28) prev=-93.81 current=-91.89
2026-01-22 13:57:00,793 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-90.35, current=-84.13, threshold=-79, W%R(28) prev=-93.81, current=-91.89, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:58:00,536 - root - INFO - ================================================
2026-01-22 13:58:00,619 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:58:00.619 - Latest candle: 13:57:00, DataFrame length: 282
2026-01-22 13:58:00,627 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:57:00, O: 171.1, H: 175.8, L: 168.1, C: 170.0, ST: Bull (160.20), W%R (9): -30.3, W%R (28): -16.4, K: 90.1, D: 93.3
2026-01-22 13:58:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:57:00] Market Sentiment: BULLISH | OHLC: O=25231.30 H=25240.80 L=25229.75 C=25230.85
2026-01-22 13:58:00,788 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 13:58:00,788 - async_live_ticker_handler - INFO - [13:57:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 13:58:00,841 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:58:00.841 - Latest candle: 13:57:00, DataFrame length: 282
2026-01-22 13:58:00,849 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:57:00, O: 122.7, H: 124.0, L: 118.0, C: 123.3, ST: Bear (134.08), W%R (9): -74.2, W%R (28): -89.0, K: 6.2, D: 3.9
2026-01-22 13:58:00,854 - async_event_handlers - INFO - [TIMING] New candle completed at 13:57:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:58:00.854 for sentiment: BULLISH
2026-01-22 13:58:00,855 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:58:00,857 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=282)
2026-01-22 13:58:00,858 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:56:00 -> current=13:57:00, expected_timestamp=13:57:00, df_length=282, W%R(9) prev=-22.37 current=-30.31, W%R(28) prev=-14.03 current=-16.36
2026-01-22 13:58:00,858 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-22.37, current=-30.31, threshold=-79, W%R(28) prev=-14.03, current=-16.36, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:58:00,860 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=282)
2026-01-22 13:58:00,861 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:56:00 -> current=13:57:00, expected_timestamp=13:57:00, df_length=282, W%R(9) prev=-84.13 current=-74.15, W%R(28) prev=-91.89 current=-88.97
2026-01-22 13:58:00,862 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-84.13, current=-74.15, threshold=-79, W%R(28) prev=-91.89, current=-88.97, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 13:58:00,862 - entry_conditions - INFO - Entry2: Trigger detected for NIFTY26JAN25250PE - W%R(9) crossed above threshold: W%R(9) -84.13 -> -74.15, W%R(28) -91.89 -> -88.97, SuperTrend bearish
2026-01-22 13:58:00,862 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25250PE at bar 22 (T, T+1, ..., T+3), window expires at bar 26
2026-01-22 13:59:00,536 - root - INFO - ================================================
2026-01-22 13:59:00,589 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 13:59:00.589 - Latest candle: 13:58:00, DataFrame length: 283
2026-01-22 13:59:00,597 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:58:00, O: 169.8, H: 172.3, L: 167.4, C: 169.3, ST: Bull (160.20), W%R (9): -33.9, W%R (28): -18.3, K: 84.8, D: 89.4
2026-01-22 13:59:00,789 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:58:00] Market Sentiment: NEUTRAL | OHLC: O=25231.10 H=25235.20 L=25226.55 C=25230.55
2026-01-22 13:59:00,790 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 13:59:00,790 - async_live_ticker_handler - INFO - [13:58:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 13:59:00,813 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 13:59:00.813 - Latest candle: 13:58:00, DataFrame length: 283
2026-01-22 13:59:00,822 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:58:00, O: 123.3, H: 124.8, L: 120.4, C: 122.4, ST: Bear (134.08), W%R (9): -78.5, W%R (28): -90.8, K: 7.6, D: 5.9
2026-01-22 13:59:00,854 - async_event_handlers - INFO - [TIMING] New candle completed at 13:58:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 13:59:00.854 for sentiment: NEUTRAL
2026-01-22 13:59:00,856 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 13:59:00,858 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:57:00 -> current=13:58:00, expected_timestamp=13:58:00, df_length=283, W%R(9) prev=-30.31 current=-33.94, W%R(28) prev=-16.36 current=-18.32
2026-01-22 13:59:00,859 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-30.31, current=-33.94, threshold=-79, W%R(28) prev=-16.36, current=-18.32, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 13:59:00,861 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:57:00 -> current=13:58:00, expected_timestamp=13:58:00, df_length=283, W%R(9) prev=-74.15 current=-78.54, W%R(28) prev=-88.97 current=-90.84
2026-01-22 13:59:00,861 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-74.15, current=-78.54, threshold=-79, W%R(28) prev=-88.97, current=-90.84, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 14:00:00,536 - root - INFO - ================================================
2026-01-22 14:00:00,871 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:00:00.870 - Latest candle: 13:59:00, DataFrame length: 284
2026-01-22 14:00:00,879 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 13:59:00, O: 169.9, H: 169.9, L: 164.4, C: 168.8, ST: Bull (160.20), W%R (9): -40.8, W%R (28): -20.4, K: 79.6, D: 84.8
2026-01-22 14:00:01,037 - market_sentiment_v2.realtime_sentiment_manager - INFO - [13:59:00] Market Sentiment: NEUTRAL | OHLC: O=25229.75 H=25230.50 L=25223.60 C=25229.15
2026-01-22 14:00:01,090 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:00:01.090 - Latest candle: 13:59:00, DataFrame length: 284
2026-01-22 14:00:01,099 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 13:59:00, O: 123.0, H: 127.5, L: 121.7, C: 122.0, ST: Bear (134.08), W%R (9): -79.2, W%R (28): -91.4, K: 6.4, D: 6.7
2026-01-22 14:00:01,102 - async_event_handlers - INFO - [TIMING] New candle completed at 13:59:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:00:01.102 for sentiment: NEUTRAL
2026-01-22 14:00:01,104 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:00:01,106 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:58:00 -> current=13:59:00, expected_timestamp=13:59:00, df_length=284, W%R(9) prev=-33.94 current=-40.80, W%R(28) prev=-18.32 current=-20.43
2026-01-22 14:00:01,106 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-33.94, current=-40.80, threshold=-79, W%R(28) prev=-18.32, current=-20.43, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:00:01,107 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25250PE: Fast WPR crossed back below -79 at bar 24: -78.54 -> -79.16
2026-01-22 14:00:01,108 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:58:00 -> current=13:59:00, expected_timestamp=13:59:00, df_length=284, W%R(9) prev=-78.54 current=-79.16, W%R(28) prev=-90.84 current=-91.38
2026-01-22 14:00:01,108 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-78.54, current=-79.16, threshold=-79, W%R(28) prev=-90.84, current=-91.38, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 14:01:00,536 - root - INFO - ================================================
2026-01-22 14:01:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:00:00] Market Sentiment: NEUTRAL | OHLC: O=25228.35 H=25235.35 L=25228.35 C=25232.10
2026-01-22 14:01:00,840 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:01:00.840 - Latest candle: 14:00:00, DataFrame length: 285
2026-01-22 14:01:00,848 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:00:00, O: 168.8, H: 170.9, L: 166.6, C: 169.2, ST: Bull (160.20), W%R (9): -58.8, W%R (28): -22.3, K: 74.4, D: 79.6
2026-01-22 14:01:01,309 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:01:01.308 - Latest candle: 14:00:00, DataFrame length: 285
2026-01-22 14:01:01,317 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:00:00, O: 121.7, H: 123.5, L: 119.5, C: 121.2, ST: Bear (133.61), W%R (9): -71.9, W%R (28): -90.8, K: 3.3, D: 5.8
2026-01-22 14:01:01,319 - async_event_handlers - INFO - [TIMING] New candle completed at 14:00:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:01:01.319 for sentiment: NEUTRAL
2026-01-22 14:01:01,321 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:01:01,322 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=13:59:00 -> current=14:00:00, expected_timestamp=14:00:00, df_length=285, W%R(9) prev=-40.80 current=-58.77, W%R(28) prev=-20.43 current=-22.33
2026-01-22 14:01:01,323 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-40.80, current=-58.77, threshold=-79, W%R(28) prev=-20.43, current=-22.33, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:01:01,324 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=13:59:00 -> current=14:00:00, expected_timestamp=14:00:00, df_length=285, W%R(9) prev=-79.16 current=-71.86, W%R(28) prev=-91.38 current=-90.85
2026-01-22 14:01:01,325 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-79.16, current=-71.86, threshold=-79, W%R(28) prev=-91.38, current=-90.85, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 14:01:01,325 - entry_conditions - INFO - Entry2: NEW TRIGGER DETECTED for NIFTY26JAN25250PE at bar 25 - replacing old trigger at 22 (W%R(9) crossed and W%R(28) was below threshold, WPR9_INVALIDATION=false, allowing trigger replacement)
2026-01-22 14:01:01,325 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25250PE at bar 25 (T, T+1, ..., T+3), window expires at bar 29
2026-01-22 14:02:00,537 - root - INFO - ================================================
2026-01-22 14:02:00,818 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:01:00] Market Sentiment: BULLISH | OHLC: O=25228.85 H=25245.00 L=25226.75 C=25242.55
2026-01-22 14:02:00,819 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 14:02:00,820 - async_live_ticker_handler - INFO - [14:01:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 14:02:00,872 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:02:00.872 - Latest candle: 14:01:00, DataFrame length: 286
2026-01-22 14:02:00,881 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:01:00, O: 167.1, H: 176.8, L: 165.2, C: 175.4, ST: Bull (160.20), W%R (9): -11.0, W%R (28): -4.4, K: 81.3, D: 78.5
2026-01-22 14:02:00,903 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:02:00.903 - Latest candle: 14:01:00, DataFrame length: 286
2026-01-22 14:02:00,911 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:01:00, O: 123.2, H: 124.3, L: 113.7, C: 115.5, ST: Bear (132.03), W%R (9): -87.3, W%R (28): -95.3, K: 1.4, D: 3.7
2026-01-22 14:02:00,918 - async_event_handlers - INFO - [TIMING] New candle completed at 14:01:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:02:00.918 for sentiment: BULLISH
2026-01-22 14:02:00,920 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:02:00,921 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=286)
2026-01-22 14:02:00,922 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=14:00:00 -> current=14:01:00, expected_timestamp=14:01:00, df_length=286, W%R(9) prev=-58.77 current=-10.98, W%R(28) prev=-22.33 current=-4.37
2026-01-22 14:02:00,923 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-58.77, current=-10.98, threshold=-79, W%R(28) prev=-22.33, current=-4.37, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:02:00,923 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25250PE: Fast WPR crossed back below -79 at bar 26: -71.86 -> -87.33
2026-01-22 14:02:00,924 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=286)
2026-01-22 14:02:00,925 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=14:00:00 -> current=14:01:00, expected_timestamp=14:01:00, df_length=286, W%R(9) prev=-71.86 current=-87.33, W%R(28) prev=-90.85 current=-95.35
2026-01-22 14:02:00,925 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-71.86, current=-87.33, threshold=-79, W%R(28) prev=-90.85, current=-95.35, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 14:03:00,536 - root - INFO - ================================================
2026-01-22 14:03:00,588 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:03:00.588 - Latest candle: 14:02:00, DataFrame length: 287
2026-01-22 14:03:00,597 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:02:00, O: 175.0, H: 175.0, L: 169.6, C: 170.2, ST: Bull (160.20), W%R (9): -53.2, W%R (28): -21.2, K: 66.8, D: 74.2
2026-01-22 14:03:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:02:00] Market Sentiment: BULLISH | OHLC: O=25241.10 H=25243.40 L=25237.35 C=25240.30
2026-01-22 14:03:00,841 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:03:00.841 - Latest candle: 14:02:00, DataFrame length: 287
2026-01-22 14:03:00,850 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:02:00, O: 116.0, H: 120.8, L: 116.0, C: 119.9, ST: Bear (131.21), W%R (9): -57.5, W%R (28): -84.4, K: 16.4, D: 7.0
2026-01-22 14:03:00,854 - async_event_handlers - INFO - [TIMING] New candle completed at 14:02:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:03:00.854 for sentiment: BULLISH
2026-01-22 14:03:00,856 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:03:00,858 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=287)
2026-01-22 14:03:00,859 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=14:01:00 -> current=14:02:00, expected_timestamp=14:02:00, df_length=287, W%R(9) prev=-10.98 current=-53.25, W%R(28) prev=-4.37 current=-21.20
2026-01-22 14:03:00,859 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-10.98, current=-53.25, threshold=-79, W%R(28) prev=-4.37, current=-21.20, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:03:00,861 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=287)
2026-01-22 14:03:00,862 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=14:01:00 -> current=14:02:00, expected_timestamp=14:02:00, df_length=287, W%R(9) prev=-87.33 current=-57.53, W%R(28) prev=-95.35 current=-84.42
2026-01-22 14:03:00,862 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-87.33, current=-57.53, threshold=-79, W%R(28) prev=-95.35, current=-84.42, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 14:03:00,862 - entry_conditions - INFO - Entry2: NEW TRIGGER DETECTED for NIFTY26JAN25250PE at bar 27 - replacing old trigger at 25 (W%R(9) crossed and W%R(28) was below threshold, WPR9_INVALIDATION=false, allowing trigger replacement)
2026-01-22 14:03:00,862 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25250PE at bar 27 (T, T+1, ..., T+3), window expires at bar 31
2026-01-22 14:04:00,536 - root - INFO - ================================================
2026-01-22 14:04:00,559 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:04:00.559 - Latest candle: 14:03:00, DataFrame length: 288
2026-01-22 14:04:00,568 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:03:00, O: 170.5, H: 173.3, L: 164.2, C: 164.2, ST: Bull (160.20), W%R (9): -100.0, W%R (28): -40.8, K: 43.8, D: 64.0
2026-01-22 14:04:00,809 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:04:00.808 - Latest candle: 14:03:00, DataFrame length: 288
2026-01-22 14:04:00,817 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:03:00, O: 119.9, H: 125.8, L: 118.2, C: 125.7, ST: Bear (131.21), W%R (9): -18.1, W%R (28): -70.0, K: 49.6, D: 22.5
2026-01-22 14:04:00,880 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:03:00] Market Sentiment: BULLISH | OHLC: O=25240.05 H=25240.20 L=25225.25 C=25225.80
2026-01-22 14:04:00,883 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 14:03:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:04:00.883 for sentiment: BULLISH
2026-01-22 14:04:00,979 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:04:00,987 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=288)
2026-01-22 14:04:00,988 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=True, entry2_in_confirmation=False, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=164.15, close=164.15
2026-01-22 14:04:00,990 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=288)
2026-01-22 14:04:00,991 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=14:02:00 -> current=14:03:00, expected_timestamp=14:03:00, df_length=288, W%R(9) prev=-57.53 current=-18.15, W%R(28) prev=-84.42 current=-69.97
2026-01-22 14:04:00,991 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-57.53, current=-18.15, threshold=-79, W%R(28) prev=-84.42, current=-69.97, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 14:04:00,991 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25250PE - Slow WPR crossed above -77 (-84.42 -> -69.97), SuperTrend1 bearish
2026-01-22 14:04:00,991 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25250PE (flexible mode) - K=49.64 > D=22.47 and K > 20
2026-01-22 14:04:00,991 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25250PE - All confirmations received! - Current NIFTY=25223.55
2026-01-22 14:04:00,992 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25250PE
2026-01-22 14:04:00,992 - entry_conditions - INFO - [MARKET_SENTIMENT_FILTER disabled] BULLISH sentiment: PE entry condition 2 met. Placing PE trade for NIFTY26JAN25250PE (sentiment filter bypassed).
2026-01-22 14:04:00,993 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25250PE (PE) ===
2026-01-22 14:04:01,514 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25250PE has status: OPEN PENDING. Order ID: 2014255214940839936. Proceeding with caution.
2026-01-22 14:04:01,514 - strategy_executor - INFO - [OK] Entry2 TRADE TAKEN for NIFTY26JAN25250PE - Order ID: 2014255214940839936, Quantity: 65, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 14:04:01,515 - trade_state_manager - INFO - New trade added for NIFTY26JAN25250PE. Manual trade: True. Metadata: {'entry_type': 'Entry2'}
2026-01-22 14:04:01,555 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25250PE: 126.55
2026-01-22 14:04:01,556 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25250PE @ 14:04:01 price=126.55
2026-01-22 14:04:01,556 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25250PE - Checking POSITION_MANAGEMENT config...
2026-01-22 14:04:01,556 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25250PE
2026-01-22 14:04:01,556 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25250PE [OK][OK][OK]
2026-01-22 14:04:01,557 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25250PE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 14:04:01,557 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25250PE: {'calculated_sl_price': 117.05, 'last_sl_price': 117.05}
2026-01-22 14:04:01,558 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25250PE: 3 symbols mapped
2026-01-22 14:04:01,558 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25250PE -> 15025666
2026-01-22 14:04:01,558 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25250PE (Entry=126.55, SL=117.05, TP=None, SuperTrendSL=False) [NOTE][NOTE][NOTE]
2026-01-22 14:04:01,558 - realtime_position_manager - INFO - [NOTE] Active positions count: 1
2026-01-22 14:04:01,559 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25250PE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 14:04:01,559 - entry_conditions - INFO - [OK] Entry2 trade successfully executed for NIFTY26JAN25250PE
2026-01-22 14:05:00,536 - root - INFO - ================================================
2026-01-22 14:05:00,559 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:05:00.559 - Latest candle: 14:04:00, DataFrame length: 289
2026-01-22 14:05:00,568 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:04:00, O: 164.1, H: 164.3, L: 158.0, C: 161.9, ST: Bull (160.20), W%R (9): -79.2, W%R (28): -48.1, K: 10.4, D: 40.3
2026-01-22 14:05:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:04:00] Market Sentiment: NEUTRAL | OHLC: O=25223.55 H=25226.35 L=25220.85 C=25223.20
2026-01-22 14:05:00,787 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 14:05:00,788 - async_live_ticker_handler - INFO - [14:04:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 14:05:01,119 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:05:01.119 - Latest candle: 14:04:00, DataFrame length: 289
2026-01-22 14:05:01,127 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:04:00, O: 126.4, H: 130.6, L: 125.0, C: 126.5, ST: Bear (131.21), W%R (9): -24.6, W%R (28): -68.0, K: 83.0, D: 49.7
2026-01-22 14:05:01,134 - async_event_handlers - INFO - [TIMING] New candle completed at 14:04:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:05:01.134 for sentiment: NEUTRAL
2026-01-22 14:05:01,134 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:05:01,136 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=14:03:00 -> current=14:04:00, expected_timestamp=14:04:00, df_length=289, W%R(9) prev=-100.00 current=-79.20, W%R(28) prev=-40.78 current=-48.06
2026-01-22 14:05:01,136 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-100.00, current=-79.20, threshold=-79, W%R(28) prev=-40.78, current=-48.06, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:05:01,181 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 14:06:00,536 - root - INFO - ================================================
2026-01-22 14:06:00,619 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:06:00.619 - Latest candle: 14:05:00, DataFrame length: 290
2026-01-22 14:06:00,630 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:05:00, O: 161.9, H: 167.8, L: 158.8, C: 166.8, ST: Bull (160.20), W%R (9): -53.1, W%R (28): -32.2, K: 10.3, D: 21.5
2026-01-22 14:06:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:05:00] Market Sentiment: NEUTRAL | OHLC: O=25223.65 H=25230.45 L=25221.70 C=25228.35
2026-01-22 14:06:00,841 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:06:00.840 - Latest candle: 14:05:00, DataFrame length: 290
2026-01-22 14:06:00,849 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:05:00, O: 126.5, H: 129.3, L: 121.3, C: 121.3, ST: Bear (131.21), W%R (9): -54.7, W%R (28): -80.8, K: 88.9, D: 73.8
2026-01-22 14:06:00,883 - async_event_handlers - INFO - [TIMING] New candle completed at 14:05:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:06:00.883 for sentiment: NEUTRAL
2026-01-22 14:06:00,885 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:06:00,888 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=14:04:00 -> current=14:05:00, expected_timestamp=14:05:00, df_length=290, W%R(9) prev=-79.20 current=-53.07, W%R(28) prev=-48.06 current=-32.20
2026-01-22 14:06:00,889 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-79.20, current=-53.07, threshold=-79, W%R(28) prev=-48.06, current=-32.20, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:06:00,925 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 14:07:00,536 - root - INFO - ================================================
2026-01-22 14:07:00,620 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:07:00.620 - Latest candle: 14:06:00, DataFrame length: 291
2026-01-22 14:07:00,629 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:06:00, O: 168.0, H: 168.0, L: 157.1, C: 158.9, ST: Bear (177.49), W%R (9): -90.8, W%R (28): -57.8, K: 10.3, D: 10.3
2026-01-22 14:07:00,808 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:07:00.808 - Latest candle: 14:06:00, DataFrame length: 291
2026-01-22 14:07:00,817 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:06:00, O: 120.9, H: 130.1, L: 120.7, C: 128.2, ST: Bear (131.21), W%R (9): -13.9, W%R (28): -63.4, K: 88.9, D: 86.9
2026-01-22 14:07:01,037 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:06:00] Market Sentiment: NEUTRAL | OHLC: O=25227.75 H=25230.80 L=25219.20 C=25220.70
2026-01-22 14:07:01,038 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 14:06:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:07:01.038 for sentiment: NEUTRAL
2026-01-22 14:07:01,071 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:07:01,073 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25200CE: Fast WPR crossed back below -79 at bar 3: -53.07 -> -90.84
2026-01-22 14:07:01,074 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=14:05:00 -> current=14:06:00, expected_timestamp=14:06:00, df_length=291, W%R(9) prev=-53.07 current=-90.84, W%R(28) prev=-32.20 current=-57.77
2026-01-22 14:07:01,074 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-53.07, current=-90.84, threshold=-79, W%R(28) prev=-32.20, current=-57.77, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:07:01,117 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 14:08:00,536 - root - INFO - ================================================
2026-01-22 14:08:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:07:00] Market Sentiment: BEARISH | OHLC: O=25219.30 H=25222.25 L=25212.75 C=25214.95
2026-01-22 14:08:00,787 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 14:08:00,788 - async_live_ticker_handler - INFO - [14:07:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 14:08:00,841 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:08:00.841 - Latest candle: 14:07:00, DataFrame length: 292
2026-01-22 14:08:00,850 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:07:00, O: 157.6, H: 159.2, L: 153.1, C: 155.2, ST: Bear (170.85), W%R (9): -90.9, W%R (28): -69.6, K: 10.3, D: 10.3
2026-01-22 14:08:01,058 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:08:01.058 - Latest candle: 14:07:00, DataFrame length: 292
2026-01-22 14:08:01,067 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:07:00, O: 129.9, H: 132.8, L: 127.6, C: 130.2, ST: Bear (131.21), W%R (9): -13.7, W%R (28): -58.7, K: 88.9, D: 88.9
2026-01-22 14:08:01,069 - async_event_handlers - INFO - [TIMING] New candle completed at 14:07:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:08:01.069 for sentiment: BEARISH
2026-01-22 14:08:01,071 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:08:01,072 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=292)
2026-01-22 14:08:01,073 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=14:06:00 -> current=14:07:00, expected_timestamp=14:07:00, df_length=292, W%R(9) prev=-90.84 current=-90.91, W%R(28) prev=-57.77 current=-69.58
2026-01-22 14:08:01,074 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-90.84, current=-90.91, threshold=-79, W%R(28) prev=-57.77, current=-69.58, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:08:01,075 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=292)
2026-01-22 14:08:01,113 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25250PE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 14:08:25,036 - async_live_ticker_handler - INFO - [TARGET] DYNAMIC_TRAILING_MA: High price 135.50 reached 7% threshold (135.41) above entry 126.55 for NIFTY26JAN25250PE. Activating MA-based trailing.
2026-01-22 14:08:25,036 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25250PE: {'dynamic_trailing_ma_active': True}
2026-01-22 14:08:25,037 - realtime_position_manager - INFO - [SYNC] Synced MA trailing state: Activated for NIFTY26JAN25250PE (threshold reached)
2026-01-22 14:08:58,210 - async_api_server - INFO - Received async command: FORCE_EXIT
2026-01-22 14:08:58,210 - event_system - INFO - [DISPATCH] USER_COMMAND event 'FORCE_EXIT' added to queue. Queue size: 0, Dispatcher running: True
2026-01-22 14:08:58,211 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:14:08:58 +0530] "POST /command HTTP/1.1" 200 247 "-" "python-requests/2.32.4"
2026-01-22 14:08:58,211 - event_system - INFO - [QUEUE] Retrieved USER_COMMAND event from queue: FORCE_EXIT
2026-01-22 14:08:58,211 - event_system - INFO - [EVENT] Processing user_command with 1 handlers
2026-01-22 14:08:58,211 - async_event_handlers - INFO - Processing user command: FORCE_EXIT
2026-01-22 14:08:58,212 - async_event_handlers - INFO - === FORCE EXIT COMMAND RECEIVED ===
2026-01-22 14:08:58,212 - async_event_handlers - INFO - Performing reconciliation with broker positions before force exit...
2026-01-22 14:08:58,258 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 14:08:58,258 - trade_state_manager - INFO - Found 1 active positions in broker: ['NIFTY26JAN25250PE']
2026-01-22 14:08:58,258 - trade_state_manager - INFO - Found 1 active trades in state: ['NIFTY26JAN25250PE']
2026-01-22 14:08:58,258 - trade_state_manager - INFO - Reconciliation: No stale trades found.
2026-01-22 14:08:58,258 - trade_state_manager - INFO - Reconciliation: No untracked positions found.
2026-01-22 14:08:58,259 - async_event_handlers - INFO - Reconciliation completed before force exit.
2026-01-22 14:08:58,259 - async_event_handlers - INFO - --- FORCE EXIT ALL POSITIONS INITIATED ---
2026-01-22 14:08:58,259 - async_event_handlers - INFO - Force Exit: Found 1 active trade(s) to close: ['NIFTY26JAN25250PE']
2026-01-22 14:08:58,259 - async_event_handlers - INFO - --- Attempting to force exit for symbol: NIFTY26JAN25250PE ---
2026-01-22 14:08:58,259 - strategy_executor - INFO - No GTT ID found for NIFTY26JAN25250PE. Proceeding with market exit order.
2026-01-22 14:08:58,259 - strategy_executor - INFO - Got current LTP for NIFTY26JAN25250PE from ticker handler: 137.7
2026-01-22 14:08:58,259 - strategy_executor - INFO - Updating ledger for NIFTY26JAN25250PE with exit price 137.7 (entry: 126.55)
2026-01-22 14:08:58,260 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25250PE @ 14:08:58 price=137.70 pnl=8.81% reason=FORCE_EXIT
2026-01-22 14:08:58,260 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25250PE: FORCE_EXIT @ 137.70
2026-01-22 14:08:58,260 - strategy_executor - INFO - Successfully updated ledger and removed NIFTY26JAN25250PE from active trades
2026-01-22 14:08:58,260 - strategy_executor - INFO - Placing force exit MARKET order with params: {'tradingsymbol': 'NIFTY26JAN25250PE', 'exchange': 'NFO', 'transaction_type': 'SELL', 'quantity': 65, 'product': 'NRML', 'order_type': 'MARKET', 'variety': 'regular'}
2026-01-22 14:08:58,309 - strategy_executor - INFO - Successfully placed force exit MARKET order for NIFTY26JAN25250PE. Order ID: 2014256461244719104
2026-01-22 14:08:58,347 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 14:08:58,347 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 14:08:58,348 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25250PE
2026-01-22 14:08:58,348 - trade_state_manager - INFO - Symbol NIFTY26JAN25250PE not found in active trades, nothing to clear
2026-01-22 14:08:58,348 - async_event_handlers - INFO - --- FORCE EXIT ALL POSITIONS COMPLETED ---
2026-01-22 14:08:58,348 - async_event_handlers - INFO - Explicitly resetting crossover indices after force exit of all positions
2026-01-22 14:08:58,349 - async_event_handlers - INFO - Successfully reset crossover indices after force exit of all positions
2026-01-22 14:08:58,349 - async_event_handlers - INFO - Forcing reconciliation with broker positions after force exit...
2026-01-22 14:08:58,387 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 14:08:58,387 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 14:08:58,387 - async_event_handlers - INFO - Successfully reconciled with broker positions after force exit
2026-01-22 14:08:58,713 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:14:08:58 +0530] "GET /get_config?key=MANUAL_MARKET_SENTIMENT HTTP/1.1" 200 231 "-" "python-requests/2.32.4"
2026-01-22 14:09:00,536 - root - INFO - ================================================
2026-01-22 14:09:00,816 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:08:00] Market Sentiment: BEARISH | OHLC: O=25213.80 H=25215.85 L=25201.35 C=25202.65
2026-01-22 14:09:00,842 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:09:00.842 - Latest candle: 14:08:00, DataFrame length: 293
2026-01-22 14:09:00,850 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:08:00, O: 154.9, H: 155.4, L: 146.2, C: 149.9, ST: Bear (165.84), W%R (9): -87.8, W%R (28): -86.9, K: 0.0, D: 6.9
2026-01-22 14:09:01,089 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:09:01.089 - Latest candle: 14:08:00, DataFrame length: 293
2026-01-22 14:09:01,100 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:08:00, O: 130.8, H: 139.9, L: 129.8, C: 137.1, ST: Bull (120.79), W%R (9): -10.9, W%R (28): -41.3, K: 100.0, D: 92.6
2026-01-22 14:09:01,105 - async_event_handlers - INFO - [TIMING] New candle completed at 14:08:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:09:01.104 for sentiment: BEARISH
2026-01-22 14:09:01,106 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:09:01,107 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=293)
2026-01-22 14:09:01,108 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=14:07:00 -> current=14:08:00, expected_timestamp=14:08:00, df_length=293, W%R(9) prev=-90.91 current=-87.75, W%R(28) prev=-69.58 current=-86.89
2026-01-22 14:09:01,109 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-90.91, current=-87.75, threshold=-79, W%R(28) prev=-69.58, current=-86.89, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 14:09:01,110 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=293)
2026-01-22 14:09:01,111 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=14:07:00 -> current=14:08:00, expected_timestamp=14:08:00, df_length=293, W%R(9) prev=-13.65 current=-10.88, W%R(28) prev=-58.67 current=-41.33
2026-01-22 14:09:01,111 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-13.65, current=-10.88, threshold=-79, W%R(28) prev=-58.67, current=-41.33, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:10:00,536 - root - INFO - ================================================
2026-01-22 14:10:00,850 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:09:00] Market Sentiment: NEUTRAL | OHLC: O=25203.25 H=25212.10 L=25203.25 C=25211.80
2026-01-22 14:10:00,853 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 14:10:00,853 - async_live_ticker_handler - INFO - [14:09:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 14:10:00,939 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:10:00.939 - Latest candle: 14:09:00, DataFrame length: 294
2026-01-22 14:10:00,951 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:09:00, O: 149.8, H: 155.5, L: 149.3, C: 153.1, ST: Bear (165.84), W%R (9): -77.3, W%R (28): -76.5, K: 4.6, D: 5.0
2026-01-22 14:10:01,059 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:10:01.059 - Latest candle: 14:09:00, DataFrame length: 294
2026-01-22 14:10:01,068 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:09:00, O: 136.3, H: 137.9, L: 131.5, C: 132.9, ST: Bull (120.79), W%R (9): -26.7, W%R (28): -51.8, K: 94.3, D: 94.4
2026-01-22 14:10:01,102 - async_event_handlers - INFO - [TIMING] New candle completed at 14:09:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:10:01.102 for sentiment: NEUTRAL
2026-01-22 14:10:01,104 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:10:01,107 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=14:08:00 -> current=14:09:00, expected_timestamp=14:09:00, df_length=294, W%R(9) prev=-87.75 current=-77.29, W%R(28) prev=-86.89 current=-76.54
2026-01-22 14:10:01,107 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-87.75, current=-77.29, threshold=-79, W%R(28) prev=-86.89, current=-76.54, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 14:10:01,107 - entry_conditions - INFO - Entry2: Trigger detected for NIFTY26JAN25200CE - both W%R(9) and W%R(28) crossed above threshold on same candle: W%R(9) -87.75 -> -77.29, W%R(28) -86.89 -> -76.54, SuperTrend bearish
2026-01-22 14:10:01,107 - entry_conditions - INFO - Entry2: Starting 4-candle confirmation window for NIFTY26JAN25200CE at bar 2 (T, T+1, ..., T+3), window expires at bar 6
2026-01-22 14:10:01,108 - entry_conditions - INFO - Entry2: [OK] W%R(28) confirmation for NIFTY26JAN25200CE (same candle as trigger) - Slow WPR crossed above -77 (-86.89 -> -76.54), SuperTrend1 bearish
2026-01-22 14:10:01,109 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=14:08:00 -> current=14:09:00, expected_timestamp=14:09:00, df_length=294, W%R(9) prev=-10.88 current=-26.72, W%R(28) prev=-41.33 current=-51.76
2026-01-22 14:10:01,109 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-10.88, current=-26.72, threshold=-79, W%R(28) prev=-41.33, current=-51.76, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:11:00,536 - root - INFO - ================================================
2026-01-22 14:11:00,851 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:10:00] Market Sentiment: BULLISH | OHLC: O=25211.50 H=25213.80 L=25206.25 C=25212.70
2026-01-22 14:11:00,851 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 14:11:00,852 - async_live_ticker_handler - INFO - [14:10:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 14:11:00,968 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:11:00.968 - Latest candle: 14:10:00, DataFrame length: 295
2026-01-22 14:11:00,976 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:10:00, O: 152.5, H: 156.6, L: 150.6, C: 154.3, ST: Bear (165.84), W%R (9): -71.6, W%R (28): -72.5, K: 10.9, D: 5.2
2026-01-22 14:11:00,999 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:11:00.999 - Latest candle: 14:10:00, DataFrame length: 295
2026-01-22 14:11:01,008 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:10:00, O: 133.2, H: 135.6, L: 129.6, C: 132.0, ST: Bull (120.79), W%R (9): -33.1, W%R (28): -54.0, K: 87.4, D: 93.9
2026-01-22 14:11:01,014 - async_event_handlers - INFO - [TIMING] New candle completed at 14:10:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:11:01.014 for sentiment: BULLISH
2026-01-22 14:11:01,015 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:11:01,015 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=295)
2026-01-22 14:11:01,016 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=14:09:00 -> current=14:10:00, expected_timestamp=14:10:00, df_length=295, W%R(9) prev=-77.29 current=-71.58, W%R(28) prev=-76.54 current=-72.49
2026-01-22 14:11:01,017 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-77.29, current=-71.58, threshold=-79, W%R(28) prev=-76.54, current=-72.49, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:11:01,018 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=295)
2026-01-22 14:11:01,018 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=14:09:00 -> current=14:10:00, expected_timestamp=14:10:00, df_length=295, W%R(9) prev=-26.72 current=-33.12, W%R(28) prev=-51.76 current=-54.02
2026-01-22 14:11:01,019 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-26.72, current=-33.12, threshold=-79, W%R(28) prev=-51.76, current=-54.02, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:12:00,536 - root - INFO - ================================================
2026-01-22 14:12:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:11:00] Market Sentiment: BULLISH | OHLC: O=25212.55 H=25213.30 L=25206.20 C=25206.40
2026-01-22 14:12:00,810 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:12:00.810 - Latest candle: 14:11:00, DataFrame length: 296
2026-01-22 14:12:00,819 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:11:00, O: 154.8, H: 155.4, L: 151.0, C: 152.2, ST: Bear (165.84), W%R (9): -77.9, W%R (28): -80.4, K: 14.9, D: 10.1
2026-01-22 14:12:01,120 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:12:01.120 - Latest candle: 14:11:00, DataFrame length: 296
2026-01-22 14:12:01,131 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:11:00, O: 131.7, H: 135.4, L: 130.8, C: 134.9, ST: Bull (120.79), W%R (9): -23.0, W%R (28): -41.9, K: 84.1, D: 88.6
2026-01-22 14:12:01,134 - async_event_handlers - INFO - [TIMING] New candle completed at 14:11:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:12:01.134 for sentiment: BULLISH
2026-01-22 14:12:01,136 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:12:01,136 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=296)
2026-01-22 14:12:01,137 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=14:10:00 -> current=14:11:00, expected_timestamp=14:11:00, df_length=296, W%R(9) prev=-71.58 current=-77.90, W%R(28) prev=-72.49 current=-80.39
2026-01-22 14:12:01,138 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-71.58, current=-77.90, threshold=-79, W%R(28) prev=-72.49, current=-80.39, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=False]
2026-01-22 14:12:01,139 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=296)
2026-01-22 14:12:01,139 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=14:10:00 -> current=14:11:00, expected_timestamp=14:11:00, df_length=296, W%R(9) prev=-33.12 current=-22.99, W%R(28) prev=-54.02 current=-41.92
2026-01-22 14:12:01,140 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-33.12, current=-22.99, threshold=-79, W%R(28) prev=-54.02, current=-41.92, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:13:00,536 - root - INFO - ================================================
2026-01-22 14:13:00,620 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:13:00.620 - Latest candle: 14:12:00, DataFrame length: 297
2026-01-22 14:13:00,629 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:12:00, O: 151.3, H: 152.2, L: 143.0, C: 143.0, ST: Bear (161.96), W%R (9): -100.0, W%R (28): -100.0, K: 10.3, D: 12.1
2026-01-22 14:13:01,037 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:12:00] Market Sentiment: BEARISH | OHLC: O=25206.45 H=25206.85 L=25188.20 C=25189.35
2026-01-22 14:13:01,038 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 14:13:01,038 - async_live_ticker_handler - INFO - [14:12:00] Market sentiment CHANGED: BULLISH -> BEARISH
2026-01-22 14:13:01,039 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25200CE'] [ALERT][ALERT][ALERT]
2026-01-22 14:13:01,039 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25197.71, close=25189.35 | Would change: CE 25200->25150, PE 25250->25200
2026-01-22 14:13:01,039 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 14:13:01,308 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:13:01.308 - Latest candle: 14:12:00, DataFrame length: 297
2026-01-22 14:13:01,317 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:12:00, O: 135.4, H: 144.6, L: 135.4, C: 144.6, ST: Bull (126.08), W%R (9): 0.0, W%R (28): -15.5, K: 89.8, D: 87.1
2026-01-22 14:13:01,319 - async_event_handlers - INFO - [TIMING] New candle completed at 14:12:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:13:01.319 for sentiment: BEARISH
2026-01-22 14:13:01,320 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:13:01,321 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25200CE: Fast WPR crossed back below -79 at bar 5: -77.90 -> -100.00
2026-01-22 14:13:01,321 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=297)
2026-01-22 14:13:01,322 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25200CE: no_active_trades_same_type=True, entry2_in_confirmation=True, swing_low_valid=False, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True | swing_low=143.0, close=143.0
2026-01-22 14:13:01,322 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=297)
2026-01-22 14:13:01,324 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=14:11:00 -> current=14:12:00, expected_timestamp=14:12:00, df_length=297, W%R(9) prev=-22.99 current=0.00, W%R(28) prev=-41.92 current=-15.48
2026-01-22 14:13:01,325 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-22.99, current=0.00, threshold=-79, W%R(28) prev=-41.92, current=-15.48, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:14:00,536 - root - INFO - ================================================
2026-01-22 14:14:00,819 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:13:00] Market Sentiment: NEUTRAL | OHLC: O=25189.85 H=25191.15 L=25178.85 C=25180.70
2026-01-22 14:14:00,821 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 14:14:00,821 - async_live_ticker_handler - INFO - [14:13:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 14:14:00,822 - async_live_ticker_handler - WARNING - [ALERT][ALERT][ALERT] SLAB CHANGE BLOCKED: Entry2 confirmation window active for: ['NIFTY26JAN25200CE'] [ALERT][ALERT][ALERT]
2026-01-22 14:14:00,822 - async_live_ticker_handler - WARNING - [ALERT] NIFTY (calculated)=25185.14, close=25180.70 | Would change: CE 25200->25150, PE 25250->25200
2026-01-22 14:14:00,822 - async_live_ticker_handler - WARNING - [ALERT] Slab change prevented to protect Entry2 state machine. Will retry after confirmation window expires.
2026-01-22 14:14:00,844 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:14:00.844 - Latest candle: 14:13:00, DataFrame length: 298
2026-01-22 14:14:00,853 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:13:00, O: 143.5, H: 145.3, L: 138.8, C: 140.4, ST: Bear (156.31), W%R (9): -94.7, W%R (28): -95.9, K: 4.0, D: 9.8
2026-01-22 14:14:01,089 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:14:01.089 - Latest candle: 14:13:00, DataFrame length: 298
2026-01-22 14:14:01,098 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:13:00, O: 144.1, H: 149.7, L: 142.3, C: 147.0, ST: Bull (132.04), W%R (9): -9.2, W%R (28): -8.8, K: 96.7, D: 90.2
2026-01-22 14:14:01,131 - async_event_handlers - INFO - [TIMING] New candle completed at 14:13:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:14:01.131 for sentiment: NEUTRAL
2026-01-22 14:14:01,133 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:14:01,135 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=14:12:00 -> current=14:13:00, expected_timestamp=14:13:00, df_length=298, W%R(9) prev=-100.00 current=-94.68, W%R(28) prev=-100.00 current=-95.91
2026-01-22 14:14:01,135 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-100.00, current=-94.68, threshold=-79, W%R(28) prev=-100.00, current=-95.91, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 14:14:01,135 - entry_conditions - INFO - [TIME] Entry2: Window expired for NIFTY26JAN25200CE at bar 6 (trigger=2, window=4, end=6) - W%R(28): OK, StochRSI: X
2026-01-22 14:14:01,137 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=14:12:00 -> current=14:13:00, expected_timestamp=14:13:00, df_length=298, W%R(9) prev=0.00 current=-9.15, W%R(28) prev=-15.48 current=-8.77
2026-01-22 14:14:01,137 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=0.00, current=-9.15, threshold=-79, W%R(28) prev=-15.48, current=-8.77, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:15:00,536 - root - INFO - ================================================
2026-01-22 14:15:00,559 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:15:00.559 - Latest candle: 14:14:00, DataFrame length: 299
2026-01-22 14:15:00,568 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:14:00, O: 140.1, H: 142.9, L: 138.5, C: 140.2, ST: Bear (154.43), W%R (9): -94.4, W%R (28): -95.7, K: 0.0, D: 4.8
2026-01-22 14:15:00,818 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:14:00] Market Sentiment: BEARISH | OHLC: O=25180.25 H=25181.50 L=25176.95 C=25178.35
2026-01-22 14:15:00,820 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 14:15:00,821 - async_live_ticker_handler - INFO - [14:14:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 14:15:00,822 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25179.26
2026-01-22 14:15:00,822 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 14:15:00,822 - root - INFO - Generated symbols: CE=NIFTY26JAN25150CE, PE=NIFTY26JAN25200PE
2026-01-22 14:15:04,401 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 14:15:04,402 - root - INFO - CE: NIFTY26JAN25150CE (Token: 15018754)
2026-01-22 14:15:04,402 - root - INFO - PE: NIFTY26JAN25200PE (Token: 15024642)
2026-01-22 14:15:04,402 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25200CE -> NIFTY26JAN25150CE, PE: NIFTY26JAN25250PE -> NIFTY26JAN25200PE
2026-01-22 14:15:04,597 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 14:14:00: old_ce=NIFTY26JAN25200CE(15024386) -> new_ce=NIFTY26JAN25150CE, old_pe=NIFTY26JAN25250PE(15025666) -> new_pe=NIFTY26JAN25200PE
2026-01-22 14:15:04,598 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25150CE, PE=NIFTY26JAN25200PE
2026-01-22 14:15:04,637 - async_event_handlers - INFO - [TIMING] New candle completed at 14:15:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:15:04.637 for sentiment: BEARISH
2026-01-22 14:15:04,640 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 14:15:04,645 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=300)
2026-01-22 14:15:04,646 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=14:13:00 -> current=14:14:00, expected_timestamp=14:14:00, df_length=300, W%R(9) prev=-94.02 current=-95.89, W%R(28) prev=-95.40 current=-96.83
2026-01-22 14:15:04,647 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-94.02, current=-95.89, threshold=-79, W%R(28) prev=-95.40, current=-96.83, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 14:15:04,648 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=300)
2026-01-22 14:16:00,286 - root - INFO - ================================================
2026-01-22 14:16:00,619 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 14:16:00.619 - Latest candle: 14:15:00, DataFrame length: 301
2026-01-22 14:16:00,628 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 14:15:00, O: 168.2, H: 172.2, L: 167.0, C: 171.8, ST: Bear (184.48), W%R (9): -79.6, W%R (28): -88.9, K: 5.1, D: 3.0
2026-01-22 14:16:00,633 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 14:15:00 (last_check=14:15:00)
2026-01-22 14:16:00,808 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 14:16:00.808 - Latest candle: 14:15:00, DataFrame length: 301
2026-01-22 14:16:00,817 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 14:15:00, O: 126.3, H: 128.2, L: 122.4, C: 123.5, ST: Bull (113.20), W%R (9): -20.6, W%R (28): -13.9, K: 95.6, D: 97.4
2026-01-22 14:16:00,819 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 14:15:00 (last_check=14:15:00)
2026-01-22 14:16:01,037 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:15:00] Market Sentiment: BEARISH | OHLC: O=25178.80 H=25179.95 L=25176.50 C=25178.75
2026-01-22 14:17:00,536 - root - INFO - ================================================
2026-01-22 14:17:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:16:00] Market Sentiment: BEARISH | OHLC: O=25181.00 H=25188.70 L=25181.00 C=25181.90
2026-01-22 14:17:00,935 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 14:17:00.935 - Latest candle: 14:16:00, DataFrame length: 302
2026-01-22 14:17:00,944 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 14:16:00, O: 122.0, H: 122.8, L: 118.5, C: 122.7, ST: Bull (113.20), W%R (9): -26.1, W%R (28): -16.3, K: 89.1, D: 94.9
2026-01-22 14:17:01,089 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 14:17:01.089 - Latest candle: 14:16:00, DataFrame length: 302
2026-01-22 14:17:01,098 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 14:16:00, O: 172.8, H: 176.3, L: 171.4, C: 171.4, ST: Bear (184.48), W%R (9): -78.1, W%R (28): -89.6, K: 10.9, D: 5.3
2026-01-22 14:17:01,102 - async_event_handlers - INFO - [TIMING] New candle completed at 14:16:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:17:01.102 for sentiment: BEARISH
2026-01-22 14:17:01,104 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 14:17:01,105 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=302)
2026-01-22 14:17:01,106 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25150CE during slab change: W%R(9) crossed above threshold comparing prev=14:13:00 -> current=14:16:00, W%R(9) -94.02 -> -78.08, W%R(28) -95.40 -> -89.57
2026-01-22 14:17:01,106 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25150CE at bar 8 (trigger detected during slab change)
2026-01-22 14:17:01,131 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25150CE high mismatch at 14:16:00: current=176.30, kite=176.55, diff=0.25
2026-01-22 14:17:01,131 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25150CE low mismatch at 14:16:00: current=171.45, kite=171.50, diff=0.05
2026-01-22 14:17:01,131 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25150CE close mismatch at 14:16:00: current=171.45, kite=171.70, diff=0.25
2026-01-22 14:17:01,131 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25150CE OHLC validation FAILED at 14:16:00: 3 differences found
2026-01-22 14:17:01,131 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25150CE at 14:16:00 - trigger detected but data may be corrupted
2026-01-22 14:17:01,132 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=14:15:00 -> current=14:16:00, expected_timestamp=14:16:00, df_length=302, W%R(9) prev=-79.61 current=-78.08, W%R(28) prev=-88.86 current=-89.57
2026-01-22 14:17:01,132 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-79.61, current=-78.08, threshold=-79, W%R(28) prev=-88.86, current=-89.57, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 14:17:01,134 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=302)
2026-01-22 14:17:01,135 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=14:15:00 -> current=14:16:00, expected_timestamp=14:16:00, df_length=302, W%R(9) prev=-20.56 current=-26.12, W%R(28) prev=-13.93 current=-16.28
2026-01-22 14:17:01,135 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-20.56, current=-26.12, threshold=-79, W%R(28) prev=-13.93, current=-16.28, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:18:00,536 - root - INFO - ================================================
2026-01-22 14:18:01,058 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 14:18:01.058 - Latest candle: 14:17:00, DataFrame length: 303
2026-01-22 14:18:01,068 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 14:17:00, O: 172.6, H: 173.1, L: 166.9, C: 167.6, ST: Bear (184.19), W%R (9): -96.6, W%R (28): -98.4, K: 12.7, D: 9.6
2026-01-22 14:18:01,121 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 14:18:01.121 - Latest candle: 14:17:00, DataFrame length: 303
2026-01-22 14:18:01,130 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 14:17:00, O: 121.7, H: 127.2, L: 120.8, C: 126.8, ST: Bull (113.20), W%R (9): -6.6, W%R (28): -4.1, K: 87.1, D: 90.6
2026-01-22 14:18:01,132 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:17:00] Market Sentiment: BEARISH | OHLC: O=25181.90 H=25182.15 L=25174.85 C=25175.50
2026-01-22 14:18:01,170 - async_event_handlers - INFO - [TIMING] New candle completed at 14:17:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:18:01.170 for sentiment: BEARISH
2026-01-22 14:18:01,172 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 14:18:01,173 - entry_conditions - INFO - Entry 1 invalidated for NIFTY26JAN25150CE: Fast WPR crossed back below -79 at bar 9: -78.08 -> -96.57
2026-01-22 14:18:01,174 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=303)
2026-01-22 14:18:01,175 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=14:16:00 -> current=14:17:00, expected_timestamp=14:17:00, df_length=303, W%R(9) prev=-78.08 current=-96.57, W%R(28) prev=-89.57 current=-98.36
2026-01-22 14:18:01,176 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-78.08, current=-96.57, threshold=-79, W%R(28) prev=-89.57, current=-98.36, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 14:18:01,177 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=303)
2026-01-22 14:18:01,178 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=14:16:00 -> current=14:17:00, expected_timestamp=14:17:00, df_length=303, W%R(9) prev=-26.12 current=-6.59, W%R(28) prev=-16.28 current=-4.11
2026-01-22 14:18:01,178 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-26.12, current=-6.59, threshold=-79, W%R(28) prev=-16.28, current=-4.11, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:19:00,536 - root - INFO - ================================================
2026-01-22 14:19:00,621 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 14:19:00.621 - Latest candle: 14:18:00, DataFrame length: 304
2026-01-22 14:19:00,629 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 14:18:00, O: 127.2, H: 131.5, L: 127.0, C: 130.3, ST: Bull (117.55), W%R (9): -4.7, W%R (28): -3.1, K: 91.6, D: 89.3
2026-01-22 14:19:00,818 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:18:00] Market Sentiment: NEUTRAL | OHLC: O=25175.30 H=25175.30 L=25168.50 C=25174.50
2026-01-22 14:19:00,820 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 14:19:00,821 - async_live_ticker_handler - INFO - [14:18:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 14:19:01,308 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 14:19:01.308 - Latest candle: 14:18:00, DataFrame length: 304
2026-01-22 14:19:01,318 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 14:18:00, O: 167.0, H: 171.3, L: 163.7, C: 170.4, ST: Bear (181.81), W%R (9): -71.2, W%R (28): -85.2, K: 15.0, D: 12.9
2026-01-22 14:19:01,319 - async_event_handlers - INFO - [TIMING] New candle completed at 14:18:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:19:01.319 for sentiment: NEUTRAL
2026-01-22 14:19:01,321 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 14:19:01,323 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25150CE during slab change: W%R(9) crossed above threshold comparing prev=14:13:00 -> current=14:18:00, W%R(9) -94.02 -> -71.25, W%R(28) -95.40 -> -85.22
2026-01-22 14:19:01,323 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25150CE at bar 10 (trigger detected during slab change)
2026-01-22 14:19:01,349 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25150CE open mismatch at 14:18:00: current=167.00, kite=167.80, diff=0.80
2026-01-22 14:19:01,349 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25150CE high mismatch at 14:18:00: current=171.35, kite=167.80, diff=3.55
2026-01-22 14:19:01,350 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25150CE low mismatch at 14:18:00: current=163.65, kite=163.00, diff=0.65
2026-01-22 14:19:01,350 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25150CE close mismatch at 14:18:00: current=170.45, kite=164.30, diff=6.15
2026-01-22 14:19:01,350 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25150CE OHLC validation FAILED at 14:18:00: 4 differences found
2026-01-22 14:19:01,350 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25150CE at 14:18:00 - trigger detected but data may be corrupted
2026-01-22 14:19:01,350 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=14:17:00 -> current=14:18:00, expected_timestamp=14:18:00, df_length=304, W%R(9) prev=-96.57 current=-71.25, W%R(28) prev=-98.36 current=-85.22
2026-01-22 14:19:01,351 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-96.57, current=-71.25, threshold=-79, W%R(28) prev=-98.36, current=-85.22, crossed=True, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 14:19:01,352 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=14:17:00 -> current=14:18:00, expected_timestamp=14:18:00, df_length=304, W%R(9) prev=-6.59 current=-4.68, W%R(28) prev=-4.11 current=-3.07
2026-01-22 14:19:01,353 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-6.59, current=-4.68, threshold=-79, W%R(28) prev=-4.11, current=-3.07, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:20:00,536 - root - INFO - ================================================
2026-01-22 14:20:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:19:00] Market Sentiment: NEUTRAL | OHLC: O=25173.05 H=25179.15 L=25170.15 C=25179.15
2026-01-22 14:20:01,095 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 14:20:01.095 - Latest candle: 14:19:00, DataFrame length: 305
2026-01-22 14:20:01,104 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 14:19:00, O: 169.6, H: 173.0, L: 166.8, C: 172.9, ST: Bear (181.81), W%R (9): -59.0, W%R (28): -79.8, K: 30.6, D: 19.4
2026-01-22 14:20:01,128 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 14:20:01.128 - Latest candle: 14:19:00, DataFrame length: 305
2026-01-22 14:20:01,137 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 14:19:00, O: 125.7, H: 128.0, L: 122.0, C: 122.3, ST: Bull (117.55), W%R (9): -40.4, W%R (28): -24.6, K: 79.5, D: 86.0
2026-01-22 14:20:01,144 - async_event_handlers - INFO - [TIMING] New candle completed at 14:19:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:20:01.144 for sentiment: NEUTRAL
2026-01-22 14:20:01,144 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 14:20:01,146 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25150CE during slab change: W%R(9) crossed above threshold comparing prev=14:13:00 -> current=14:19:00, W%R(9) -94.02 -> -59.03, W%R(28) -95.40 -> -79.78
2026-01-22 14:20:01,146 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25150CE at bar 11 (trigger detected during slab change)
2026-01-22 14:20:01,172 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25150CE open mismatch at 14:19:00: current=169.55, kite=170.05, diff=0.50
2026-01-22 14:20:01,172 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25150CE close mismatch at 14:19:00: current=172.95, kite=172.40, diff=0.55
2026-01-22 14:20:01,172 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25150CE OHLC validation FAILED at 14:19:00: 2 differences found
2026-01-22 14:20:01,172 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25150CE at 14:19:00 - trigger detected but data may be corrupted
2026-01-22 14:20:01,172 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=14:18:00 -> current=14:19:00, expected_timestamp=14:19:00, df_length=305, W%R(9) prev=-71.25 current=-59.03, W%R(28) prev=-85.22 current=-79.78
2026-01-22 14:20:01,173 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-71.25, current=-59.03, threshold=-79, W%R(28) prev=-85.22, current=-79.78, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=False]
2026-01-22 14:20:01,173 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25150CE (flexible mode) - K=30.64 > D=19.44 and K > 20
2026-01-22 14:20:01,175 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=14:18:00 -> current=14:19:00, expected_timestamp=14:19:00, df_length=305, W%R(9) prev=-4.68 current=-40.35, W%R(28) prev=-3.07 current=-24.60
2026-01-22 14:20:01,175 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-4.68, current=-40.35, threshold=-79, W%R(28) prev=-3.07, current=-24.60, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:20:39,800 - async_api_server - INFO - Received async command: BUY_CE
2026-01-22 14:20:39,801 - event_system - INFO - [DISPATCH] USER_COMMAND event 'BUY_CE' added to queue. Queue size: 0, Dispatcher running: True
2026-01-22 14:20:39,801 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:14:20:39 +0530] "POST /command HTTP/1.1" 200 243 "-" "python-requests/2.32.4"
2026-01-22 14:20:39,802 - event_system - INFO - [QUEUE] Retrieved USER_COMMAND event from queue: BUY_CE
2026-01-22 14:20:39,802 - event_system - INFO - [EVENT] Processing user_command with 1 handlers
2026-01-22 14:20:39,802 - async_event_handlers - INFO - Processing user command: BUY_CE
2026-01-22 14:20:39,802 - async_event_handlers - INFO - === MANUAL TRADE COMMAND RECEIVED: BUY_CE for NIFTY26JAN25150CE ===
2026-01-22 14:20:39,802 - trade_state_manager - INFO - Symbol NIFTY26JAN25150CE not found in active trades, nothing to clear
2026-01-22 14:20:39,802 - async_event_handlers - INFO - Performing non-blocking reconciliation with broker positions after force clear...
2026-01-22 14:20:39,840 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 14:20:39,840 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 14:20:39,841 - async_event_handlers - INFO - Reconciliation completed.
2026-01-22 14:20:39,841 - async_event_handlers - INFO - Executing trade entry for NIFTY26JAN25150CE via strategy executor...
2026-01-22 14:20:39,841 - async_event_handlers - INFO - Executing manual trade entry for NIFTY26JAN25150CE with command BUY_CE
2026-01-22 14:20:39,841 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25150CE (BUY_CE) ===
2026-01-22 14:20:40,303 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:14:20:40 +0530] "GET /get_config?key=MANUAL_MARKET_SENTIMENT HTTP/1.1" 200 231 "-" "python-requests/2.32.4"
2026-01-22 14:20:40,349 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25150CE has status: OPEN PENDING. Order ID: 2014259404383641600. Proceeding with caution.
2026-01-22 14:20:40,349 - strategy_executor - INFO - Successfully placed entry order for NIFTY26JAN25150CE. Order ID: 2014259404383641600, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 14:20:40,349 - trade_state_manager - INFO - New trade added for NIFTY26JAN25150CE. Manual trade: True. Metadata: {'entry_type': 'Manual'}
2026-01-22 14:20:40,386 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25150CE: 181.15
2026-01-22 14:20:40,387 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25150CE @ 14:20:40 price=181.15
2026-01-22 14:20:40,387 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25150CE - Checking POSITION_MANAGEMENT config...
2026-01-22 14:20:40,387 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25150CE
2026-01-22 14:20:40,387 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25150CE [OK][OK][OK]
2026-01-22 14:20:40,387 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25150CE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 14:20:40,388 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25150CE: {'calculated_sl_price': 170.3, 'last_sl_price': 170.3}
2026-01-22 14:20:40,388 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25150CE: 3 symbols mapped
2026-01-22 14:20:40,388 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25150CE -> 15018754
2026-01-22 14:20:40,388 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25150CE (Entry=181.15, SL=170.30, TP=None, SuperTrendSL=False) [NOTE][NOTE][NOTE]
2026-01-22 14:20:40,388 - realtime_position_manager - INFO - [NOTE] Active positions count: 1
2026-01-22 14:20:40,389 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25150CE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 14:21:00,536 - root - INFO - ================================================
2026-01-22 14:21:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:20:00] Market Sentiment: NEUTRAL | OHLC: O=25178.40 H=25197.50 L=25176.90 C=25194.65
2026-01-22 14:21:01,058 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 14:21:01.058 - Latest candle: 14:20:00, DataFrame length: 306
2026-01-22 14:21:01,067 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 14:20:00, O: 172.8, H: 182.7, L: 172.8, C: 181.4, ST: Bear (181.81), W%R (9): -6.8, W%R (28): -61.4, K: 62.2, D: 35.9
2026-01-22 14:21:01,120 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 14:21:01.120 - Latest candle: 14:20:00, DataFrame length: 306
2026-01-22 14:21:01,129 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 14:20:00, O: 122.2, H: 122.2, L: 112.0, C: 113.0, ST: Bear (130.17), W%R (9): -95.4, W%R (28): -49.6, K: 48.0, D: 73.0
2026-01-22 14:21:01,167 - async_event_handlers - INFO - [TIMING] New candle completed at 14:20:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:21:01.167 for sentiment: NEUTRAL
2026-01-22 14:21:01,169 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 14:21:01,211 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2 trigger detected for NIFTY26JAN25150CE during slab change: both W%R(9) and W%R(28) crossed above threshold comparing prev=14:13:00 -> current=14:20:00, W%R(9) -94.02 -> -6.82, W%R(28) -95.40 -> -61.41
2026-01-22 14:21:01,211 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: Starting 4-candle confirmation window for NIFTY26JAN25150CE at bar 1 (trigger detected during slab change)
2026-01-22 14:21:01,212 - entry_conditions - INFO - [SLAB CHANGE TRIGGER] Entry2: W%R(28) confirmation already met for NIFTY26JAN25150CE during slab change trigger
2026-01-22 14:21:01,241 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25150CE open mismatch at 14:20:00: current=172.75, kite=172.95, diff=0.20
2026-01-22 14:21:01,241 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25150CE low mismatch at 14:20:00: current=172.75, kite=172.50, diff=0.25
2026-01-22 14:21:01,241 - entry_conditions - WARNING - [DATA VALIDATION] NIFTY26JAN25150CE close mismatch at 14:20:00: current=181.40, kite=181.95, diff=0.55
2026-01-22 14:21:01,241 - entry_conditions - ERROR - [DATA VALIDATION] NIFTY26JAN25150CE OHLC validation FAILED at 14:20:00: 3 differences found
2026-01-22 14:21:01,241 - entry_conditions - WARNING - [SLAB CHANGE TRIGGER] Data validation failed for NIFTY26JAN25150CE at 14:20:00 - trigger detected but data may be corrupted
2026-01-22 14:21:01,242 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=14:19:00 -> current=14:20:00, expected_timestamp=14:20:00, df_length=306, W%R(9) prev=-59.03 current=-6.82, W%R(28) prev=-79.78 current=-61.41
2026-01-22 14:21:01,242 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-59.03, current=-6.82, threshold=-79, W%R(28) prev=-79.78, current=-61.41, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=True, current>threshold=True]
2026-01-22 14:21:01,242 - entry_conditions - INFO - Entry2: [OK] StochRSI confirmation for NIFTY26JAN25150CE (flexible mode) - K=62.21 > D=35.94 and K > 20
2026-01-22 14:21:01,242 - entry_conditions - INFO - [TARGET] Entry2: BUY SIGNAL GENERATED for NIFTY26JAN25150CE - All confirmations received! - Current NIFTY=25197.05
2026-01-22 14:21:01,243 - entry_conditions - INFO - Entry 2 (4-Bar Window Confirmation) conditions met for NIFTY26JAN25150CE
2026-01-22 14:21:01,244 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=14:19:00 -> current=14:20:00, expected_timestamp=14:20:00, df_length=306, W%R(9) prev=-40.35 current=-95.37, W%R(28) prev=-24.60 current=-49.60
2026-01-22 14:21:01,245 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-40.35, current=-95.37, threshold=-79, W%R(28) prev=-24.60, current=-49.60, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:21:01,245 - entry_conditions - INFO - NEUTRAL mode: Only CE entry condition True met. Placing CE trade for NIFTY26JAN25150CE.
2026-01-22 14:21:01,245 - async_event_handlers - WARNING - Symbol NIFTY26JAN25150CE is still marked as active. This should have been cleaned up already.
2026-01-22 14:21:01,245 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25150CE (CE) ===
2026-01-22 14:21:01,246 - strategy_executor - WARNING - Entry for NIFTY26JAN25150CE blocked. A trade is already active.
2026-01-22 14:21:01,246 - strategy_executor - INFO - Active trades: ['NIFTY26JAN25150CE']
2026-01-22 14:21:01,246 - strategy_executor - INFO - Verifying position with broker for NIFTY26JAN25150CE...
2026-01-22 14:21:01,299 - strategy_executor - INFO - Current broker positions: ['NIFTY26JAN25150CE', 'NIFTY26JAN25200CE', 'NIFTY26JAN25250CE', 'NIFTY26JAN25250PE', 'NIFTY26JAN25300PE', 'NIFTY26JAN25350CE', 'NIFTY26JAN25350PE', 'NIFTY26JAN25400PE']
2026-01-22 14:21:01,299 - strategy_executor - WARNING - Position for NIFTY26JAN25150CE is actually open in broker. Cannot place new trade.
2026-01-22 14:21:01,299 - entry_conditions - INFO - Trade execution result for NIFTY26JAN25150CE: False
2026-01-22 14:21:01,299 - entry_conditions - WARNING - Trade execution failed, not resetting crossover indices
2026-01-22 14:22:00,286 - root - INFO - ================================================
2026-01-22 14:22:00,809 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 14:22:00.809 - Latest candle: 14:21:00, DataFrame length: 307
2026-01-22 14:22:00,818 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 14:21:00, O: 181.2, H: 183.2, L: 176.4, C: 181.2, ST: Bear (181.81), W%R (9): -9.7, W%R (28): -61.7, K: 87.9, D: 60.2
2026-01-22 14:22:00,871 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 14:22:00.871 - Latest candle: 14:21:00, DataFrame length: 307
2026-01-22 14:22:00,880 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 14:21:00, O: 112.7, H: 117.0, L: 111.0, C: 111.7, ST: Bear (126.93), W%R (9): -96.6, W%R (28): -53.1, K: 14.7, D: 47.4
2026-01-22 14:22:00,882 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:21:00] Market Sentiment: BULLISH | OHLC: O=25197.05 H=25200.45 L=25190.25 C=25200.45
2026-01-22 14:22:00,883 - trade_state_manager - INFO - Sentiment set to: BULLISH
2026-01-22 14:22:00,883 - async_live_ticker_handler - INFO - [14:21:00] Market sentiment CHANGED: NEUTRAL -> BULLISH
2026-01-22 14:22:01,080 - async_event_handlers - INFO - [TIMING] New candle completed at 14:21:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:22:01.080 for sentiment: BULLISH
2026-01-22 14:22:01,082 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 14:22:01,089 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=307)
2026-01-22 14:22:01,129 - entry_conditions - INFO - Entry conditions BLOCKED for NIFTY26JAN25150CE: no_active_trades_same_type=False, entry2_in_confirmation=False, swing_low_valid=True, in_trade_window=True, bar_confirmed=True, not_trade_closed_this_bar=True, final_supertrend_check=True
2026-01-22 14:22:01,131 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=307)
2026-01-22 14:22:01,132 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=14:20:00 -> current=14:21:00, expected_timestamp=14:21:00, df_length=307, W%R(9) prev=-95.37 current=-96.59, W%R(28) prev=-49.60 current=-53.07
2026-01-22 14:22:01,132 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-95.37, current=-96.59, threshold=-79, W%R(28) prev=-49.60, current=-53.07, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:22:06,822 - async_api_server - INFO - Received async command: FORCE_EXIT
2026-01-22 14:22:06,822 - event_system - INFO - [DISPATCH] USER_COMMAND event 'FORCE_EXIT' added to queue. Queue size: 0, Dispatcher running: True
2026-01-22 14:22:06,823 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:14:22:06 +0530] "POST /command HTTP/1.1" 200 247 "-" "python-requests/2.32.4"
2026-01-22 14:22:06,823 - event_system - INFO - [QUEUE] Retrieved USER_COMMAND event from queue: FORCE_EXIT
2026-01-22 14:22:06,823 - event_system - INFO - [EVENT] Processing user_command with 1 handlers
2026-01-22 14:22:06,823 - async_event_handlers - INFO - Processing user command: FORCE_EXIT
2026-01-22 14:22:06,823 - async_event_handlers - INFO - === FORCE EXIT COMMAND RECEIVED ===
2026-01-22 14:22:06,823 - async_event_handlers - INFO - Performing reconciliation with broker positions before force exit...
2026-01-22 14:22:06,858 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 14:22:06,858 - trade_state_manager - INFO - Found 1 active positions in broker: ['NIFTY26JAN25150CE']
2026-01-22 14:22:06,858 - trade_state_manager - INFO - Found 1 active trades in state: ['NIFTY26JAN25150CE']
2026-01-22 14:22:06,858 - trade_state_manager - INFO - Reconciliation: No stale trades found.
2026-01-22 14:22:06,859 - trade_state_manager - INFO - Reconciliation: No untracked positions found.
2026-01-22 14:22:06,859 - async_event_handlers - INFO - Reconciliation completed before force exit.
2026-01-22 14:22:06,859 - async_event_handlers - INFO - --- FORCE EXIT ALL POSITIONS INITIATED ---
2026-01-22 14:22:06,859 - async_event_handlers - INFO - Force Exit: Found 1 active trade(s) to close: ['NIFTY26JAN25150CE']
2026-01-22 14:22:06,859 - async_event_handlers - INFO - --- Attempting to force exit for symbol: NIFTY26JAN25150CE ---
2026-01-22 14:22:06,859 - strategy_executor - INFO - No GTT ID found for NIFTY26JAN25150CE. Proceeding with market exit order.
2026-01-22 14:22:06,859 - strategy_executor - INFO - Got current LTP for NIFTY26JAN25150CE from ticker handler: 178.7
2026-01-22 14:22:06,859 - strategy_executor - INFO - Updating ledger for NIFTY26JAN25150CE with exit price 178.7 (entry: 181.15)
2026-01-22 14:22:06,860 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25150CE @ 14:22:06 price=178.70 pnl=-1.35% reason=FORCE_EXIT
2026-01-22 14:22:06,860 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25150CE: FORCE_EXIT @ 178.70
2026-01-22 14:22:06,860 - strategy_executor - INFO - Successfully updated ledger and removed NIFTY26JAN25150CE from active trades
2026-01-22 14:22:06,860 - strategy_executor - INFO - Placing force exit MARKET order with params: {'tradingsymbol': 'NIFTY26JAN25150CE', 'exchange': 'NFO', 'transaction_type': 'SELL', 'quantity': 65, 'product': 'NRML', 'order_type': 'MARKET', 'variety': 'regular'}
2026-01-22 14:22:06,906 - strategy_executor - INFO - Successfully placed force exit MARKET order for NIFTY26JAN25150CE. Order ID: 2014259768881242112
2026-01-22 14:22:06,942 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 14:22:06,942 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 14:22:06,943 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25150CE
2026-01-22 14:22:06,943 - trade_state_manager - INFO - Symbol NIFTY26JAN25150CE not found in active trades, nothing to clear
2026-01-22 14:22:06,943 - async_event_handlers - INFO - --- FORCE EXIT ALL POSITIONS COMPLETED ---
2026-01-22 14:22:06,943 - async_event_handlers - INFO - Explicitly resetting crossover indices after force exit of all positions
2026-01-22 14:22:06,944 - async_event_handlers - INFO - Successfully reset crossover indices after force exit of all positions
2026-01-22 14:22:06,944 - async_event_handlers - INFO - Forcing reconciliation with broker positions after force exit...
2026-01-22 14:22:06,989 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 14:22:06,989 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 14:22:06,989 - async_event_handlers - INFO - Successfully reconciled with broker positions after force exit
2026-01-22 14:22:07,325 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:14:22:07 +0530] "GET /get_config?key=MANUAL_MARKET_SENTIMENT HTTP/1.1" 200 231 "-" "python-requests/2.32.4"
2026-01-22 14:23:00,536 - root - INFO - ================================================
2026-01-22 14:23:00,835 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25150CE at 14:23:00.835 - Latest candle: 14:22:00, DataFrame length: 308
2026-01-22 14:23:00,855 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25150CE: Time: 14:22:00, O: 181.6, H: 184.2, L: 175.7, C: 183.2, ST: Bull (165.11), W%R (9): -5.1, W%R (28): -57.6, K: 99.7, D: 83.3
2026-01-22 14:23:00,887 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 14:23:00.887 - Latest candle: 14:22:00, DataFrame length: 308
2026-01-22 14:23:00,896 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 14:22:00, O: 112.5, H: 116.7, L: 108.4, C: 109.8, ST: Bear (125.83), W%R (9): -93.7, W%R (28): -57.9, K: 0.0, D: 20.9
2026-01-22 14:23:00,897 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:22:00] Market Sentiment: BULLISH | OHLC: O=25198.05 H=25204.10 L=25191.70 C=25203.90
2026-01-22 14:23:00,939 - async_event_handlers - INFO - [TIMING] New candle completed at 14:22:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:23:00.939 for sentiment: BULLISH
2026-01-22 14:23:00,940 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25150CE, PE symbol: NIFTY26JAN25200PE
2026-01-22 14:23:00,941 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25150CE (Entry2 enabled, df_length=308)
2026-01-22 14:23:00,942 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25150CE: comparing candles prev=14:21:00 -> current=14:22:00, expected_timestamp=14:22:00, df_length=308, W%R(9) prev=-9.74 current=-5.11, W%R(28) prev=-61.74 current=-57.61
2026-01-22 14:23:00,946 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25150CE: W%R(9) prev=-9.74, current=-5.11, threshold=-79, W%R(28) prev=-61.74, current=-57.61, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:23:00,947 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200PE (Entry2 enabled, df_length=308)
2026-01-22 14:23:00,948 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200PE: comparing candles prev=14:21:00 -> current=14:22:00, expected_timestamp=14:22:00, df_length=308, W%R(9) prev=-96.59 current=-93.72, W%R(28) prev=-53.07 current=-57.89
2026-01-22 14:23:00,949 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200PE: W%R(9) prev=-96.59, current=-93.72, threshold=-79, W%R(28) prev=-53.07, current=-57.89, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:24:00,536 - root - INFO - ================================================
2026-01-22 14:24:00,683 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25200PE at 14:24:00.683 - Latest candle: 14:23:00, DataFrame length: 309
2026-01-22 14:24:00,691 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200PE: Time: 14:23:00, O: 110.0, H: 113.2, L: 107.4, C: 111.9, ST: Bear (123.44), W%R (9): -81.3, W%R (28): -52.4, K: 3.3, D: 6.0
2026-01-22 14:24:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:23:00] Market Sentiment: NEUTRAL | OHLC: O=25203.10 H=25207.50 L=25201.60 C=25202.20
2026-01-22 14:24:00,787 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 14:24:00,788 - async_live_ticker_handler - INFO - [14:23:00] Market sentiment CHANGED: BULLISH -> NEUTRAL
2026-01-22 14:24:00,789 - dynamic_atm_strike_manager - INFO - Slab Change detected: NIFTY (calculated price)=25203.60
2026-01-22 14:24:00,789 - root - INFO - Attempting to find tokens with format: Monthly
2026-01-22 14:24:00,789 - root - INFO - Generated symbols: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 14:24:04,251 - root - INFO - Updated subscribe_tokens.json with new option symbols:
2026-01-22 14:24:04,252 - root - INFO - CE: NIFTY26JAN25200CE (Token: 15024386)
2026-01-22 14:24:04,252 - root - INFO - PE: NIFTY26JAN25250PE (Token: 15025666)
2026-01-22 14:24:04,252 - entry_conditions - INFO - SKIP_FIRST: Updated symbols - CE: NIFTY26JAN25150CE -> NIFTY26JAN25200CE, PE: NIFTY26JAN25200PE -> NIFTY26JAN25250PE
2026-01-22 14:24:04,439 - async_live_ticker_handler - INFO - [SLAB CHANGE] Entry2 handoff prepared at 14:23:00: old_ce=NIFTY26JAN25150CE(15018754) -> new_ce=NIFTY26JAN25200CE, old_pe=NIFTY26JAN25200PE(15024642) -> new_pe=NIFTY26JAN25250PE
2026-01-22 14:24:04,439 - async_live_ticker_handler - INFO - [OK] Slab Change successful: CE=NIFTY26JAN25200CE, PE=NIFTY26JAN25250PE
2026-01-22 14:24:04,509 - async_event_handlers - INFO - [TIMING] New candle completed at 14:24:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:24:04.509 for sentiment: NEUTRAL
2026-01-22 14:24:04,512 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:24:04,519 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=14:22:00 -> current=14:23:00, expected_timestamp=14:23:00, df_length=309, W%R(9) prev=-6.94 current=-33.07, W%R(28) prev=-59.15 current=-68.66
2026-01-22 14:24:04,519 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-6.94, current=-33.07, threshold=-79, W%R(28) prev=-59.15, current=-68.66, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:24:04,521 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=14:22:00 -> current=14:23:00, expected_timestamp=14:23:00, df_length=309, W%R(9) prev=-96.24 current=-79.85, W%R(28) prev=-56.71 current=-50.41
2026-01-22 14:24:04,521 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-96.24, current=-79.85, threshold=-79, W%R(28) prev=-56.71, current=-50.41, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:24:04,646 - async_api_server - INFO - Received async command: BUY_PE
2026-01-22 14:24:04,646 - event_system - INFO - [DISPATCH] USER_COMMAND event 'BUY_PE' added to queue. Queue size: 0, Dispatcher running: True
2026-01-22 14:24:04,647 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:14:24:04 +0530] "POST /command HTTP/1.1" 200 243 "-" "python-requests/2.32.4"
2026-01-22 14:24:04,647 - event_system - INFO - [QUEUE] Retrieved USER_COMMAND event from queue: BUY_PE
2026-01-22 14:24:04,647 - event_system - INFO - [EVENT] Processing user_command with 1 handlers
2026-01-22 14:24:04,647 - async_event_handlers - INFO - Processing user command: BUY_PE
2026-01-22 14:24:04,647 - async_event_handlers - INFO - === MANUAL TRADE COMMAND RECEIVED: BUY_PE for NIFTY26JAN25250PE ===
2026-01-22 14:24:04,647 - trade_state_manager - INFO - Symbol NIFTY26JAN25250PE not found in active trades, nothing to clear
2026-01-22 14:24:04,647 - async_event_handlers - INFO - Performing non-blocking reconciliation with broker positions after force clear...
2026-01-22 14:24:04,692 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 14:24:04,692 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 14:24:04,693 - async_event_handlers - INFO - Reconciliation completed.
2026-01-22 14:24:04,693 - async_event_handlers - INFO - Executing trade entry for NIFTY26JAN25250PE via strategy executor...
2026-01-22 14:24:04,693 - async_event_handlers - INFO - Executing manual trade entry for NIFTY26JAN25250PE with command BUY_PE
2026-01-22 14:24:04,693 - strategy_executor - INFO - === TRADE ENTRY EXECUTION START: NIFTY26JAN25250PE (BUY_PE) ===
2026-01-22 14:24:05,149 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:14:24:05 +0530] "GET /get_config?key=MANUAL_MARKET_SENTIMENT HTTP/1.1" 200 231 "-" "python-requests/2.32.4"
2026-01-22 14:24:05,186 - strategy_executor - WARNING - [UNKNOWN ORDER STATUS] Entry order for NIFTY26JAN25250PE has status: OPEN PENDING. Order ID: 2014260263565844480. Proceeding with caution.
2026-01-22 14:24:05,186 - strategy_executor - INFO - Successfully placed entry order for NIFTY26JAN25250PE. Order ID: 2014260263565844480, Status: OPEN PENDING, Avg Price: Pending
2026-01-22 14:24:05,186 - trade_state_manager - INFO - New trade added for NIFTY26JAN25250PE. Manual trade: True. Metadata: {'entry_type': 'Manual'}
2026-01-22 14:24:05,224 - strategy_executor - INFO - Updated entry price for NIFTY26JAN25250PE: 136.45
2026-01-22 14:24:05,224 - trade_ledger - INFO - Logged trade entry: NIFTY26JAN25250PE @ 14:24:05 price=136.45
2026-01-22 14:24:05,224 - strategy_executor - CRITICAL - [ALERT] place_exit_orders() CALLED for NIFTY26JAN25250PE - Checking POSITION_MANAGEMENT config...
2026-01-22 14:24:05,224 - strategy_executor - CRITICAL - [SEARCH] Position Management Config Check: ENABLED=True (type=bool), full_config={'ENABLED': True, 'CHECK_INTERVAL_SEC': 1.0, 'GAP_DETECTION': {'ENABLED': True, 'GAP_THRESHOLD_PERCENT': 2.0}, 'EXIT_EXECUTION': {'ORDER_TYPE': 'MARKET', 'MAX_RETRIES': 3, 'RETRY_DELAY_MS': 500}, 'VALIDATION': {'ENABLED': True, 'MAX_RETRIES': 5, 'RETRY_INTERVAL_MS': 500}, 'PERFORMANCE': {'MAX_CONCURRENT_CHECKS': 10, 'BATCH_SIZE': 5}}, symbol=NIFTY26JAN25250PE
2026-01-22 14:24:05,224 - strategy_executor - CRITICAL - [OK][OK][OK] REAL-TIME POSITION MANAGEMENT ENABLED - SKIPPING GTT FOR NIFTY26JAN25250PE [OK][OK][OK]
2026-01-22 14:24:05,225 - strategy_executor - CRITICAL - [OK] Real-time position management enabled. Registering NIFTY26JAN25250PE with RealTimePositionManager (no GTT orders will be placed).
2026-01-22 14:24:05,225 - trade_state_manager - INFO - Updated metadata for NIFTY26JAN25250PE: {'calculated_sl_price': 126.2, 'last_sl_price': 126.2}
2026-01-22 14:24:05,225 - realtime_position_manager - INFO - [LINK] Updated symbol-token mapping for NIFTY26JAN25250PE: 3 symbols mapped
2026-01-22 14:24:05,226 - realtime_position_manager - INFO - [OK] Token mapping verified: NIFTY26JAN25250PE -> 15025666
2026-01-22 14:24:05,226 - realtime_position_manager - CRITICAL - [NOTE][NOTE][NOTE] REGISTERED POSITION FOR MONITORING: NIFTY26JAN25250PE (Entry=136.45, SL=126.20, TP=None, SuperTrendSL=False) [NOTE][NOTE][NOTE]
2026-01-22 14:24:05,226 - realtime_position_manager - INFO - [NOTE] Active positions count: 1
2026-01-22 14:24:05,226 - strategy_executor - CRITICAL - [OK][OK][OK] Successfully registered NIFTY26JAN25250PE with RealTimePositionManager. RETURNING EARLY - NO GTT ORDERS WILL BE PLACED [OK][OK][OK]
2026-01-22 14:24:30,110 - async_api_server - INFO - Received async command: FORCE_EXIT
2026-01-22 14:24:30,111 - event_system - INFO - [DISPATCH] USER_COMMAND event 'FORCE_EXIT' added to queue. Queue size: 0, Dispatcher running: True
2026-01-22 14:24:30,111 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:14:24:30 +0530] "POST /command HTTP/1.1" 200 247 "-" "python-requests/2.32.4"
2026-01-22 14:24:30,111 - event_system - INFO - [QUEUE] Retrieved USER_COMMAND event from queue: FORCE_EXIT
2026-01-22 14:24:30,111 - event_system - INFO - [EVENT] Processing user_command with 1 handlers
2026-01-22 14:24:30,112 - async_event_handlers - INFO - Processing user command: FORCE_EXIT
2026-01-22 14:24:30,112 - async_event_handlers - INFO - === FORCE EXIT COMMAND RECEIVED ===
2026-01-22 14:24:30,112 - async_event_handlers - INFO - Performing reconciliation with broker positions before force exit...
2026-01-22 14:24:30,152 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 14:24:30,152 - trade_state_manager - INFO - Found 1 active positions in broker: ['NIFTY26JAN25250PE']
2026-01-22 14:24:30,152 - trade_state_manager - INFO - Found 1 active trades in state: ['NIFTY26JAN25250PE']
2026-01-22 14:24:30,152 - trade_state_manager - INFO - Reconciliation: No stale trades found.
2026-01-22 14:24:30,152 - trade_state_manager - INFO - Reconciliation: No untracked positions found.
2026-01-22 14:24:30,153 - async_event_handlers - INFO - Reconciliation completed before force exit.
2026-01-22 14:24:30,153 - async_event_handlers - INFO - --- FORCE EXIT ALL POSITIONS INITIATED ---
2026-01-22 14:24:30,153 - async_event_handlers - INFO - Force Exit: Found 1 active trade(s) to close: ['NIFTY26JAN25250PE']
2026-01-22 14:24:30,153 - async_event_handlers - INFO - --- Attempting to force exit for symbol: NIFTY26JAN25250PE ---
2026-01-22 14:24:30,153 - strategy_executor - INFO - No GTT ID found for NIFTY26JAN25250PE. Proceeding with market exit order.
2026-01-22 14:24:30,153 - strategy_executor - INFO - Got current LTP for NIFTY26JAN25250PE from ticker handler: 139.25
2026-01-22 14:24:30,153 - strategy_executor - INFO - Updating ledger for NIFTY26JAN25250PE with exit price 139.25 (entry: 136.45)
2026-01-22 14:24:30,155 - trade_ledger - INFO - Logged trade exit: NIFTY26JAN25250PE @ 14:24:30 price=139.25 pnl=2.05% reason=FORCE_EXIT
2026-01-22 14:24:30,155 - trade_state_manager - INFO - Trade closed for NIFTY26JAN25250PE: FORCE_EXIT @ 139.25
2026-01-22 14:24:30,155 - strategy_executor - INFO - Successfully updated ledger and removed NIFTY26JAN25250PE from active trades
2026-01-22 14:24:30,155 - strategy_executor - INFO - Placing force exit MARKET order with params: {'tradingsymbol': 'NIFTY26JAN25250PE', 'exchange': 'NFO', 'transaction_type': 'SELL', 'quantity': 65, 'product': 'NRML', 'order_type': 'MARKET', 'variety': 'regular'}
2026-01-22 14:24:30,250 - strategy_executor - INFO - Successfully placed force exit MARKET order for NIFTY26JAN25250PE. Order ID: 2014260370071805952
2026-01-22 14:24:30,289 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 14:24:30,289 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 14:24:30,289 - realtime_position_manager - INFO - [DELETE] Unregistered position: NIFTY26JAN25250PE
2026-01-22 14:24:30,290 - trade_state_manager - INFO - Symbol NIFTY26JAN25250PE not found in active trades, nothing to clear
2026-01-22 14:24:30,290 - async_event_handlers - INFO - --- FORCE EXIT ALL POSITIONS COMPLETED ---
2026-01-22 14:24:30,290 - async_event_handlers - INFO - Explicitly resetting crossover indices after force exit of all positions
2026-01-22 14:24:30,290 - async_event_handlers - INFO - Successfully reset crossover indices after force exit of all positions
2026-01-22 14:24:30,290 - async_event_handlers - INFO - Forcing reconciliation with broker positions after force exit...
2026-01-22 14:24:30,343 - trade_state_manager - INFO - Reconciling internal state with broker positions...
2026-01-22 14:24:30,344 - trade_state_manager - INFO - No internal trades to reconcile.
2026-01-22 14:24:30,344 - async_event_handlers - INFO - Successfully reconciled with broker positions after force exit
2026-01-22 14:24:30,613 - aiohttp.access - INFO - 127.0.0.1 [22/Jan/2026:14:24:30 +0530] "GET /get_config?key=MANUAL_MARKET_SENTIMENT HTTP/1.1" 200 231 "-" "python-requests/2.32.4"
2026-01-22 14:25:00,536 - root - INFO - ================================================
2026-01-22 14:25:00,559 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:25:00.559 - Latest candle: 14:24:00, DataFrame length: 310
2026-01-22 14:25:00,569 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:24:00, O: 135.8, H: 140.6, L: 135.8, C: 136.8, ST: Bear (147.24), W%R (9): -73.2, W%R (28): -46.2, K: 11.8, D: 5.4
2026-01-22 14:25:00,663 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 14:24:00 (last_check=14:24:00)
2026-01-22 14:25:00,809 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:25:00.809 - Latest candle: 14:24:00, DataFrame length: 310
2026-01-22 14:25:00,819 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:24:00, O: 149.3, H: 149.3, L: 144.4, C: 147.9, ST: Bull (138.72), W%R (9): -36.7, W%R (28): -70.4, K: 84.3, D: 92.4
2026-01-22 14:25:00,885 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:24:00] Market Sentiment: BEARISH | OHLC: O=25202.10 H=25202.15 L=25192.05 C=25197.95
2026-01-22 14:25:00,886 - async_event_handlers - WARNING - [ENTRY CHECK] Skipping duplicate entry condition check for timestamp: 14:24:00 (last_check=14:24:00)
2026-01-22 14:25:00,887 - trade_state_manager - INFO - Sentiment set to: BEARISH
2026-01-22 14:25:00,887 - async_live_ticker_handler - INFO - [14:24:00] Market sentiment CHANGED: NEUTRAL -> BEARISH
2026-01-22 14:26:00,286 - root - INFO - ================================================
2026-01-22 14:26:00,340 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:26:00.340 - Latest candle: 14:25:00, DataFrame length: 311
2026-01-22 14:26:00,349 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:25:00, O: 148.1, H: 153.8, L: 147.1, C: 151.3, ST: Bull (138.72), W%R (9): -18.8, W%R (28): -62.0, K: 83.0, D: 86.7
2026-01-22 14:26:00,589 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:26:00.589 - Latest candle: 14:25:00, DataFrame length: 311
2026-01-22 14:26:00,600 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:25:00, O: 136.3, H: 137.3, L: 129.2, C: 132.2, ST: Bear (147.24), W%R (9): -88.7, W%R (28): -56.7, K: 12.4, D: 9.5
2026-01-22 14:26:00,786 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:25:00] Market Sentiment: BEARISH | OHLC: O=25197.25 H=25206.90 L=25195.55 C=25206.40
2026-01-22 14:26:00,787 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 14:25:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:26:00.787 for sentiment: BEARISH
2026-01-22 14:26:00,819 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:26:00,822 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25200CE (Entry2 enabled, df_length=311)
2026-01-22 14:26:00,823 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=14:24:00 -> current=14:25:00, expected_timestamp=14:25:00, df_length=311, W%R(9) prev=-36.72 current=-18.75, W%R(28) prev=-70.37 current=-61.95
2026-01-22 14:26:00,824 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-36.72, current=-18.75, threshold=-79, W%R(28) prev=-70.37, current=-61.95, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:26:00,825 - entry_conditions - INFO - [ENTRY CHECK] Checking entry conditions for NIFTY26JAN25250PE (Entry2 enabled, df_length=311)
2026-01-22 14:26:00,826 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=14:24:00 -> current=14:25:00, expected_timestamp=14:25:00, df_length=311, W%R(9) prev=-73.20 current=-88.69, W%R(28) prev=-46.21 current=-56.71
2026-01-22 14:26:00,826 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-73.20, current=-88.69, threshold=-79, W%R(28) prev=-46.21, current=-56.71, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:27:00,536 - root - INFO - ================================================
2026-01-22 14:27:00,590 - async_live_ticker_handler - INFO - [DATA UPDATE] CE DataFrame updated for NIFTY26JAN25200CE at 14:27:00.590 - Latest candle: 14:26:00, DataFrame length: 312
2026-01-22 14:27:00,600 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25200CE: Time: 14:26:00, O: 150.7, H: 153.5, L: 147.6, C: 151.9, ST: Bull (138.72), W%R (9): -15.6, W%R (28): -60.5, K: 90.1, D: 85.8
2026-01-22 14:27:00,623 - async_live_ticker_handler - INFO - [DATA UPDATE] PE DataFrame updated for NIFTY26JAN25250PE at 14:27:00.623 - Latest candle: 14:26:00, DataFrame length: 312
2026-01-22 14:27:00,632 - async_live_ticker_handler - INFO - Async Indicator Update - NIFTY26JAN25250PE: Time: 14:26:00, O: 133.1, H: 136.2, L: 128.8, C: 130.5, ST: Bear (146.78), W%R (9): -93.9, W%R (28): -60.8, K: 8.0, D: 10.7
2026-01-22 14:27:00,787 - market_sentiment_v2.realtime_sentiment_manager - INFO - [14:26:00] Market Sentiment: NEUTRAL | OHLC: O=25205.05 H=25207.65 L=25198.85 C=25207.10
2026-01-22 14:27:00,787 - trade_state_manager - INFO - Sentiment set to: NEUTRAL
2026-01-22 14:27:00,788 - async_live_ticker_handler - INFO - [14:26:00] Market sentiment CHANGED: BEARISH -> NEUTRAL
2026-01-22 14:27:00,788 - async_live_ticker_handler - INFO - [TIMING] New candle completed at 14:26:00 - All updates received (CE: ✓, PE: ✓, Sentiment: ✓). Triggering entry condition check at 14:27:00.788 for sentiment: NEUTRAL
2026-01-22 14:27:00,852 - entry_conditions - INFO - [INFO] Current CE symbol: NIFTY26JAN25200CE, PE symbol: NIFTY26JAN25250PE
2026-01-22 14:27:00,856 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25200CE: comparing candles prev=14:25:00 -> current=14:26:00, expected_timestamp=14:26:00, df_length=312, W%R(9) prev=-18.75 current=-15.63, W%R(28) prev=-61.95 current=-60.49
2026-01-22 14:27:00,858 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25200CE: W%R(9) prev=-18.75, current=-15.63, threshold=-79, W%R(28) prev=-61.95, current=-60.49, crossed=False, cross_conditions=[W%R9: prev<=threshold=False, current>threshold=True, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:27:00,860 - entry_conditions - INFO - Entry2 evaluation for NIFTY26JAN25250PE: comparing candles prev=14:25:00 -> current=14:26:00, expected_timestamp=14:26:00, df_length=312, W%R(9) prev=-88.69 current=-93.87, W%R(28) prev=-56.71 current=-60.79
2026-01-22 14:27:00,860 - entry_conditions - INFO - Entry2 trigger check for NIFTY26JAN25250PE: W%R(9) prev=-88.69, current=-93.87, threshold=-79, W%R(28) prev=-56.71, current=-60.79, crossed=False, cross_conditions=[W%R9: prev<=threshold=True, current>threshold=False, W%R28: prev<=threshold=False, current>threshold=True]
2026-01-22 14:27:29,164 - __main__ - INFO - Received exit signal SIGTERM...
2026-01-22 14:27:29,164 - __main__ - INFO - Stopping bot components...
2026-01-22 14:27:29,164 - __main__ - INFO - [STOP] Stopping Async Trading Bot...
2026-01-22 14:27:29,164 - __main__ - INFO - GTT status check task cancelled
2026-01-22 14:27:29,164 - realtime_position_manager - INFO - [STOP] RealTimePositionManager stopped
2026-01-22 14:27:29,164 - __main__ - INFO - Position manager stopped
2026-01-22 14:27:29,164 - async_live_ticker_handler - INFO - Stopping async WebSocket listener...
2026-01-22 14:27:29,164 - async_live_ticker_handler - INFO - Async WebSocket stopped.
2026-01-22 14:27:29,165 - async_api_server - INFO - Async API server stopped
2026-01-22 14:27:29,165 - __main__ - INFO - [OK] Async Trading Bot stopped
2026-01-22 14:27:29,165 - __main__ - INFO - Bot components stopped successfully
2026-01-22 14:27:29,165 - __main__ - INFO - Cancelling 3 outstanding tasks...
2026-01-22 14:27:29,165 - __main__ - INFO - [RISK] Risk watchdog loop cancelled
2026-01-22 14:27:29,165 - __main__ - INFO - Main event loop cancelled
2026-01-22 14:27:29,165 - __main__ - INFO - [RISK] Drawdown watchdog loop cancelled
2026-01-22 14:27:29,166 - __main__ - INFO - Cleaning up event loop...
2026-01-22 14:27:29,166 - __main__ - INFO - Cancelling 1 remaining tasks during final cleanup...
2026-01-22 14:27:29,166 - __main__ - INFO - Shutting down async generators...
2026-01-22 14:27:29,166 - __main__ - INFO - Closing event loop...
2026-01-22 14:27:29,166 - __main__ - INFO - Event loop closed
2026-01-22 14:27:29,167 - __main__ - INFO - Shutdown complete, exiting process
